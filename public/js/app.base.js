!function(){angular.module("tsportal.busyIndicator",[])}(),function(){"use strict";angular.module("tsportal.auth",[])}(),function(){"use strict";angular.module("tsportal.clickable",[])}(),function(){"use strict";angular.module("tsportal.lead",["ngResource"])}(),function(){"use strict";angular.module("tsportal.messages",[])}(),function(){angular.module("tsportal.pager",[])}(),function(){angular.module("tsportal.slideMenu",[])}(),function(){angular.module("tsportal.tradeshow",["ngResource"])}(),function(){angular.module("tsportal.timeago",[])}(),function(){"use strict";angular.module("tsportal.leads",[])}(),function(){"use strict";angular.module("tsportal.login",[])}(),function(){"use strict";angular.module("tsportal.tradeshows",[])}(),function(){"use strict";function e(e,t,a){function r(a,r,n){function o(){t.$on("$stateChangeStart",function(){e.resetMessage(),e.show()}),t.$on("$stateChangeSuccess",function(){e.hide()})}function s(){return e.isBusy()}t.isBusy=s,o()}var n={restrict:"E",templateUrl:"../views/busyIndicatorView.html",replace:!0,link:r};return n}angular.module("tsportal.busyIndicator").directive("busyIndicator",e),e.$inject=["busyService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,a){t.addClass("clickable"),t.on("click",function(e){null===navigator.userAgent.match(/PhantomJS/g)&&(t.siblings().removeClass("active"),t.addClass("active"))})}var t={restict:"A",link:e};return t}angular.module("tsportal.clickable").directive("clickable",e)}(),function(){"use strict";function e(e,t,a){function r(r,n,o){var s=r.hasOwnProperty("ctrl")?r.ctrl:r;r.$watch(function(){return e.getMessages()},function(e,t){"undefined"!=typeof e&&(s.messages=e)}),t.$on("$stateChangeSuccess",function(){e.purge()}),s.addMessage=function(t){t=e.addMessage(t),a(function(){$(".messages .alert[message-id="+t.id+"]").addClass("in")})},s.removeMessage=function(t){$(".messages .alert[message-id="+t+"]").on("transitionend",function(){r.$apply()}).css("opacity",0),a(function(){e.removeMessage(t)})},s.addSuccessMessage=function(e){var t={icon:"ok",type:"success",iconClass:"icon-medium",dismissible:!0,message:"Your changes have been saved"};return e=$.extend(t,e),s.addMessage(e)},s.addErrorMessage=function(e){var t={type:"danger",dismissible:!0,icon:"exclamation-sign",iconClass:"icon-medium",message:"Sorry, something went wrong."};return e=$.extend(t,e),s.addMessage(e)},s.purgeMessages=function(){e.purge()}}var n={restrict:"E",templateUrl:"../views/messagesView.html",replace:!0,link:r};return n}angular.module("tsportal.messages").directive("messages",e),e.$inject=["messageService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,a){e.getRange=function(e){return new Array(e)}}var t={restrict:"E",scope:{currentPage:"=",totalPages:"=",getResults:"&getResults",tradeshow:"="},templateUrl:"../views/pagerView.html",link:e};return t}angular.module("tsportal.pager").directive("pager",e)}(),function(){"use strict";function e(e,t,a,r,n){function o(o,s,i){function c(){g={hide:function(){s.removeClass("visible")},show:function(){s.addClass("visible")},setAlignment:function(e){o.alignment=e,s.attr("alignment",e)}},o.alignment=o.alignment||(window.outerWidth<=768?"bottom":"right"),t.$on("$stateChangeStart",function(){g.hide()}),n.bind("keyup",function(e){27===e.which&&g.hide()})}function l(){g.hide()}function u(t,n){if(a.menus&&a.menus.hasOwnProperty(t)){for(var i in n)o[i]=n[i];var c=a.menus[t],l=r('<h5 class="slide-menu-title">'+c.title+"</h5>")(o);s.find("h5").replaceWith(l);var u=a.buildMenu(c),d=r(u)(o);e(function(){s.find(".slide-menu-content").html(d),g.show()})}}function d(e){g.setAlignment(e)}var g;o.openMenu=u,o.closeMenu=l,o.setAlignment=d,c()}var s={restrict:"E",replace:!0,transclude:!0,templateUrl:"../views/slideMenuView.html",link:o};return s}angular.module("tsportal.slideMenu").directive("slideMenu",e),e.$inject=["$timeout","$rootScope","slideMenuService","$compile","$document"]}(),function(){"use strict";function e(){function e(e,t,a){e.getTimeAgo=function(e){return moment(e,moment.ISO_8601).fromNow()}}var t={restrict:"E",scope:{time:"="},template:'<span class="time-ago">{{getTimeAgo(time)}}</span>',link:e};return t}angular.module("tsportal.timeago").directive("timeago",e)}(),function(){"use strict";function e(e,t){var a=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return t.url.match(a)&&e.show(),t},response:function(t){return t.config.url.match(a)&&e.hide(),t},responseError:function(r){return r.config.url.match(a)&&e.hide(),t.reject(r)}}}angular.module("tsportal.busyIndicator").config(["$httpProvider",function(t){t.interceptors.push(e)}]),e.$inject=["busyService","$q"]}(),function(){"use strict";function e(e){function t(e,t){s.push({config:e,deferred:t})}function a(e){if(e)for(var t=0;t<s.length;++t)s[t].deferred.reject(e);s=[]}function r(e){for(var t=0;t<s.length;++t)n(e(s[t].config),s[t].deferred);s=[]}function n(t,a){function r(e){a.resolve(e)}function n(e){a.reject(e)}o=o||e.get("$http"),o(t).then(r,n)}var o,s=[],i={append:t,rejectAll:a,retryAll:r,retryHttpRequest:n};return i}function t(e,t,a,r){var n,o,s,i=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return n=n||e.get("authService"),t.url.match(i)&&"/api/authenticate"!=t.url&&!t.headers.hasOwnProperty("Authorization")&&(n.hasToken()?t.headers.Authorization="Bearer "+n.token.get():(s=s||e.get("$state"),s.go("auth"))),t},response:function(t){var a=t.config;return"/api/authenticate"==a.url&&"POST"==a.method&&200==t.status&&(n=n||e.get("authService"),t.data.hasOwnProperty("token")&&(n.token.set(t.data.token),n.loginConfirmed())),t},responseError:function(i){var c=a.defer();switch(n=n||e.get("authService"),s=s||e.get("$state"),i.status){case 400:n.loginCancelled();break;case 401:if(i.data.hasOwnProperty("error")&&"token_expired"==i.data.error)return r.append(i.config,c),t.$broadcast("event:auth-login-required",i),n.hasToken()&&n.refresh(),c.promise;break;case 403:t.$broadcast("event:auth-forbidden",i),n.loginCancelled();break;case 500:o=o||e.get("ngDialog"),o.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>Sorry, something went wrong.  Try again later.</span>'})}return c.reject(i),c.promise}}}angular.module("tsportal.auth").factory("httpBuffer",e).config(["$httpProvider",function(e){e.interceptors.push(t)}]),e.$inject=["$injector"],t.$inject=["$injector","$rootScope","$q","httpBuffer"]}(),function(){"use strict";function e(e,t){function a(){e.workingMessage=p.defaultMessage}function r(e){h=e?!1:!0}function n(e){return d}function o(){g=!1}function s(){return g&&!h}function i(){return $(".loading-indicator").is(":visible")}function c(){this.setMessage(this.defaultMessage)}function l(t){d=e.workingMessage=t}function u(){g=!0}var d,g=!1,h=!1,p={defaultMessage:"Working on it",forceHide:r,getMessage:n,hide:o,isBusy:s,isVisible:i,resetMessage:c,setMessage:l,show:u};return a(),p}angular.module("tsportal.busyIndicator").factory("busyService",e),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t,a,r,n,o,s){function i(){r.get("authCache")||new r("authCache",{maxAge:354e4,deleteOnExpire:"aggressive",storageMode:"localStorage",onExpire:function(e,t){var a=s.get("authService");a.refresh(t).then(function(t){y.put(e,t.data.token)})}}),y=r.get("authCache"),t.isLoggedIn=void 0!==y.get("token")}function c(){var e=a.defer();return this.hasToken()?(t.isLoggedIn=!0,e.resolve()):(this.loginCancelled(),e.reject()),e.promise}function l(){var e=this.token.get();return void 0!==e&&null!==e}function u(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function d(e){var t=a.defer();return n.post("/api/authenticate",e,{cache:!1}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise}function g(e,a){o.rejectAll(a),t.$broadcast("event:auth-login-cancelled",e),this.logout()}function h(e,a){var r=a||function(e){return e};t.$broadcast("event:auth-logged-in",e),t.isLoggedIn=!0,o.retryAll(r)}function p(){this.token.remove(),e.go("auth")}function f(e){var t=a.defer(),r=this,o={cache:!1,headers:{}};return"undefined"!=typeof e&&(o.headers.Authorization="Bearer "+e),n.get("api/authenticate/refresh",o).then(function(e){r.token.set(e.data.token),r.loginConfirmed(),t.resolve(e)})["catch"](function(e){r.loginCancelled(),t.reject(e)}),t.promise}function m(){return y.get("token")}function v(){y.remove("token")}function w(e){y.put("token",e)}var y,$={checkApiAccess:c,hasToken:l,isValidEmail:u,login:d,loginCancelled:g,loginConfirmed:h,logout:p,refresh:f,token:{get:m,set:w,remove:v}};return i(),$}angular.module("tsportal.auth").factory("authService",e),e.$inject=["$state","$rootScope","$q","CacheFactory","$http","httpBuffer","$injector"]}(),function(){"use strict";function e(e,t,a,r,n){function o(t,a,r,n,o,s){return void 0===a&&(a="1"),void 0===n&&(n="updated_at"),void 0===o&&(o=1),void 0===r&&(r=15),void 0===s&&(s=""),e.get("api/tradeshows/"+t+"/leads?page="+a+"&perPage="+r+"&orderBy="+n+"&orderByReverse="+parseInt(o)+"&filter="+s,{cache:!0})}function s(e){var r=e.first_name+" "+e.last_name,o='<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Lead <em>'+r+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>';t.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:o,showClose:!1}).then(function(){n.setMessage("Deleting"),a["delete"]({id:e.id}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?t.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Lead <em>'+r+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+r+"</em>.</span>  Please try again or contact support."})},function(e){t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+r+"</em>.</span>  Please try again or contact support."})})})}var i={deleteLead:s,retrieve:o};return i}angular.module("tsportal.lead").factory("leadService",e),e.$inject=["$http","ngDialog","Lead","$rootScope","busyService"]}(),function(){"use strict";function e(e,t){function a(e){return e.id=s.length+1,s.push(e),e}function r(){return s}function n(e){s[e-1]&&s.splice(e-1,1)}function o(){s=[]}var s=[],i={addMessage:a,getMessages:r,purge:o,removeMessage:n};return i}angular.module("tsportal.messages").factory("messageService",e),e.$inject=["$timeout","$q"]}(),function(){"use strict";function e(){function e(e,t){this.menus[e]=t}function t(e){function t(){}function a(e){var t="";for(var a in e.items){var r=e.items[a],n=r.title||a,o='<a title="'+n+'"',s=r.url,i=r.click,c=r.show;o+=s?' href="/#/'+s+'"':' href="javascript:void(0)"',i&&(o+=' ng-click="'+i+'"'),c&&(o+=' ng-show="'+c+'"'),o+=">"+n+"</a>",t+="<li>"+o+"</li>"}return"<ul>"+t+"</ul>"}var r={menus:this.menus,buildMenu:a};return t(),r}return this.menus={},this.registerMenu=e,this.$get=t,t.$inject=["$rootScope"],this}angular.module("tsportal.slideMenu").provider("slideMenuService",e)}(),function(){"use strict";function e(e,t,a,r,n){function o(e){var a=e.name,o=e.id;i=r.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:'<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Tradeshow <em>'+a+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>',showClose:!1}).then(function(){n.setMessage("Deleting"),t["delete"]({id:o}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?r.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Tradeshow <em>'+a+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):r.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+a+"</em>.</span>  Please try again or contact support."})},function(e){r.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+a+"</em>.</span>  Please try again or contact support."})})})}function s(t,a,r,n,o){return void 0===t&&(t="1"),void 0===r&&(r="updated_at"),void 0===n&&(n=1),void 0===a&&(a=15),void 0===o&&(o=""),e.get("api/tradeshows?page="+t+"&perPage="+a+"&orderBy="+r+"&orderByReverse="+parseInt(n)+"&filter="+o,{cache:!0})}var i,c={retrieve:s,deleteTradeshow:o};return c}angular.module("tsportal.tradeshow").factory("tradeshowService",e),e.$inject=["$http","Tradeshow","$rootScope","ngDialog","busyService"]}(),function(){"use strict";function e(e,t){return e("api/leads/:id",{id:"@id"},{index:{method:"GET",url:"api/tradeshows/:tradeshowId/leads",params:{tradeshowId:"@tradeshowId"}},get:{cache:t.get("defaultCache")}})}angular.module("tsportal.lead").factory("Lead",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t){return e("api/tradeshows/:id",{id:"@id"},{get:{cache:t.get("defaultCache")},create:{method:"POST",url:"api/tradeshows/create"},"delete":{method:"DELETE"}})}angular.module("tsportal.tradeshow").factory("Tradeshow",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t,a,r,n,o){function s(){o.get("loginForm")||new o("loginForm",{maxAge:24192e5,deleteOnExpire:"aggressive",storageMode:"localStorage"}),c.cache=o.get("loginForm"),c.cache.get("rememberMe")&&c.cache.get("email")&&(c.rememberMe=c.cache.get("rememberMe"),c.email=c.cache.get("email")),r.hasToken()&&a.go("tradeshows")}function i(){var e={email:c.email,password:c.password};c.purgeMessages(),r.login(e).then(function(e){c.rememberMe&&(c.cache.put("email",c.email),c.cache.put("rememberMe",c.rememberMe)),a.go("tradeshows")})["catch"](function(e){c.addErrorMessage({message:"The email or password entered was incorrect."})})}var c=this;c.cache=null,c.rememberMe=!1,c.login=i,s()}angular.module("tsportal.login").controller("LoginController",e),e.$inject=["$rootScope","$scope","$state","authService","$timeout","CacheFactory"]}(),function(){"use strict";function e(e){e.logout()}angular.module("tsportal.login").controller("LogoutController",e),e.$inject=["authService"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d){function g(){}function h(){n.go("tradeshowEdit",{id:f.lead.tradeshow_id})}function p(){f.leadForm.$valid&&(l.setMessage("Saving"),i.save(f.lead).$promise.then(function(t){f.lead=t,f.addSuccessMessage(),e.defaults.cache.removeAll()})["catch"](function(e){f.addErrorMessage()}))}var f=this;f.goBack=h,f.save=p,f.lead=d,f.title="Editing Lead",g()}angular.module("tsportal.leads").controller("LeadEditController",e),e.$inject=["$http","$q","$scope","$timeout","$state","$stateParams","ngDialog","Lead","Tradeshow","busyService","messageService","leadData"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i){function c(){o.checkApiAccess()}function l(){a.go("tradeshows")}function u(){d.tradeshowForm.$valid&&(s.setMessage("Saving new"),n.create(d.tradeshow).$promise.then(function(e){var t=e.id;r.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Your new tradeshow has been created successfully.  Close this message box to proceed to the tradeshow\'s edit page.</span>'}).closePromise.then(function(e){a.go("tradeshowEdit",{id:t})})})["catch"](function(e){d.addErrorMessage()}))}var d=this;d.goBack=l,d.save=u,d.isNew=!0,d.titlePrefix="Creating new",d.tradeshow={active:0},c()}angular.module("tsportal.tradeshows").controller("TradeshowCreateController",e),e.$inject=["$scope","$timeout","$state","ngDialog","Tradeshow","authService","busyService","messageService"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d,g,h){function p(){angular.forEach(["currentPage","orderBy","omg","orderByReverse","perPage","query"],function(t){C.formCache.get(t)&&(C[t]=C.formCache.get(t)),e.$watch("ctrl."+t,function(e,a){"undefined"!=typeof e&&C.formCache.put(t,e)})})}function f(e){u.deleteLead(C.pluckLead(e))}function m(e){void 0===e&&(e=C.currentPage),C.lastFetchedPage=e;var a=t.defer();return u.retrieve(C.tradeshow.id,e,C.perPage,C.orderBy,C.orderByReverse,C.query).then(function(e){var t=e.data;C.leads=t.data,C.currentPage=t.current_page,C.totalPages=t.last_page,a.resolve(e)})["catch"](function(e){a.reject(e)}),a.promise}function v(){n.go("tradeshows")}function w(e){for(var t,a=0;t=C.leads[a];a++)if(t.id==e)return t;return!1}function y(){C.getLeads().then(function(e){C.lastFetchedPage>e.data.current_page&&C.getLeads(e.data.last_page)})}function $(){C.tradeshowForm.$valid&&(i.setMessage("Saving"),l.save(C.tradeshow).$promise.then(function(e){C.tradeshow=e,C.addSuccessMessage(),a.defaults.cache.removeAll()})["catch"](function(e){C.addErrorMessage()}))}function b(){1!=C.currentPage&&C.getLeads(1)}var C=this;C.deleteLead=f,C.getLeads=m,C.goBack=v,C.pluckLead=w,C.refreshLeads=y,C.save=$,C.updatePagination=b,C.currentPage=g.data.current_page,C.formCache=h,C.isNew=!1,C.lastFetchedPage=1,C.leads=g.data.data,C.orderBy="updated_at",C.orderByReverse="0",C.perPage="15",C.query="",C.titlePrefix="Editing",C.tradeshow=d,C.totalPages=g.data.last_page,p()}angular.module("tsportal.tradeshows").controller("TradeshowEditController",e),e.$inject=["$scope","$q","$http","CacheFactory","$state","ngDialog","authService","busyService","messageService","Tradeshow","leadService","promisedData","promisedLeadData","promisedFormCache"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d){function g(){angular.forEach(["currentPage","orderBy","orderByReverse","perPage","query"],function(t){var a=b.formCache.get(t);void 0!==a&&null!==a&&(b[t]=a),e.$watch("ctrl."+t,function(e,a){"undefined"!=typeof e&&b.formCache.put(t,e)})})}function h(e){l.deleteLead(b.pluckLead(e))}function p(e){var t=b.pluckTradeshow(e);c.deleteTradeshow(t)}function f(e){window.location.href="/api/tradeshows/"+e+"/report?token="+o.token.get()}function m(e,t){s.forceHide(),void 0===t?t=b.selectedTradeshow:b.selectedTradeshow=t,a(function(){l.retrieve(t.id,e,50,"id",0).then(function(e){s.forceHide(!0);var t=e.data;b.leads=t.data,b.leadCurrentPage=t.current_page,b.leadTotalPages=t.last_page})["catch"](function(e){b.addErrorMessage()})})}function v(e){void 0===e&&(e=b.currentPage),b.lastFetchedPage=e,s.setMessage("Working on it");var a=t.defer();return c.retrieve(e,b.perPage,b.orderBy,b.orderByReverse,b.query).then(function(e){var t=e.data;b.tradeshows=t.data,b.currentPage=t.current_page,b.totalPages=t.last_page,a.resolve(e)})["catch"](function(e){a.reject(e)}),a.promise}function w(e){for(var t,a=0;t=b.leads[a];a++)if(t.id==e)return t;return!1}function y(e){for(var t,a=0;t=b.tradeshows[a];a++)if(t.id==e)return t;return!1}function $(){b.getTradeshows().then(function(e){b.lastFetchedPage>e.data.current_page&&b.getTradeshows(e.data.last_page)})}var b=this;b.deleteTradeshow=p,b.deleteLead=h,b.downloadReport=f,b.getLeads=m,b.getTradeshows=v,b.pluckLead=w,b.pluckTradeshow=y,b.refreshTradeshows=$,b.currentPage=u.data.current_page,b.formCache=d,b.lastFetchedPage=1,b.orderBy="updated_at",b.orderByReverse="1",b.perPage="15",b.query="",b.totalPages=u.data.last_page,b.tradeshows=u.data.data,g()}angular.module("tsportal.tradeshows").controller("TradeshowListController",e),e.$inject=["$scope","$q","$timeout","CacheFactory","ngDialog","authService","busyService","messageService","tradeshowService","leadService","promisedData","promisedFormCache"]}(),function(){"use strict";angular.module("tsportal",["ui.router","angular-jwt","angular-cache","angular-spinkit","ngAnimate","ngDialog","ngResource","frapontillo.bootstrap-switch","angular-chosen","tsportal.auth","tsportal.busyIndicator","tsportal.clickable","tsportal.lead","tsportal.messages","tsportal.pager","tsportal.slideMenu","tsportal.timeago","tsportal.tradeshow","tsportal.leads","tsportal.tradeshows","tsportal.login"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","slideMenuServiceProvider",function(e,t,a,r){r.registerMenu("tradeshow",{title:"Tradeshow<br /><small>{{tradeshow.name}}</small><br /><small>{{tradeshow.lead_count}} leads",items:{edit:{url:"tradeshows/{{tradeshow.id}}/edit",title:"Edit"},"delete":{click:"ctrl.deleteTradeshow(tradeshow.id)",title:"Delete"},report:{click:"ctrl.downloadReport(tradeshow.id)",title:"Excel Report",show:"tradeshow.lead_count > 0"}}}),r.registerMenu("lead",{title:"Lead<br /><small>{{lead.first_name}} {{lead.last_name}}</small><br /><small>{{lead.email_address}}</small>",items:{edit:{url:"leads/{{lead.id}}/edit",title:"Edit"},"delete":{click:"ctrl.deleteLead(lead.id)",title:"Delete"}}}),a.useLegacyPromiseExtensions=!1,t.otherwise("/auth"),e.state("test",{url:"/test",template:"test",controller:"TradeshowListController as ctrl"}).state("auth",{url:"/auth",templateUrl:"../views/loginView.html",controller:"LoginController as ctrl"}).state("logout",{url:"/logout",template:"",controller:"LogoutController as ctrl"}).state("tradeshows",{url:"/tradeshows",templateUrl:"../views/tradeshowListView.html",controller:"TradeshowListController as ctrl",resolve:{promisedData:["tradeshowService","CacheFactory",function(e,t){t.get("formCache")||new t("formCache",{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var a=t.get("formCache");return e.retrieve(a.get("currentPage"),a.get("perPage"),a.get("orderBy"),a.get("orderByReverse"),a.get("query"))}],promisedFormCache:["CacheFactory",function(e){return e.get("formCache")}]}}).state("tradeshowEdit",{url:"/tradeshows/:id/edit",templateUrl:"../views/tradeshowView.html",controller:"TradeshowEditController as ctrl",resolve:{promisedData:["Tradeshow","$stateParams",function(e,t){return e.get({id:t.id}).$promise}],promisedLeadData:["leadService","$stateParams","CacheFactory",function(e,t,a){var r="tradeshow"+t.id+"LeadsForm";a.get(r)||new a(r,{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var n=a.get(r);return e.retrieve(t.id,n.get("currentPage"),n.get("perPage"),n.get("orderBy"),n.get("orderByReverse"),n.get("query"))}],promisedFormCache:["CacheFactory","$stateParams",function(e,t){var a="tradeshow"+t.id+"LeadsForm";return e.get(a)}]}}).state("tradeshowCreate",{url:"/tradeshows/create",templateUrl:"../views/tradeshowView.html",controller:"TradeshowCreateController as ctrl"}).state("leadEdit",{url:"/leads/:id/edit",templateUrl:"../views/leadView.html",controller:"LeadEditController as ctrl",resolve:{leadData:["Lead","$stateParams",function(e,t){return e.get({id:t.id}).$promise}]}})}]).run(["$http","CacheFactory",function(e,t){t.get("defaultCache")||new t("defaultCache",{maxAge:9e5,cacheFlushInterval:36e5,deleteOnExpire:"aggressive"}),e.defaults.cache=t.get("defaultCache")}]).filter("unsafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c3ktaW5kaWNhdG9yL2J1c3lJbmRpY2F0b3IubW9kdWxlLmpzIiwiYXV0aC9hdXRoLm1vZHVsZS5qcyIsImNsaWNrYWJsZS9jbGlja2FibGUubW9kdWxlLmpzIiwibGVhZC9sZWFkLm1vZHVsZS5qcyIsIm1lc3NhZ2VzL21lc3NhZ2VzLm1vZHVsZS5qcyIsInBhZ2VyL3BhZ2VyLm1vZHVsZS5qcyIsInNsaWRlLW1lbnUvc2xpZGVNZW51Lm1vZHVsZS5qcyIsInRyYWRlc2hvdy90cmFkZXNob3cubW9kdWxlLmpzIiwidGltZWFnby90aW1lYWdvLm1vZHVsZS5qcyIsImxlYWRzL2xlYWRzLm1vZHVsZS5qcyIsImxvZ2luL2xvZ2luLm1vZHVsZS5qcyIsInRyYWRlc2hvd3MvdHJhZGVzaG93cy5tb2R1bGUuanMiLCJidXN5LWluZGljYXRvci9idXN5SW5kaWNhdG9yRGlyZWN0aXZlLmpzIiwicHVibGljL2pzL2FwcC5iYXNlLmpzIiwiY2xpY2thYmxlL2NsaWNrYWJsZURpcmVjdGl2ZS5qcyIsIm1lc3NhZ2VzL21lc3NhZ2VzRGlyZWN0aXZlLmpzIiwicGFnZXIvcGFnZXJEaXJlY3RpdmUuanMiLCJzbGlkZS1tZW51L3NsaWRlTWVudURpcmVjdGl2ZS5qcyIsInRpbWVhZ28vdGltZWFnb0RpcmVjdGl2ZS5qcyIsImJ1c3ktaW5kaWNhdG9yL2J1c3lTZXJ2aWNlSW50ZXJjZXB0b3IuanMiLCJhdXRoL2F1dGhJbnRlcmNlcHRvci5qcyIsImJ1c3ktaW5kaWNhdG9yL2J1c3lTZXJ2aWNlLmpzIiwiYXV0aC9hdXRoU2VydmljZS5qcyIsImxlYWQvbGVhZFNlcnZpY2UuanMiLCJtZXNzYWdlcy9tZXNzYWdlU2VydmljZS5qcyIsInNsaWRlLW1lbnUvc2xpZGVNZW51U2VydmljZS5qcyIsInRyYWRlc2hvdy90cmFkZXNob3dTZXJ2aWNlLmpzIiwibGVhZC9sZWFkUmVzb3VyY2UuanMiLCJ0cmFkZXNob3cvdHJhZGVzaG93UmVzb3VyY2UuanMiLCJsb2dpbi9sb2dpbkNvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dvdXRDb250cm9sbGVyLmpzIiwibGVhZHMvZWRpdC9sZWFkRWRpdENvbnRyb2xsZXIuanMiLCJ0cmFkZXNob3dzL2NyZWF0ZS90cmFkZXNob3dDcmVhdGVDb250cm9sbGVyLmpzIiwidHJhZGVzaG93cy9lZGl0L3RyYWRlc2hvd0VkaXRDb250cm9sbGVyLmpzIiwidHJhZGVzaG93cy9saXN0L3RyYWRlc2hvd0xpc3RDb250cm9sbGVyLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJidXN5SW5kaWNhdG9yRGlyZWN0aXZlIiwiYnVzeVNlcnZpY2UiLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCJidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwiYWN0aXZhdGUiLCIkb24iLCJyZXNldE1lc3NhZ2UiLCJzaG93IiwiaGlkZSIsImlzQnVzeSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwibGluayIsIiRpbmplY3QiLCJjbGlja2FibGVEaXJlY3RpdmUiLCJjbGlja2FibGVEaXJlY3RpdmVMaW5rIiwiYWRkQ2xhc3MiLCJvbiIsIiRldmVudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInJlc3RpY3QiLCJtZXNzYWdlc0RpcmVjdGl2ZSIsIm1lc3NhZ2VTZXJ2aWNlIiwibWVzc2FnZXNEaXJlY3RpdmVMaW5rIiwidm0iLCJoYXNPd25Qcm9wZXJ0eSIsImN0cmwiLCIkd2F0Y2giLCJnZXRNZXNzYWdlcyIsIm5ld1ZhbCIsIm9sZFZhbCIsIm1lc3NhZ2VzIiwicHVyZ2UiLCJhZGRNZXNzYWdlIiwiY29uZmlnIiwiJCIsImlkIiwicmVtb3ZlTWVzc2FnZSIsIiRhcHBseSIsImNzcyIsImFkZFN1Y2Nlc3NNZXNzYWdlIiwiZGVmYXVsdHMiLCJpY29uIiwidHlwZSIsImljb25DbGFzcyIsImRpc21pc3NpYmxlIiwibWVzc2FnZSIsImV4dGVuZCIsImFkZEVycm9yTWVzc2FnZSIsInB1cmdlTWVzc2FnZXMiLCJwYWdlckRpcmVjdGl2ZSIsInBhZ2VyRGlyZWN0aXZlTGluayIsImdldFJhbmdlIiwibnVtIiwiQXJyYXkiLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJnZXRSZXN1bHRzIiwidHJhZGVzaG93Iiwic2xpZGVNZW51RGlyZWN0aXZlIiwic2xpZGVNZW51U2VydmljZSIsIiRjb21waWxlIiwiJGRvY3VtZW50Iiwic2xpZGVNZW51RGlyZWN0aXZlTGluayIsIiRzY29wZSIsInNsaWRlTWVudSIsInNldEFsaWdubWVudCIsInBvcyIsImFsaWdubWVudCIsImF0dHIiLCJ3aW5kb3ciLCJvdXRlcldpZHRoIiwiYmluZCIsImUiLCJ3aGljaCIsImNsb3NlTWVudSIsIm9wZW5NZW51IiwibWVudU5hbWUiLCJvYmpNYXAiLCJtZW51cyIsImtleSIsIm1lbnUiLCJjb21waWxlZFRpdGxlIiwidGl0bGUiLCJmaW5kIiwicmVwbGFjZVdpdGgiLCJidWlsdCIsImJ1aWxkTWVudSIsImNvbXBpbGVkIiwiaHRtbCIsInRyYW5zY2x1ZGUiLCJ0aW1lYWdvRGlyZWN0aXZlIiwidGltZWFnb0RpcmVjdGl2ZUxpbmsiLCJnZXRUaW1lQWdvIiwidGltZSIsIm1vbWVudCIsIklTT184NjAxIiwiZnJvbU5vdyIsInRlbXBsYXRlIiwiYnVzeVNlcnZpY2VJbnRlcmNlcHRvciIsIiRxIiwiYXBpUGF0dGVybiIsInJlcXVlc3QiLCJ1cmwiLCJyZXNwb25zZSIsInJlc3BvbnNlRXJyb3IiLCJyZWplY3Rpb24iLCJyZWplY3QiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsImh0dHBCdWZmZXIiLCIkaW5qZWN0b3IiLCJhcHBlbmQiLCJkZWZlcnJlZCIsImJ1ZmZlciIsInJlamVjdEFsbCIsInJlYXNvbiIsImkiLCJsZW5ndGgiLCJyZXRyeUFsbCIsInVwZGF0ZXIiLCJyZXRyeUh0dHBSZXF1ZXN0Iiwic3VjY2Vzc0NhbGxiYWNrIiwicmVzb2x2ZSIsImVycm9yQ2FsbGJhY2siLCIkaHR0cCIsImdldCIsInRoZW4iLCJzZXJ2aWNlIiwiYXV0aEludGVyY2VwdG9yIiwiYXV0aFNlcnZpY2UiLCJuZ0RpYWxvZyIsIiRzdGF0ZSIsImhlYWRlcnMiLCJoYXNUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJ0b2tlbiIsImdvIiwibWV0aG9kIiwic3RhdHVzIiwiZGF0YSIsInNldCIsImxvZ2luQ29uZmlybWVkIiwiZGVmZXIiLCJsb2dpbkNhbmNlbGxlZCIsImVycm9yIiwiJGJyb2FkY2FzdCIsInJlZnJlc2giLCJwcm9taXNlIiwib3BlbiIsInBsYWluIiwiY2xhc3NOYW1lIiwiZmFjdG9yeSIsIndvcmtpbmdNZXNzYWdlIiwiZGVmYXVsdE1lc3NhZ2UiLCJmb3JjZUhpZGUiLCJyZXNldCIsImhpZGRlbkJ5Rm9yY2UiLCJnZXRNZXNzYWdlIiwibXNnIiwiYW1JQnVzeSIsImlzVmlzaWJsZSIsImlzIiwidGhpcyIsInNldE1lc3NhZ2UiLCJDYWNoZUZhY3RvcnkiLCJtYXhBZ2UiLCJkZWxldGVPbkV4cGlyZSIsInN0b3JhZ2VNb2RlIiwib25FeHBpcmUiLCJ2YWx1ZSIsInN2YyIsInBheWxvYWQiLCJjYWNoZSIsInB1dCIsImlzTG9nZ2VkSW4iLCJ1bmRlZmluZWQiLCJjaGVja0FwaUFjY2VzcyIsInQiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsInBhdHRlcm4iLCJ0ZXN0IiwibG9naW4iLCJjcmVkZW50aWFscyIsInBvc3QiLCJsb2dvdXQiLCJjb25maWdVcGRhdGVyIiwicmVtb3ZlIiwidG9rZW5TdHJpbmciLCJ0aGF0IiwidG9rZW5HZXQiLCJ0b2tlblJlbW92ZSIsInRva2VuU2V0IiwibGVhZFNlcnZpY2UiLCJMZWFkIiwicmV0cmlldmUiLCJ0cmFkZWhvd19pZCIsInBhZ2VOdW1iZXIiLCJwZXJQYWdlIiwib3JkZXJCeSIsIm9yZGVyQnlSZXZlcnNlIiwiZmlsdGVyIiwicGFyc2VJbnQiLCJkZWxldGVMZWFkIiwibGVhZCIsImxlYWRfbmFtZSIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJkaWFsb2dfaHRtbCIsIm9wZW5Db25maXJtIiwic2hvd0Nsb3NlIiwiJHByb21pc2UiLCJzdWNjZXNzIiwiY2xvc2VQcm9taXNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvclJlc3BvbnNlIiwic3BsaWNlIiwic2xpZGVNZW51UHJvdmlkZXIiLCJyZWdpc3Rlck1lbnUiLCJuYW1lIiwiYWN0aW9uTmFtZSIsIml0ZW1zIiwiYWN0aW9uIiwib25DbGljayIsImNsaWNrIiwiJGdldCIsInByb3ZpZGVyIiwidHJhZGVzaG93U2VydmljZSIsIlRyYWRlc2hvdyIsImRlbGV0ZVRyYWRlc2hvdyIsInRyYWRlc2hvd19uYW1lIiwidHJhZGVzaG93X2lkIiwiYWN0aXZlRGlhbG9nIiwiJHJlc291cmNlIiwiaW5kZXgiLCJwYXJhbXMiLCJ0cmFkZXNob3dJZCIsImNyZWF0ZSIsImRlbGV0ZSIsIkxvZ2luQ29udHJvbGxlciIsInJlbWVtYmVyTWUiLCJwYXNzd29yZCIsImNvbnRyb2xsZXIiLCJMb2dvdXRDb250cm9sbGVyIiwiTGVhZEVkaXRDb250cm9sbGVyIiwiJHN0YXRlUGFyYW1zIiwibGVhZERhdGEiLCJnb0JhY2siLCJzYXZlIiwibGVhZEZvcm0iLCIkdmFsaWQiLCJyZW1vdmVBbGwiLCJUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyIiwidHJhZGVzaG93Rm9ybSIsImlzTmV3IiwidGl0bGVQcmVmaXgiLCJhY3RpdmUiLCJUcmFkZXNob3dFZGl0Q29udHJvbGxlciIsInByb21pc2VkRGF0YSIsInByb21pc2VkTGVhZERhdGEiLCJwcm9taXNlZEZvcm1DYWNoZSIsImZvckVhY2giLCJmb3JtQ2FjaGUiLCJsZWFkX2lkIiwicGx1Y2tMZWFkIiwiZ2V0TGVhZHMiLCJsYXN0RmV0Y2hlZFBhZ2UiLCJxdWVyeSIsImxlYWRzIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwibiIsInJlZnJlc2hMZWFkcyIsInVwZGF0ZVBhZ2luYXRpb24iLCJUcmFkZXNob3dMaXN0Q29udHJvbGxlciIsInZhck5hbWUiLCJ2YWwiLCJwbHVja1RyYWRlc2hvdyIsImRvd25sb2FkUmVwb3J0IiwiaHJlZiIsInNlbGVjdGVkVHJhZGVzaG93IiwibGVhZEN1cnJlbnRQYWdlIiwibGVhZFRvdGFsUGFnZXMiLCJnZXRUcmFkZXNob3dzIiwidHJhZGVzaG93cyIsInJlZnJlc2hUcmFkZXNob3dzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzbGlkZU1lbnVTZXJ2aWNlUHJvdmlkZXIiLCJlZGl0IiwicmVwb3J0IiwidXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMiLCJvdGhlcndpc2UiLCJzdGF0ZSIsImNhY2hlS2V5IiwicnVuIiwiY2FjaGVGbHVzaEludGVydmFsIiwiJHNjZSIsInRydXN0QXNIdG1sIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBQSxRQUFBQyxPQUFBLGdDQ0RBLFdBQ0EsWUFDQUQsU0FBQUMsT0FBQSx1QkNGQSxXQUNBLFlBQ0FELFNBQUFDLE9BQUEsNEJDRkEsV0FDQSxZQUNBRCxTQUFBQyxPQUFBLGlCQUFBLGtCQ0ZBLFdBQ0EsWUFDQUQsU0FBQUMsT0FBQSwyQkNGQSxXQUNBRCxRQUFBQyxPQUFBLHdCQ0RBLFdBQ0FELFFBQUFDLE9BQUEsNEJDREEsV0FDQUQsUUFBQUMsT0FBQSxzQkFBQSxrQkNEQSxXQUNBRCxRQUFBQyxPQUFBLDBCQ0RBLFdBQ0EsWUFDQUQsU0FBQUMsT0FBQSx3QkNGQSxXQUNBLFlBQ0FELFNBQUFDLE9BQUEsd0JDRkEsV0FDQSxZQUNBRCxTQUFBQyxPQUFBLDZCQ0ZBLFdBRUEsWUFLQSxTQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxHQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBT0EsUUFBQUMsS0FDQU4sRUFBQU8sSUFBQSxvQkFBQSxXQUNBUixFQUFBUyxlQUNBVCxFQUFBVSxTQUVBVCxFQUFBTyxJQUFBLHNCQUFBLFdBQ0FSLEVBQUFXLFNBSUEsUUFBQUMs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QUFSLEVBQUF2QyxJQUFBLG1CQUVBNEUsT0FBQSxVQUFBLE9BQUEsU0FBQWlHLEdBQ0EsTUFBQSxVQUFBckIsR0FDQSxNQUFBcUIsR0FBQUMsWUFBQXRCIiwiZmlsZSI6InB1YmxpYy9qcy9hcHAuYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuXHRhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5hdXRoJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmNsaWNrYWJsZScsIFtdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5sZWFkJywgWyduZ1Jlc291cmNlJ10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLm1lc3NhZ2VzJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHRhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwucGFnZXInLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5zbGlkZU1lbnUnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC50cmFkZXNob3cnLCBbJ25nUmVzb3VyY2UnXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC50aW1lYWdvJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmxlYWRzJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmxvZ2luJywgW10pO1xyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnLCBbXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnYnVzeUluZGljYXRvcicsIGJ1c3lJbmRpY2F0b3JEaXJlY3RpdmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGJ1c3lJbmRpY2F0b3JEaXJlY3RpdmUoYnVzeVNlcnZpY2UsICRyb290U2NvcGUsICR0aW1lb3V0KSB7XHJcbiAgICAgICAgdmFyIGlzQXBwQnVzeSAgICAgICA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1N0YXRlTG9hZGluZyAgPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2J1c3lJbmRpY2F0b3JWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rOiBidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGlua1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5pc0J1c3kgPSBpc0J1c3k7XHJcblxyXG4gICAgICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLnJlc2V0TWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNCdXN5KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1c3lTZXJ2aWNlLmlzQnVzeSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpO1xyXG4iLG51bGwsIihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmNsaWNrYWJsZScpXHJcbiAgICAgICAgLmRpcmVjdGl2ZShcImNsaWNrYWJsZVwiLCBjbGlja2FibGVEaXJlY3RpdmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsaWNrYWJsZURpcmVjdGl2ZSgpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xyXG4gICAgICAgICAgICByZXN0aWN0OiAnQScsXHJcblxyXG4gICAgICAgICAgICBsaW5rOiBjbGlja2FibGVEaXJlY3RpdmVMaW5rXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vXHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBjbGlja2FibGVEaXJlY3RpdmVMaW5rKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwiY2xpY2thYmxlXCIpO1xyXG4gICAgICAgICAgICBlbGVtLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvUGhhbnRvbUpTL2cpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLm1lc3NhZ2VzJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdtZXNzYWdlcycsIG1lc3NhZ2VzRGlyZWN0aXZlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBtZXNzYWdlc0RpcmVjdGl2ZShtZXNzYWdlU2VydmljZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcclxuXHJcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9tZXNzYWdlc1ZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbms6IG1lc3NhZ2VzRGlyZWN0aXZlTGlua1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vL1xyXG4gICAgXHJcbiAgICAgICAgZnVuY3Rpb24gbWVzc2FnZXNEaXJlY3RpdmVMaW5rKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSBzY29wZS5oYXNPd25Qcm9wZXJ0eSgnY3RybCcpID8gc2NvcGUuY3RybCA6IHNjb3BlO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lc3NhZ2VTZXJ2aWNlLmdldE1lc3NhZ2VzKCk7IH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2VzID0gbmV3VmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZS5wdXJnZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZtLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbiBhZGRNZXNzYWdlKGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gbWVzc2FnZVNlcnZpY2UuYWRkTWVzc2FnZShjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tZXNzYWdlcyAuYWxlcnRbbWVzc2FnZS1pZD1cIitjb25maWcuaWQrXCJdXCIpLmFkZENsYXNzKFwiaW5cIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbiByZW1vdmVNZXNzYWdlKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm1lc3NhZ2VzIC5hbGVydFttZXNzYWdlLWlkPVwiK2lkK1wiXVwiKS5vbihcInRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsIDApO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UucmVtb3ZlTWVzc2FnZShpZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmFkZFN1Y2Nlc3NNZXNzYWdlID0gZnVuY3Rpb24gYWRkU3VjY2Vzc01lc3NhZ2UoY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ29rJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiAnaWNvbi1tZWRpdW0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VyIGNoYW5nZXMgaGF2ZSBiZWVuIHNhdmVkJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25maWcgPSAkLmV4dGVuZChkZWZhdWx0cywgY29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm0uYWRkTWVzc2FnZShjb25maWcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0uYWRkRXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdleGNsYW1hdGlvbi1zaWduJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6ICdpY29uLW1lZGl1bScsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuXCJcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uZmlnID0gJC5leHRlbmQoZGVmYXVsdHMsIGNvbmZpZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZtLmFkZE1lc3NhZ2UoY29uZmlnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnB1cmdlTWVzc2FnZXMgPSBmdW5jdGlvbiBwdXJnZU1lc3NhZ2VzKCkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UucHVyZ2UoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwucGFnZXInKVxyXG4gICAgLmRpcmVjdGl2ZSgncGFnZXInLCBwYWdlckRpcmVjdGl2ZSk7XHJcblxyXG4gIGZ1bmN0aW9uIHBhZ2VyRGlyZWN0aXZlKCkge1xyXG4gICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgY3VycmVudFBhZ2U6ICc9JyxcclxuICAgICAgICAgIHRvdGFsUGFnZXM6ICc9JyxcclxuICAgICAgICAgIGdldFJlc3VsdHM6ICcmZ2V0UmVzdWx0cycsXHJcbiAgICAgICAgICB0cmFkZXNob3c6ICc9J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9wYWdlclZpZXcuaHRtbCcsXHJcbiAgICAgICAgbGluazogcGFnZXJEaXJlY3RpdmVMaW5rXHJcbiAgICAgfTtcclxuXHJcbiAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgLy8vLy8vLy8vXHJcbiAgIFxyXG4gICAgIGZ1bmN0aW9uIHBhZ2VyRGlyZWN0aXZlTGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICBzY29wZS5nZXRSYW5nZSA9IGZ1bmN0aW9uKG51bSkge1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShudW0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnNsaWRlTWVudScpXHJcblx0XHQuZGlyZWN0aXZlKCdzbGlkZU1lbnUnLCBzbGlkZU1lbnVEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzbGlkZU1lbnVEaXJlY3RpdmUoJHRpbWVvdXQsICRyb290U2NvcGUsIHNsaWRlTWVudVNlcnZpY2UsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcclxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdHRyYW5zY2x1ZGU6IHRydWUsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnLi4vdmlld3Mvc2xpZGVNZW51Vmlldy5odG1sJyxcclxuXHRcdFx0bGluazogc2xpZGVNZW51RGlyZWN0aXZlTGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuXHRcdC8vLy8vLy8vXHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHNsaWRlTWVudURpcmVjdGl2ZUxpbmsoJHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG5cdFx0XHR2YXIgc2xpZGVNZW51O1xyXG5cclxuXHRcdFx0JHNjb3BlLm9wZW5NZW51ID0gb3Blbk1lbnU7XHJcblx0XHRcdCRzY29wZS5jbG9zZU1lbnUgPSBjbG9zZU1lbnU7XHJcblx0XHRcdCRzY29wZS5zZXRBbGlnbm1lbnQgPSBzZXRBbGlnbm1lbnQ7XHJcblxyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vXHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0XHRzbGlkZU1lbnUgPSB7XHJcblx0XHRcdFx0XHRoaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHNob3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRlbGVtLmFkZENsYXNzKCd2aXNpYmxlJyk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0c2V0QWxpZ25tZW50OiBmdW5jdGlvbihwb3MpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmFsaWdubWVudCA9IHBvcztcclxuXHRcdFx0XHRcdFx0ZWxlbS5hdHRyKCdhbGlnbm1lbnQnLCBwb3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdCRzY29wZS5hbGlnbm1lbnQgPSAkc2NvcGUuYWxpZ25tZW50IHx8ICh3aW5kb3cub3V0ZXJXaWR0aCA8PSA3NjggPyBcImJvdHRvbVwiIDogXCJyaWdodFwiKTtcclxuXHJcblx0XHRcdFx0JHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRzbGlkZU1lbnUuaGlkZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRkb2N1bWVudC5iaW5kKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHQgICAgIGlmIChlLndoaWNoID09PSAyNykge1xyXG5cdFx0XHRcdCAgIFx0XHRzbGlkZU1lbnUuaGlkZSgpOyAgXHRcclxuXHRcdFx0XHQgICAgIH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG5cdFx0XHRcdHNsaWRlTWVudS5oaWRlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIG9wZW5NZW51KG1lbnVOYW1lLCBvYmpNYXApIHtcclxuXHRcdFx0XHRpZiAoc2xpZGVNZW51U2VydmljZS5tZW51cyAmJiBzbGlkZU1lbnVTZXJ2aWNlLm1lbnVzLmhhc093blByb3BlcnR5KG1lbnVOYW1lKSkge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG9iak1hcCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGVba2V5XSA9IG9iak1hcFtrZXldO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dmFyIG1lbnUgPSBzbGlkZU1lbnVTZXJ2aWNlLm1lbnVzW21lbnVOYW1lXTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIGNvbXBpbGVkVGl0bGUgPSAkY29tcGlsZSgnPGg1IGNsYXNzPVwic2xpZGUtbWVudS10aXRsZVwiPicgKyBtZW51LnRpdGxlICsgJzwvaDU+JykoJHNjb3BlKTtcclxuXHJcblx0XHRcdFx0XHRlbGVtLmZpbmQoJ2g1JykucmVwbGFjZVdpdGgoY29tcGlsZWRUaXRsZSk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIGJ1aWx0ID0gc2xpZGVNZW51U2VydmljZS5idWlsZE1lbnUobWVudSk7XHJcblx0XHRcdFx0XHR2YXIgY29tcGlsZWQgPSAkY29tcGlsZShidWlsdCkoJHNjb3BlKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdGVsZW0uZmluZCgnLnNsaWRlLW1lbnUtY29udGVudCcpLmh0bWwoY29tcGlsZWQpO1xyXG5cdFx0XHRcdFx0XHRzbGlkZU1lbnUuc2hvdygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzZXRBbGlnbm1lbnQocG9zKSB7XHJcblx0XHRcdFx0c2xpZGVNZW51LnNldEFsaWdubWVudChwb3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC50aW1lYWdvJylcclxuICAgICAgICAuZGlyZWN0aXZlKFwidGltZWFnb1wiLCB0aW1lYWdvRGlyZWN0aXZlKTtcclxuXHJcbiAgICBmdW5jdGlvbiB0aW1lYWdvRGlyZWN0aXZlKCkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiAnPScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJ0aW1lLWFnb1wiPnt7Z2V0VGltZUFnbyh0aW1lKX19PC9zcGFuPicsXHJcbiAgICAgICAgICAgIGxpbms6IHRpbWVhZ29EaXJlY3RpdmVMaW5rXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vXHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiB0aW1lYWdvRGlyZWN0aXZlTGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICAgICAgc2NvcGUuZ2V0VGltZUFnbyA9IGZ1bmN0aW9uKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQodGltZSwgbW9tZW50LklTT184NjAxKS5mcm9tTm93KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicpXHJcbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goYnVzeVNlcnZpY2VJbnRlcmNlcHRvcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gYnVzeVNlcnZpY2VJbnRlcmNlcHRvcihidXN5U2VydmljZSwgJHEpIHtcclxuXHJcbiAgICAgICAgdmFyIGFwaVBhdHRlcm4gPSAvXFwvezAsMX1hcGlcXC9bYS16QS1aXFwvMC05XFw/XFw9XFwmXFwlXFwrXFwtXFxfXSovZztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnVybC5tYXRjaChhcGlQYXR0ZXJuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbmZpZy51cmwubWF0Y2goYXBpUGF0dGVybikpIHtcclxuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlamVjdGlvbi5jb25maWcudXJsLm1hdGNoKGFwaVBhdHRlcm4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeVNlcnZpY2UuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQXV0aCBJbnRlcmNlcHRvclxyXG4gKiBcdEBjcmVkaXQgOiBsYXJnZWx5IG1vZGlmaWVkIGZyb20gaHR0cC1hdXRoLWludGVyY2VwdG9yIHBhY2thZ2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwuYXV0aCcpXHJcblx0XHQuZmFjdG9yeSgnaHR0cEJ1ZmZlcicsIGh0dHBCdWZmZXIpXHJcblx0XHQuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcclxuXHRcdFx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChhdXRoSW50ZXJjZXB0b3IpO1xyXG5cdFx0fSk7XHJcblxyXG5cdGZ1bmN0aW9uIGh0dHBCdWZmZXIoJGluamVjdG9yKSB7XHJcblx0XHR2YXIgYnVmZmVyID0gW10sICRodHRwO1xyXG5cclxuXHRcdHZhciBzZXJ2aWNlID0ge1xyXG5cdFx0XHRhcHBlbmQ6IGFwcGVuZCxcclxuXHRcdFx0cmVqZWN0QWxsOiByZWplY3RBbGwsXHJcblx0XHRcdHJldHJ5QWxsOiByZXRyeUFsbCxcclxuXHRcdFx0cmV0cnlIdHRwUmVxdWVzdDogcmV0cnlIdHRwUmVxdWVzdFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gc2VydmljZTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgSFRUUCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggZGVmZXJyZWQgcmVzcG9uc2UgYXR0YWNoZWQgdG8gYnVmZmVyLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBhcHBlbmQoY29uZmlnLCBkZWZlcnJlZCkge1xyXG5cdFx0XHRidWZmZXIucHVzaCh7XHJcblx0XHRcdCAgY29uZmlnOiBjb25maWcsXHJcblx0XHRcdCAgZGVmZXJyZWQ6IGRlZmVycmVkXHJcblx0XHRcdH0pO1xyXG5cdCAgXHR9XHJcblxyXG5cdCAgXHQvKipcclxuXHQgIFx0ICogQWJhbmRvbiBvciByZWplY3QgKGlmIHJlYXNvbiBwcm92aWRlZCkgYWxsIHRoZSBidWZmZXJlZCByZXF1ZXN0cy5cclxuXHQgIFx0ICovXHJcblx0ICBcdGZ1bmN0aW9uIHJlamVjdEFsbChyZWFzb24pIHtcclxuXHQgIFx0ICBpZiAocmVhc29uKSB7XHJcblx0ICBcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7ICsraSkge1xyXG5cdCAgXHQgICAgICBidWZmZXJbaV0uZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XHJcblx0ICBcdCAgICB9XHJcblx0ICBcdCAgfVxyXG5cdCAgXHQgIGJ1ZmZlciA9IFtdO1xyXG5cdCAgXHR9XHJcblxyXG5cdCAgXHQvKipcclxuXHQgIFx0ICogUmV0cmllcyBhbGwgdGhlIGJ1ZmZlcmVkIHJlcXVlc3RzIGNsZWFycyB0aGUgYnVmZmVyLlxyXG5cdCAgXHQgKi9cclxuXHRcdGZ1bmN0aW9uIHJldHJ5QWxsKHVwZGF0ZXIpIHtcclxuXHRcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7ICsraSkge1xyXG5cdFx0ICAgICAgcmV0cnlIdHRwUmVxdWVzdCh1cGRhdGVyKGJ1ZmZlcltpXS5jb25maWcpLCBidWZmZXJbaV0uZGVmZXJyZWQpO1xyXG5cdFx0ICBcdH1cclxuXHQgICAgXHRidWZmZXIgPSBbXTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHJ5IG9uZSBIVFRQIHJlcXVlc3RcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmV0cnlIdHRwUmVxdWVzdChjb25maWcsIGRlZmVycmVkKSB7XHJcblx0XHQgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xyXG5cdFx0ICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0ICB9XHJcblx0XHQgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcclxuXHRcdCAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UpO1xyXG5cdFx0ICB9XHJcblx0XHQgICRodHRwID0gJGh0dHAgfHwgJGluamVjdG9yLmdldCgnJGh0dHAnKTtcclxuXHRcdCAgJGh0dHAoY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhdXRoSW50ZXJjZXB0b3IgKCRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEsIGh0dHBCdWZmZXIpIHtcclxuXHRcdC8vIFdpbGwgZ2V0IHJlc29sdmVkIGxhdGVyIHVzaW5nICRpbmplY3RvciB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IGlzc3Vlc1xyXG5cdFx0dmFyIGF1dGhTZXJ2aWNlLCBuZ0RpYWxvZywgJHN0YXRlO1xyXG5cdFx0dmFyIGFwaVBhdHRlcm4gPSAvXFwvezAsMX1hcGlcXC9bYS16QS1aXFwvMC05XFw/XFw9XFwmXFwlXFwrXFwtXFxfXSovZztcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcclxuXHRcdFx0XHRhdXRoU2VydmljZSA9IGF1dGhTZXJ2aWNlIHx8ICRpbmplY3Rvci5nZXQoJ2F1dGhTZXJ2aWNlJyk7XHJcblxyXG5cdFx0XHRcdC8vIEFwcGVuZCB0aGUgdG9rZW4gdG8gYW55IHJlcXVlc3QgdGhhdCBpc24ndCB0byBsb2dpbiBVUkwgb3IgZG9lc24ndCBoYXZlIGEgdG9rZW4gc2V0XHJcblx0XHRcdFx0aWYgKGNvbmZpZy51cmwubWF0Y2goYXBpUGF0dGVybikgJiYgY29uZmlnLnVybCAhPSAnL2FwaS9hdXRoZW50aWNhdGUnICYmICFjb25maWcuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eSgnQXV0aG9yaXphdGlvbicpKSB7XHJcblx0XHRcdFx0XHRpZiAoYXV0aFNlcnZpY2UuaGFzVG9rZW4oKSkge1xyXG5cdFx0XHRcdFx0XHRjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgYXV0aFNlcnZpY2UudG9rZW4uZ2V0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlID0gJHN0YXRlIHx8ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGgnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBjb25maWc7XHJcblx0XHRcdH0sXHJcblx0XHRcdHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciBjb25maWcgXHQgPSByZXNwb25zZS5jb25maWc7XHJcblxyXG5cdFx0XHRcdC8vIEludGVyY2VwdCBhbmQgc25hdGNoIGEgc3VjY2Vzc2Z1bCB0b2tlbiBmcm9tIHRoZSBIVFRQIHJlc3BvbnNlXHJcblx0XHRcdFx0aWYgKGNvbmZpZy51cmwgPT0gJy9hcGkvYXV0aGVudGljYXRlJyAmJiBjb25maWcubWV0aG9kID09IFwiUE9TVFwiICYmIHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcclxuXHRcdFx0XHRcdGF1dGhTZXJ2aWNlID0gYXV0aFNlcnZpY2UgfHwgJGluamVjdG9yLmdldCgnYXV0aFNlcnZpY2UnKTtcclxuXHJcblx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgndG9rZW4nKSkge1xyXG5cdFx0XHRcdFx0XHRhdXRoU2VydmljZS50b2tlbi5zZXQocmVzcG9uc2UuZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdGF1dGhTZXJ2aWNlLmxvZ2luQ29uZmlybWVkKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBidXN5U2VydmljZS5oaWRlKCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcblx0XHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRcdFx0YXV0aFNlcnZpY2UgPSBhdXRoU2VydmljZSB8fCAkaW5qZWN0b3IuZ2V0KCdhdXRoU2VydmljZScpO1xyXG5cdFx0XHRcdCRzdGF0ZSBcdFx0ID0gJHN0YXRlIHx8ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xyXG5cclxuXHRcdFx0XHRzd2l0Y2ggKHJlamVjdGlvbi5zdGF0dXMpIHtcclxuXHRcdFx0XHRcdGNhc2UgNDAwOlxyXG5cdFx0XHRcdFx0XHRhdXRoU2VydmljZS5sb2dpbkNhbmNlbGxlZCgpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlIDQwMTpcclxuXHRcdFx0XHRcdFx0Ly8gSWYgdG9rZW4gaXMgZXhwaXJlZCwgcmVmcmVzaCBpdFxyXG5cdFx0XHRcdFx0XHRpZiAocmVqZWN0aW9uLmRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykgJiYgcmVqZWN0aW9uLmRhdGEuZXJyb3IgPT0gJ3Rva2VuX2V4cGlyZWQnKSB7XHJcblx0XHRcdFx0XHQgICAgXHRodHRwQnVmZmVyLmFwcGVuZChyZWplY3Rpb24uY29uZmlnLCBkZWZlcnJlZCk7XHJcblx0XHRcdFx0XHQgICAgXHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50OmF1dGgtbG9naW4tcmVxdWlyZWQnLCByZWplY3Rpb24pO1xyXG5cdFx0XHRcdFx0ICAgIFx0aWYgKGF1dGhTZXJ2aWNlLmhhc1Rva2VuKCkpIHtcclxuXHRcdFx0XHRcdFx0ICAgIFx0YXV0aFNlcnZpY2UucmVmcmVzaCgpO1xyXG5cdFx0XHRcdFx0ICAgIFx0fVxyXG5cdFx0XHRcdFx0ICAgIFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHQgICAgYnJlYWs7XHJcblx0XHRcdFx0ICAgIGNhc2UgNDAzOlxyXG5cdFx0XHRcdCAgICBcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6YXV0aC1mb3JiaWRkZW4nLCByZWplY3Rpb24pO1xyXG5cdFx0XHRcdCAgICBcdGF1dGhTZXJ2aWNlLmxvZ2luQ2FuY2VsbGVkKCk7XHJcblx0XHRcdFx0ICAgIGJyZWFrO1xyXG5cdFx0XHRcdCAgICBjYXNlIDUwMDpcclxuXHRcdFx0XHQgICAgXHRuZ0RpYWxvZyA9IG5nRGlhbG9nIHx8ICRpbmplY3Rvci5nZXQoJ25nRGlhbG9nJyk7XHJcblx0XHRcdFx0ICAgIFx0bmdEaWFsb2cub3Blbih7XHJcblx0XHRcdFx0ICAgIFx0XHRwbGFpbjogdHJ1ZSxcclxuXHRcdFx0XHQgICAgXHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zYXZlIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG5cdFx0XHRcdCAgICBcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5Tb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuICBUcnkgYWdhaW4gbGF0ZXIuPC9zcGFuPidcclxuXHRcdFx0XHQgICAgXHR9KTtcclxuXHRcdFx0ICAgICAgXHRicmVhaztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdChyZWplY3Rpb24pO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQnVzeSBJbmRpY2F0b3IgU2VydmljZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC5idXN5SW5kaWNhdG9yJylcclxuXHRcdC5mYWN0b3J5KCdidXN5U2VydmljZScsIGJ1c3lTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gYnVzeVNlcnZpY2UoJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcclxuXHRcdHZhciBtZXNzYWdlLCB0aW1lciwgYW1JQnVzeSA9IGZhbHNlLCBoaWRkZW5CeUZvcmNlID0gZmFsc2U7XHJcblxyXG5cdFx0dmFyIHNlcnZpY2UgPSB7XHJcblx0XHRcdGRlZmF1bHRNZXNzYWdlOiAnV29ya2luZyBvbiBpdCcsXHJcblx0XHRcdGZvcmNlSGlkZTogZm9yY2VIaWRlLFxyXG5cdFx0XHRnZXRNZXNzYWdlOiBnZXRNZXNzYWdlLFxyXG5cdFx0XHRoaWRlOiBoaWRlLFxyXG5cdFx0XHRpc0J1c3k6IGlzQnVzeSxcclxuXHRcdFx0aXNWaXNpYmxlOiBpc1Zpc2libGUsXHJcblx0XHRcdHJlc2V0TWVzc2FnZTogcmVzZXRNZXNzYWdlLFxyXG5cdFx0XHRzZXRNZXNzYWdlOiBzZXRNZXNzYWdlLFxyXG5cdFx0XHRzaG93OiBzaG93XHJcblx0XHR9O1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIHNlcnZpY2U7XHJcblxyXG5cdFx0Ly8vLy8vLy8vXHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdCRyb290U2NvcGUud29ya2luZ01lc3NhZ2UgPSBzZXJ2aWNlLmRlZmF1bHRNZXNzYWdlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGZvcmNlSGlkZShyZXNldCkge1xyXG5cdFx0XHRoaWRkZW5CeUZvcmNlID0gcmVzZXQgPyBmYWxzZSA6IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZShtc2cpIHtcclxuXHRcdFx0cmV0dXJuIG1lc3NhZ2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGlkZSgpIHtcclxuXHRcdFx0YW1JQnVzeSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQnVzeSgpIHtcclxuXHRcdFx0cmV0dXJuIGFtSUJ1c3kgJiYgIWhpZGRlbkJ5Rm9yY2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xyXG5cdFx0XHRyZXR1cm4gJCgnLmxvYWRpbmctaW5kaWNhdG9yJykuaXMoJzp2aXNpYmxlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVzZXRNZXNzYWdlKCkge1xyXG5cdFx0XHR0aGlzLnNldE1lc3NhZ2UodGhpcy5kZWZhdWx0TWVzc2FnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2V0TWVzc2FnZShtc2cpIHtcclxuXHRcdFx0bWVzc2FnZSA9ICRyb290U2NvcGUud29ya2luZ01lc3NhZ2UgPSBtc2c7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvdygpIHtcclxuXHRcdFx0YW1JQnVzeSA9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iLCIvKipcclxuICogTG9naW4gU2VydmljZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC5hdXRoJylcclxuXHRcdC5mYWN0b3J5KCdhdXRoU2VydmljZScsIGF1dGhTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gYXV0aFNlcnZpY2UoJHN0YXRlLCAkcm9vdFNjb3BlLCAkcSwgQ2FjaGVGYWN0b3J5LCAkaHR0cCwgaHR0cEJ1ZmZlciwgJGluamVjdG9yKSB7XHJcblx0XHR2YXIgY2FjaGU7XHJcblxyXG5cdFx0dmFyIHNlcnZpY2UgPSB7XHJcblx0XHRcdGNoZWNrQXBpQWNjZXNzOiBjaGVja0FwaUFjY2VzcyxcclxuXHRcdFx0aGFzVG9rZW46IGhhc1Rva2VuLFxyXG5cdFx0XHRpc1ZhbGlkRW1haWw6IGlzVmFsaWRFbWFpbCxcclxuXHRcdFx0bG9naW46IGxvZ2luLFxyXG5cdFx0XHRsb2dpbkNhbmNlbGxlZDogbG9naW5DYW5jZWxsZWQsXHJcblx0XHRcdGxvZ2luQ29uZmlybWVkOiBsb2dpbkNvbmZpcm1lZCxcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXQsXHJcblx0XHRcdHJlZnJlc2g6IHJlZnJlc2gsXHJcblx0XHRcdHRva2VuOiB7XHJcblx0XHRcdFx0Z2V0OiB0b2tlbkdldCxcclxuXHRcdFx0XHRzZXQ6IHRva2VuU2V0LFxyXG5cdFx0XHRcdHJlbW92ZTogdG9rZW5SZW1vdmVcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdHJldHVybiBzZXJ2aWNlO1xyXG5cclxuXHRcdC8vLy8vLy8vL1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRpZiAoIUNhY2hlRmFjdG9yeS5nZXQoJ2F1dGhDYWNoZScpKSB7XHJcblx0XHRcdFx0bmV3IENhY2hlRmFjdG9yeSgnYXV0aENhY2hlJywge1xyXG5cdFx0XHRcdFx0bWF4QWdlOiA2MCAqIDU5ICogMTAwMCxcclxuXHRcdFx0XHRcdGRlbGV0ZU9uRXhwaXJlOiAnYWdncmVzc2l2ZScsXHJcblx0XHRcdFx0XHRzdG9yYWdlTW9kZTogJ2xvY2FsU3RvcmFnZScsXHJcblx0XHRcdFx0XHRvbkV4cGlyZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgc3ZjID0gJGluamVjdG9yLmdldCgnYXV0aFNlcnZpY2UnKTtcclxuXHRcdFx0XHRcdFx0c3ZjLnJlZnJlc2godmFsdWUpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0XHRcdGNhY2hlLnB1dChrZXksIHBheWxvYWQuZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldCgnYXV0aENhY2hlJyk7XHJcblxyXG5cdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSBjYWNoZS5nZXQoJ3Rva2VuJykgIT09IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjaGVja0FwaUFjY2VzcygpIHtcclxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFzVG9rZW4oKSkge1xyXG5cdFx0XHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IHRydWU7XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMubG9naW5DYW5jZWxsZWQoKTtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYXNUb2tlbigpIHtcclxuXHRcdFx0dmFyIHQgPSB0aGlzLnRva2VuLmdldCgpO1xyXG5cdFx0XHRyZXR1cm4gdCAhPT0gdW5kZWZpbmVkICYmIHQgIT09IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNWYWxpZEVtYWlsKGVtYWlsKSB7XHJcblx0XHRcdHZhciBwYXR0ZXJuID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcblx0XHQgICAgcmV0dXJuIHBhdHRlcm4udGVzdChlbWFpbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4oY3JlZGVudGlhbHMpIHtcclxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRcdCRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgY3JlZGVudGlhbHMsIHtjYWNoZTogZmFsc2V9KVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHBheWxvYWQpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbkNhbmNlbGxlZChkYXRhLHJlYXNvbikge1xyXG5cdFx0XHRodHRwQnVmZmVyLnJlamVjdEFsbChyZWFzb24pO1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50OmF1dGgtbG9naW4tY2FuY2VsbGVkJywgZGF0YSk7XHJcblx0XHRcdHRoaXMubG9nb3V0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW5Db25maXJtZWQoZGF0YSwgY29uZmlnVXBkYXRlcikge1xyXG5cdFx0XHR2YXIgdXBkYXRlciA9IGNvbmZpZ1VwZGF0ZXIgfHwgZnVuY3Rpb24oY29uZmlnKSB7cmV0dXJuIGNvbmZpZzt9O1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50OmF1dGgtbG9nZ2VkLWluJywgZGF0YSk7XHJcblx0XHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IHRydWU7XHJcblx0XHRcdGh0dHBCdWZmZXIucmV0cnlBbGwodXBkYXRlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9nb3V0KCkge1xyXG5cdFx0XHR0aGlzLnRva2VuLnJlbW92ZSgpO1xyXG5cdFx0XHQkc3RhdGUuZ28oJ2F1dGgnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWZyZXNoKHRva2VuU3RyaW5nKSB7XHJcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXHJcblx0XHRcdFx0dGhhdCBcdD0gdGhpcyxcclxuXHRcdFx0XHRjb25maWcgXHQ9IHtjYWNoZTogZmFsc2UsIGhlYWRlcnM6IHt9fTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgdG9rZW5TdHJpbmcgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFx0XHRjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gXCJCZWFyZXIgXCIgKyB0b2tlblN0cmluZztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGh0dHAuZ2V0KCdhcGkvYXV0aGVudGljYXRlL3JlZnJlc2gnLCBjb25maWcpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHR0aGF0LnRva2VuLnNldChwYXlsb2FkLmRhdGEudG9rZW4pO1xyXG5cdFx0XHRcdHRoYXQubG9naW5Db25maXJtZWQoKTtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHBheWxvYWQpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdHRoYXQubG9naW5DYW5jZWxsZWQoKTtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2tlbkdldCgpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlLmdldCgndG9rZW4nKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2tlblJlbW92ZSgpIHtcclxuXHRcdFx0Y2FjaGUucmVtb3ZlKCd0b2tlbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRva2VuU2V0KHRva2VuU3RyaW5nKSB7XHJcblx0XHRcdGNhY2hlLnB1dCgndG9rZW4nLCB0b2tlblN0cmluZyk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwubGVhZCcpXHJcblx0XHQuZmFjdG9yeSgnbGVhZFNlcnZpY2UnLCBsZWFkU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGxlYWRTZXJ2aWNlKCRodHRwLCBuZ0RpYWxvZywgTGVhZCwgJHJvb3RTY29wZSwgYnVzeVNlcnZpY2UpIHtcclxuXHRcdFx0dmFyIGFjdGl2ZURpYWxvZztcclxuXHJcblx0XHRcdHZhciBzZXJ2aWNlID0ge1xyXG5cdFx0XHRcdGRlbGV0ZUxlYWQ6IGRlbGV0ZUxlYWQsXHJcblx0XHRcdFx0cmV0cmlldmU6IHJldHJpZXZlXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gc2VydmljZTtcclxuXHJcblx0XHRcdC8vLy8vLy8vL1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmV0cmlldmUodHJhZGVob3dfaWQsIHBhZ2VOdW1iZXIsIHBlclBhZ2UsIG9yZGVyQnksIG9yZGVyQnlSZXZlcnNlLCBmaWx0ZXIpIHtcclxuXHRcdFx0XHRpZihwYWdlTnVtYmVyPT09dW5kZWZpbmVkKXtcclxuXHRcdFx0XHRcdHBhZ2VOdW1iZXIgPSAnMSc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChvcmRlckJ5PT09dW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRvcmRlckJ5ID0gJ3VwZGF0ZWRfYXQnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAob3JkZXJCeVJldmVyc2U9PT11bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdG9yZGVyQnlSZXZlcnNlID0gMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHBlclBhZ2U9PT11bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHBlclBhZ2UgPSAxNTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRmaWx0ZXIgPSAnJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLlxyXG5cdFx0XHRcdFx0Z2V0KCdhcGkvdHJhZGVzaG93cy8nICsgdHJhZGVob3dfaWQgKyAnL2xlYWRzP3BhZ2U9JytwYWdlTnVtYmVyKycmcGVyUGFnZT0nK3BlclBhZ2UrXHJcblx0XHRcdFx0XHRcdCcmb3JkZXJCeT0nICtvcmRlckJ5ICsgJyZvcmRlckJ5UmV2ZXJzZT0nICsgcGFyc2VJbnQob3JkZXJCeVJldmVyc2UpICsgJyZmaWx0ZXI9JyArIGZpbHRlciwge2NhY2hlOiB0cnVlfSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGRlbGV0ZUxlYWQobGVhZCkge1xyXG5cdFx0XHRcdHZhciBsZWFkX25hbWUgPSBsZWFkLmZpcnN0X25hbWUgKyAnICcgKyBsZWFkLmxhc3RfbmFtZTtcclxuXHRcdFx0XHR2YXIgZGlhbG9nX2h0bWwgPSAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgTGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArXHJcblx0XHRcdFx0XHRcdFx0XHQgICc8L2VtPj88YnIgLz48c3Ryb25nPlRoaXMgY2Fubm90IGJlIHVuZG9uZS48L3N0cm9uZz48L3NwYW4+PGRpdiBjbGFzcz1cImRpYWxvZy1idXR0b25zXCI+JyArXHJcblx0XHRcdFx0XHRcdFx0XHQgICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cImNvbmZpcm0oKVwiPlllcywgZGVsZXRlPC9idXR0b24+ICcgK1xyXG5cdFx0XHRcdFx0XHRcdFx0ICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsXCIgbmctY2xpY2s9XCJjbG9zZVRoaXNEaWFsb2coKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2Pic7XHJcblx0XHRcdFx0bmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG5cdFx0XHRcdFx0cGxhaW46IHRydWUsXHJcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZGVzdHJveSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuXHRcdFx0XHRcdHRlbXBsYXRlOiBkaWFsb2dfaHRtbCxcclxuXHRcdFx0XHRcdHNob3dDbG9zZTogZmFsc2VcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0YnVzeVNlcnZpY2Uuc2V0TWVzc2FnZSgnRGVsZXRpbmcnKTtcclxuXHRcdFx0XHRcdExlYWQuXHJcblx0XHRcdFx0XHRcdGRlbGV0ZSh7aWQ6bGVhZC5pZH0pLlxyXG5cdFx0XHRcdFx0XHQkcHJvbWlzZS5cclxuXHRcdFx0XHRcdFx0dGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHBheWxvYWQuaGFzT3duUHJvcGVydHkoJ3N1Y2Nlc3MnKSAmJiBwYXlsb2FkLnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZGlhbG9nLXN1Y2Nlc3MgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZWNrIGdyZWVuIGljb24tbGFyZ2VcIj48L3NwYW4+PHNwYW4+TGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArICc8L2VtPiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZC48L3NwYW4+JyxcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHQuY2xvc2VQcm9taXNlXHJcblx0XHRcdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ24gcmVkIGljb24tbGFyZ2VcIj48L3NwYW4+PHNwYW4+QW4gZXJyb3Igb2NjdXJlZCB3aGVuIHRyeWluZyB0byBkZWxldGUgTGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArICc8L2VtPi48L3NwYW4+ICBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvclJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XHJcblx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1lcnJvciBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ24gcmVkIGljb24tbGFyZ2VcIj48L3NwYW4+PHNwYW4+QW4gZXJyb3Igb2NjdXJlZCB3aGVuIHRyeWluZyB0byBkZWxldGUgTGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArICc8L2VtPi48L3NwYW4+ICBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG59KSgpO1xyXG4iLCIvKipcclxuICogTWVzc2FnZSBzZXJ2aWNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLm1lc3NhZ2VzJylcclxuXHRcdC5mYWN0b3J5KCdtZXNzYWdlU2VydmljZScsIG1lc3NhZ2VTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gbWVzc2FnZVNlcnZpY2UoJHRpbWVvdXQsICRxKSB7XHJcblx0XHR2YXIgbWVzc2FnZXMgPSBbXTtcclxuXHJcblx0XHR2YXIgc2VydmljZSA9IHtcclxuXHRcdFx0YWRkTWVzc2FnZTogYWRkTWVzc2FnZSxcclxuXHRcdFx0Z2V0TWVzc2FnZXM6IGdldE1lc3NhZ2VzLFxyXG5cdFx0XHRwdXJnZTogcHVyZ2UsXHJcblx0XHRcdHJlbW92ZU1lc3NhZ2U6IHJlbW92ZU1lc3NhZ2VcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHNlcnZpY2U7XHJcblxyXG5cdFx0Ly8vLy8vLy8vXHJcblxyXG5cdFx0ZnVuY3Rpb24gYWRkTWVzc2FnZShjb25maWcpIHtcclxuXHRcdFx0Y29uZmlnLmlkID0gbWVzc2FnZXMubGVuZ3RoICsgMTtcclxuXHRcdFx0bWVzc2FnZXMucHVzaChjb25maWcpO1xyXG5cdFx0XHRyZXR1cm4gY29uZmlnO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRNZXNzYWdlcygpIHtcclxuXHRcdFx0cmV0dXJuIG1lc3NhZ2VzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UoaWQpIHtcclxuXHRcdFx0aWYgKG1lc3NhZ2VzW2lkIC0gMV0pIHtcclxuXHRcdFx0XHRtZXNzYWdlcy5zcGxpY2UoaWQgLSAxLCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHB1cmdlKCkge1xyXG5cdFx0XHRtZXNzYWdlcyA9IFtdO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5zbGlkZU1lbnUnKVxyXG5cdFx0LnByb3ZpZGVyKCdzbGlkZU1lbnVTZXJ2aWNlJywgc2xpZGVNZW51UHJvdmlkZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBzbGlkZU1lbnVQcm92aWRlcigpIHtcclxuXHRcdHRoaXMubWVudXMgPSB7fTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyTWVudSA9IHJlZ2lzdGVyTWVudTtcclxuXHRcdHRoaXMuJGdldCA9IHNsaWRlTWVudVNlcnZpY2U7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblxyXG5cdFx0Ly8vLy8vLy8vXHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXJNZW51KG5hbWUsIGNvbmZpZykge1xyXG5cdFx0XHR0aGlzLm1lbnVzW25hbWVdID0gY29uZmlnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNsaWRlTWVudVNlcnZpY2UoJHJvb3RTY29wZSkge1xyXG5cdFx0XHR2YXIgc2VydmljZSA9IHtcclxuXHRcdFx0XHRtZW51czogdGhpcy5tZW51cyxcclxuXHRcdFx0XHRidWlsZE1lbnU6IGJ1aWxkTWVudVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRcdHJldHVybiBzZXJ2aWNlO1xyXG5cclxuXHRcdFx0Ly8vLy8vLy8vXHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gYnVpbGRNZW51KGNvbmZpZykge1xyXG5cdFx0XHRcdHZhciBodG1sID0gJyc7XHJcblx0XHRcdFx0Zm9yICh2YXIgYWN0aW9uTmFtZSBpbiBjb25maWcuaXRlbXMpIHtcclxuXHRcdFx0XHRcdHZhciBhY3Rpb24gXHQ9IGNvbmZpZy5pdGVtc1thY3Rpb25OYW1lXSxcclxuXHRcdFx0XHRcdFx0dGl0bGUgXHQ9IGFjdGlvbi50aXRsZSB8fCBhY3Rpb25OYW1lLFxyXG5cdFx0XHRcdFx0XHRsaW5rIFx0PSAnPGEgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInLFxyXG5cdFx0XHRcdFx0XHR1cmwgXHQ9IGFjdGlvbi51cmwsXHJcblx0XHRcdFx0XHRcdG9uQ2xpY2sgPSBhY3Rpb24uY2xpY2ssXHJcblx0XHRcdFx0XHRcdHNob3dcdD0gYWN0aW9uLnNob3c7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHVybCkge1xyXG5cdFx0XHRcdFx0XHRsaW5rICs9ICcgaHJlZj1cIi8jLycgKyB1cmwgKyAnXCInO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdGxpbmsgKz0gJyBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCInO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChvbkNsaWNrKSB7XHJcblx0XHRcdFx0XHRcdGxpbmsgKz0gJyBuZy1jbGljaz1cIicgKyBvbkNsaWNrICsgJ1wiJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoc2hvdykge1xyXG5cdFx0XHRcdFx0XHRsaW5rICs9ICcgbmctc2hvdz1cIicgKyBzaG93ICsgJ1wiJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRsaW5rICs9ICc+JyArIHRpdGxlICsgJzwvYT4nO1xyXG5cclxuXHRcdFx0XHRcdGh0bWwgKz0gJzxsaT4nICsgbGluayArICc8L2xpPic7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gJzx1bD4nICsgaHRtbCArICc8L3VsPic7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwudHJhZGVzaG93JylcclxuXHRcdC5mYWN0b3J5KCd0cmFkZXNob3dTZXJ2aWNlJywgdHJhZGVzaG93U2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHRyYWRlc2hvd1NlcnZpY2UoJGh0dHAsIFRyYWRlc2hvdywgJHJvb3RTY29wZSwgbmdEaWFsb2csIGJ1c3lTZXJ2aWNlKSB7XHJcblx0XHR2YXIgYWN0aXZlRGlhbG9nO1xyXG5cclxuXHRcdHZhciBzZXJ2aWNlID0ge1xyXG5cdFx0XHRyZXRyaWV2ZTogcmV0cmlldmUsXHJcblx0XHRcdGRlbGV0ZVRyYWRlc2hvdzogZGVsZXRlVHJhZGVzaG93XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBzZXJ2aWNlO1xyXG5cclxuXHRcdC8vLy8vLy8vL1xyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVRyYWRlc2hvdyh0cmFkZXNob3cpIHtcclxuXHRcdFx0dmFyIHRyYWRlc2hvd19uYW1lID0gdHJhZGVzaG93Lm5hbWUsXHJcblx0XHRcdFx0dHJhZGVzaG93X2lkICAgPSB0cmFkZXNob3cuaWQ7XHJcblx0XHRcdGFjdGl2ZURpYWxvZyA9IG5nRGlhbG9nLm9wZW5Db25maXJtKFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHBsYWluOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZGlhbG9nLWRlc3Ryb3kgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaCByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFRyYWRlc2hvdyA8ZW0+JyArIHRyYWRlc2hvd19uYW1lICsgJzwvZW0+PzxiciAvPjxzdHJvbmc+VGhpcyBjYW5ub3QgYmUgdW5kb25lLjwvc3Ryb25nPjwvc3Bhbj48ZGl2IGNsYXNzPVwiZGlhbG9nLWJ1dHRvbnNcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cImNvbmZpcm0oKVwiPlllcywgZGVsZXRlPC9idXR0b24+IDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWNhbmNlbFwiIG5nLWNsaWNrPVwiY2xvc2VUaGlzRGlhbG9nKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG5cdFx0XHRcdFx0c2hvd0Nsb3NlOiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KS5cclxuXHRcdFx0dGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvLyBBbHRlciB0aGUgd29ya2luZyBtZXNzYWdlXHJcblx0XHRcdFx0YnVzeVNlcnZpY2Uuc2V0TWVzc2FnZSgnRGVsZXRpbmcnKTtcclxuXHJcblx0XHRcdFx0VHJhZGVzaG93LlxyXG5cdFx0XHRcdFx0ZGVsZXRlKHtpZDp0cmFkZXNob3dfaWR9KS5cclxuXHRcdFx0XHRcdCRwcm9taXNlLlxyXG5cdFx0XHRcdFx0dGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRcdGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykgJiYgcGF5bG9hZC5zdWNjZXNzID09PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XHJcblx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zdWNjZXNzIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2sgZ3JlZW4gaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5UcmFkZXNob3cgPGVtPicgKyB0cmFkZXNob3dfbmFtZSArICc8L2VtPiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZC48L3NwYW4+JyxcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdC5jbG9zZVByb21pc2VcclxuXHRcdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcclxuXHRcdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZGlhbG9nLWVycm9yIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BbiBlcnJvciBvY2N1cmVkIHdoZW4gdHJ5aW5nIHRvIGRlbGV0ZSBUcmFkZXNob3cgPGVtPicgKyB0cmFkZXNob3dfbmFtZSArICc8L2VtPi48L3NwYW4+ICBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvclJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xyXG5cdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1lcnJvciBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFuIGVycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZGVsZXRlIFRyYWRlc2hvdyA8ZW0+JyArIHRyYWRlc2hvd19uYW1lICsgJzwvZW0+Ljwvc3Bhbj4gIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LicsXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJldHJpZXZlKHBhZ2VOdW1iZXIsIHBlclBhZ2UsIG9yZGVyQnksIG9yZGVyQnlSZXZlcnNlLCBmaWx0ZXIpIHtcclxuXHRcdFx0aWYocGFnZU51bWJlcj09PXVuZGVmaW5lZCl7XHJcblx0XHRcdFx0cGFnZU51bWJlciA9ICcxJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAob3JkZXJCeT09PXVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdG9yZGVyQnkgPSAndXBkYXRlZF9hdCc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG9yZGVyQnlSZXZlcnNlPT09dW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0b3JkZXJCeVJldmVyc2UgPSAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwZXJQYWdlPT09dW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0cGVyUGFnZSA9IDE1O1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChmaWx0ZXI9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0ZmlsdGVyID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRodHRwLlxyXG5cdFx0XHRcdGdldCgnYXBpL3RyYWRlc2hvd3M/cGFnZT0nK3BhZ2VOdW1iZXIrJyZwZXJQYWdlPScgKyBwZXJQYWdlICsgJyZvcmRlckJ5PScgKyBvcmRlckJ5ICtcclxuXHRcdFx0XHRcdCcmb3JkZXJCeVJldmVyc2U9JyArIHBhcnNlSW50KG9yZGVyQnlSZXZlcnNlKSArICcmZmlsdGVyPScgKyBmaWx0ZXIsIHtjYWNoZTogdHJ1ZX0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLmxlYWQnKVxyXG5cdFx0LmZhY3RvcnkoJ0xlYWQnLCBMZWFkKTtcclxuXHJcblx0ZnVuY3Rpb24gTGVhZCgkcmVzb3VyY2UsIENhY2hlRmFjdG9yeSkge1xyXG5cdFx0cmV0dXJuICRyZXNvdXJjZSgnYXBpL2xlYWRzLzppZCcsIHtpZDogJ0BpZCd9LCB7XHJcbiAgICAgICAgICAgIGluZGV4OiB7bWV0aG9kOiAnR0VUJywgdXJsOiAnYXBpL3RyYWRlc2hvd3MvOnRyYWRlc2hvd0lkL2xlYWRzJywgcGFyYW1zOnt0cmFkZXNob3dJZDogJ0B0cmFkZXNob3dJZCd9fSxcclxuXHRcdFx0Z2V0OiB7Y2FjaGU6IENhY2hlRmFjdG9yeS5nZXQoJ2RlZmF1bHRDYWNoZScpfVxyXG5cdFx0fSk7XHJcblx0fVxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwudHJhZGVzaG93JylcclxuXHRcdC5mYWN0b3J5KCdUcmFkZXNob3cnLCBUcmFkZXNob3cpO1xyXG5cclxuXHRmdW5jdGlvbiBUcmFkZXNob3coJHJlc291cmNlLCBDYWNoZUZhY3RvcnkpIHtcclxuXHRcdHJldHVybiAkcmVzb3VyY2UoJ2FwaS90cmFkZXNob3dzLzppZCcsIHtpZDogJ0BpZCd9LCB7XHJcblx0XHRcdGdldDoge2NhY2hlOiBDYWNoZUZhY3RvcnkuZ2V0KCdkZWZhdWx0Q2FjaGUnKX0sXHJcblx0XHRcdGNyZWF0ZToge21ldGhvZDogJ1BPU1QnLCB1cmw6J2FwaS90cmFkZXNob3dzL2NyZWF0ZSd9LFxyXG5cdFx0XHRkZWxldGU6IHttZXRob2Q6ICdERUxFVEUnfVxyXG5cdFx0fSk7XHJcblx0fVxyXG59KSgpO1xyXG4iLCJcclxuLyoqXHJcbiAqIEF1dGggQ29udHJvbGxlclxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLmxvZ2luJylcclxuXHRcdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGF1dGhTZXJ2aWNlLCAkdGltZW91dCwgQ2FjaGVGYWN0b3J5KSB7XHJcblxyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHR2bS5jYWNoZSA9IG51bGw7XHJcblx0XHR2bS5yZW1lbWJlck1lID0gZmFsc2U7XHJcblx0XHR2bS5sb2dpbiA9IGxvZ2luO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0Ly8vLy8vLy9cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0aWYgKCFDYWNoZUZhY3RvcnkuZ2V0KCdsb2dpbkZvcm0nKSkge1xyXG5cdFx0XHRcdG5ldyBDYWNoZUZhY3RvcnkoJ2xvZ2luRm9ybScsIHtcclxuXHRcdFx0XHRcdG1heEFnZTogNjAgKiA2MCAqIDI0ICogNyAqIDQgKiAxMDAwLFxyXG5cdFx0XHRcdFx0ZGVsZXRlT25FeHBpcmU6ICdhZ2dyZXNzaXZlJyxcclxuXHRcdFx0XHRcdHN0b3JhZ2VNb2RlOiAnbG9jYWxTdG9yYWdlJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5jYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoJ2xvZ2luRm9ybScpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKHZtLmNhY2hlLmdldCgncmVtZW1iZXJNZScpICYmIHZtLmNhY2hlLmdldCgnZW1haWwnKSkge1xyXG5cdFx0XHRcdHZtLnJlbWVtYmVyTWUgPSB2bS5jYWNoZS5nZXQoJ3JlbWVtYmVyTWUnKTtcclxuXHRcdFx0XHR2bS5lbWFpbCA9IHZtLmNhY2hlLmdldCgnZW1haWwnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgYSB0b2tlbiBpcyBhbHJlYWR5IHN0b3JlZCwgdHJ5IGFwcFxyXG5cdFx0XHRpZiAoYXV0aFNlcnZpY2UuaGFzVG9rZW4oKSkge1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygndHJhZGVzaG93cycpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVc2UgYXV0aFNlcnZpY2UgdG8gbG9naW5cclxuXHRcdCAqIEByZXR1cm4ge1t2b2lkXX1cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdHZhciBjcmVkZW50aWFscyA9IHtcclxuXHRcdFx0XHRlbWFpbDogdm0uZW1haWwsXHJcblx0XHRcdFx0cGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBQcm92aWRlZCBieSBtZXNzYWdlc0RpcmVjdGl2ZVxyXG5cdFx0XHR2bS5wdXJnZU1lc3NhZ2VzKCk7XHJcblxyXG5cdFx0XHRhdXRoU2VydmljZS5sb2dpbihjcmVkZW50aWFscylcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRpZiAodm0ucmVtZW1iZXJNZSkge1xyXG5cdFx0XHRcdFx0XHR2bS5jYWNoZS5wdXQoJ2VtYWlsJywgdm0uZW1haWwpO1xyXG5cdFx0XHRcdFx0XHR2bS5jYWNoZS5wdXQoJ3JlbWVtYmVyTWUnLCB2bS5yZW1lbWJlck1lKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRzdGF0ZS5nbyhcInRyYWRlc2hvd3NcIik7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0Ly8gUHJvdmlkZWQgYnkgbWVzc2FnZXNEaXJlY3RpdmVcclxuXHRcdFx0XHRcdHZtLmFkZEVycm9yTWVzc2FnZSh7XHJcblx0XHRcdFx0XHRcdG1lc3NhZ2U6ICdUaGUgZW1haWwgb3IgcGFzc3dvcmQgZW50ZXJlZCB3YXMgaW5jb3JyZWN0LidcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5sb2dpbicpXHJcblx0LmNvbnRyb2xsZXIoJ0xvZ291dENvbnRyb2xsZXInLCBMb2dvdXRDb250cm9sbGVyKTtcclxuXHJcblx0ZnVuY3Rpb24gTG9nb3V0Q29udHJvbGxlcihhdXRoU2VydmljZSkge1xyXG5cdFx0YXV0aFNlcnZpY2UubG9nb3V0KCk7XHJcblx0fVxyXG59KSgpO1xyXG4iLCIvKipcclxuICogRWRpdCBMZWFkIENvbnRyb2xsZXJcclxuICogQGNsYXNzIExlYWRFZGl0Q29udHJvbGxlclxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC5sZWFkcycpXHJcblx0XHQuY29udHJvbGxlcignTGVhZEVkaXRDb250cm9sbGVyJywgTGVhZEVkaXRDb250cm9sbGVyKTtcclxuXHJcblx0ZnVuY3Rpb24gTGVhZEVkaXRDb250cm9sbGVyKCRodHRwLCAkcSwgJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIG5nRGlhbG9nLCBMZWFkLCBUcmFkZXNob3csIGJ1c3lTZXJ2aWNlLCBtZXNzYWdlU2VydmljZSwgbGVhZERhdGEpIHtcclxuXHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRcdHZtLmdvQmFjayA9IGdvQmFjaztcclxuXHRcdHZtLnNhdmUgPSBzYXZlO1xyXG5cclxuXHRcdHZtLmxlYWQgPSBsZWFkRGF0YTtcclxuXHRcdHZtLnRpdGxlID0gJ0VkaXRpbmcgTGVhZCc7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHQvLy8vLy8vLy9cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBbQ2FsbGJhY2sgdG8gJ0JhY2snIGJ1dHRvbl1cclxuXHRcdCAqXHJcblx0XHQgKiBAcmV0dXJuIHtbdm9pZF19XHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGdvQmFjaygpIHtcclxuXHRcdFx0JHN0YXRlLmdvKCd0cmFkZXNob3dFZGl0Jywge2lkOiB2bS5sZWFkLnRyYWRlc2hvd19pZH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2F2ZSB0aGUgTGVhZFxyXG5cdFx0ICpcclxuXHRcdCAqIEByZXR1cm4ge1t2b2lkXX1cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gc2F2ZSgpIHtcclxuXHRcdFx0aWYgKHZtLmxlYWRGb3JtLiR2YWxpZCkge1xyXG5cdFx0XHRcdC8vIEFsdGVyIHRoZSB3b3JraW5nIG1lc3NhZ2VcclxuXHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdTYXZpbmcnKTtcclxuXHJcblx0XHRcdFx0Ly8gU2F2ZSB0aGUgTGVhZCB1c2luZyB0aGUgTGVhZCByZXNvdXJjZVxyXG5cdFx0XHRcdExlYWQuXHJcblx0XHRcdFx0XHRzYXZlKHZtLmxlYWQpLlxyXG5cdFx0XHRcdFx0JHByb21pc2UuXHJcblx0XHRcdFx0XHR0aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHRcdFx0dm0ubGVhZCA9IHBheWxvYWQ7XHJcblxyXG5cdFx0XHRcdFx0XHR2bS5hZGRTdWNjZXNzTWVzc2FnZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuY2FjaGUucmVtb3ZlQWxsKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZSBhIFRyYWRlc2hvdyBDb250cm9sbGVyXHJcbiAqIEBjbGFzcyBUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRGlzcGxheXMgYSBmb3JtIGZvciB0aGUgY3JlYXRpb24gb2YgYSBuZXcgdHJhZGVzaG93XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1RyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXInLCBUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyKTtcclxuXHJcblx0ZnVuY3Rpb24gVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCAkc3RhdGUsIG5nRGlhbG9nLCBUcmFkZXNob3csIGF1dGhTZXJ2aWNlLCBidXN5U2VydmljZSwgbWVzc2FnZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uZ29CYWNrID0gZ29CYWNrO1xyXG5cdFx0dm0uc2F2ZSA9IHNhdmU7XHJcblxyXG5cdFx0dm0uaXNOZXcgPSB0cnVlO1xyXG5cdFx0dm0udGl0bGVQcmVmaXggPSBcIkNyZWF0aW5nIG5ld1wiO1xyXG5cdFx0dm0udHJhZGVzaG93ID0ge2FjdGl2ZTogMH07XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHQvLy8vLy8vLy9cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXV0aFNlcnZpY2UuY2hlY2tBcGlBY2Nlc3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENhbGxiYWNrIHRvICdCYWNrJyBidXR0b25cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ29CYWNrKCkge1xyXG5cdFx0XHQkc3RhdGUuZ28oXCJ0cmFkZXNob3dzXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2F2ZSB0aGUgbmV3IHRyYWRlc2hvdyB1c2luZyB0aGUgVHJhZGVzaG93IHJlc291cmNlXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHNhdmUoKSB7XHJcblx0XHRcdGlmICh2bS50cmFkZXNob3dGb3JtLiR2YWxpZCkge1xyXG5cdFx0XHRcdC8vIEFsdGVyIHRoZSB3b3JraW5nIG1lc3NhZ2VcclxuXHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdTYXZpbmcgbmV3Jyk7XHJcblxyXG5cdFx0XHRcdC8vIENyZWF0ZSBUcmFkZXNob3cgdXNpbmcgVHJhZGVzaG93IHJlc291cmNlXHJcblx0XHRcdFx0VHJhZGVzaG93XHJcblx0XHRcdFx0XHQuY3JlYXRlKHZtLnRyYWRlc2hvdylcclxuXHRcdFx0XHRcdC4kcHJvbWlzZVxyXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgdHJhZGVzaG93X2lkID0gcGF5bG9hZC5pZDtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFNob3cgYSBjb25maXJtYXRpb24gZGlhbG9nXHJcblx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xyXG5cdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zYXZlIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZWNrIGdyZWVuIGljb24tbGFyZ2VcIj48L3NwYW4+PHNwYW4+WW91ciBuZXcgdHJhZGVzaG93IGhhcyBiZWVuIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LicgK1xyXG5cdFx0XHRcdFx0XHRcdCcgIENsb3NlIHRoaXMgbWVzc2FnZSBib3ggdG8gcHJvY2VlZCB0byB0aGUgdHJhZGVzaG93XFwncyBlZGl0IHBhZ2UuPC9zcGFuPidcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0LmNsb3NlUHJvbWlzZVxyXG5cdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gTmF2aWdhdGUgdG8gdGhlIG5ldyB0cmFkZXNob3cncyBFZGl0IHBhZ2Ugb24gZGlhbG9nIGNsb3NlXHJcblx0XHRcdFx0XHRcdFx0JHN0YXRlLmdvKCd0cmFkZXNob3dFZGl0Jywge2lkOiB0cmFkZXNob3dfaWR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIFRyYWRlc2hvdyBFZGl0IENvbnRyb2xsZXJcclxuICogQGNsYXNzIFRyYWRlc2hvd0VkaXRDb250cm9sbGVyXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBEaXNwbGF5cyBhbiBlZGl0IGZvcm0gZm9yIGEgdHJhZGVzaG93XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1RyYWRlc2hvd0VkaXRDb250cm9sbGVyJywgVHJhZGVzaG93RWRpdENvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBUcmFkZXNob3dFZGl0Q29udHJvbGxlcigkc2NvcGUsICRxLCAkaHR0cCwgQ2FjaGVGYWN0b3J5LCAkc3RhdGUsIG5nRGlhbG9nLCBhdXRoU2VydmljZSxcclxuXHRcdGJ1c3lTZXJ2aWNlLCBtZXNzYWdlU2VydmljZSwgVHJhZGVzaG93LCBsZWFkU2VydmljZSwgcHJvbWlzZWREYXRhLCBwcm9taXNlZExlYWREYXRhLCBwcm9taXNlZEZvcm1DYWNoZSlcclxuXHR7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRcdHZtLmRlbGV0ZUxlYWQgPSBkZWxldGVMZWFkO1xyXG5cdFx0dm0uZ2V0TGVhZHMgPSBnZXRMZWFkcztcclxuXHRcdHZtLmdvQmFjayA9IGdvQmFjaztcclxuXHRcdHZtLnBsdWNrTGVhZCA9IHBsdWNrTGVhZDtcclxuXHRcdHZtLnJlZnJlc2hMZWFkcyA9IHJlZnJlc2hMZWFkcztcclxuXHRcdHZtLnNhdmUgPSBzYXZlO1xyXG5cdFx0dm0udXBkYXRlUGFnaW5hdGlvbiA9IHVwZGF0ZVBhZ2luYXRpb247XHJcblxyXG5cdFx0dm0uY3VycmVudFBhZ2UgPSBwcm9taXNlZExlYWREYXRhLmRhdGEuY3VycmVudF9wYWdlO1xyXG5cdFx0dm0uZm9ybUNhY2hlID0gcHJvbWlzZWRGb3JtQ2FjaGU7XHJcblx0XHR2bS5pc05ldyA9IGZhbHNlO1xyXG5cdFx0dm0ubGFzdEZldGNoZWRQYWdlID0gMTtcclxuXHRcdHZtLmxlYWRzID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmRhdGE7XHJcblx0XHR2bS5vcmRlckJ5ID0gXCJ1cGRhdGVkX2F0XCI7XHJcblx0XHR2bS5vcmRlckJ5UmV2ZXJzZSA9IFwiMFwiO1xyXG5cdFx0dm0ucGVyUGFnZSA9IFwiMTVcIjtcclxuXHRcdHZtLnF1ZXJ5ID0gXCJcIjtcclxuXHRcdHZtLnRpdGxlUHJlZml4ID0gXCJFZGl0aW5nXCI7XHJcblx0XHR2bS50cmFkZXNob3cgPSBwcm9taXNlZERhdGE7XHJcblx0XHR2bS50b3RhbFBhZ2VzID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmxhc3RfcGFnZTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdC8vLy8vLy8vLy9cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0Ly8gV2F0Y2ggc2NvcGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBjYWNoZVxyXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goWydjdXJyZW50UGFnZScsICdvcmRlckJ5JywgJ29tZycsICdvcmRlckJ5UmV2ZXJzZScsICdwZXJQYWdlJywgJ3F1ZXJ5J10sIGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRcdGlmICh2bS5mb3JtQ2FjaGUuZ2V0KGtleSkpIHtcclxuXHRcdFx0XHRcdHZtW2tleV0gPSB2bS5mb3JtQ2FjaGUuZ2V0KGtleSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ2N0cmwuJyArIGtleSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3VmFsICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0ICAgIHZtLmZvcm1DYWNoZS5wdXQoa2V5LCBuZXdWYWwpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERlbGV0ZSBhIGxlYWRcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGVhZChsZWFkX2lkKSB7XHJcblx0XHRcdGxlYWRTZXJ2aWNlLmRlbGV0ZUxlYWQoIHZtLnBsdWNrTGVhZChsZWFkX2lkKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogR2V0IHRoZSBsZWFkcyB1c2luZyB0aGUgbGVhZFNlcnZpY2VcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0TGVhZHMocGFnZU51bWJlcikge1xyXG5cdFx0XHRpZiAocGFnZU51bWJlciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0cGFnZU51bWJlciA9IHZtLmN1cnJlbnRQYWdlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZtLmxhc3RGZXRjaGVkUGFnZSA9IHBhZ2VOdW1iZXI7XHJcblxyXG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuXHRcdFx0bGVhZFNlcnZpY2VcclxuXHRcdFx0XHQucmV0cmlldmUoXHJcblx0XHRcdFx0XHR2bS50cmFkZXNob3cuaWQsXHJcblx0XHRcdFx0XHRwYWdlTnVtYmVyLFxyXG5cdFx0XHRcdFx0dm0ucGVyUGFnZSxcclxuXHRcdFx0XHRcdHZtLm9yZGVyQnksXHJcblx0XHRcdFx0XHR2bS5vcmRlckJ5UmV2ZXJzZSxcclxuXHRcdFx0XHRcdHZtLnF1ZXJ5XHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcclxuXHRcdFx0XHRcdHZtLmxlYWRzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRcdHZtLmN1cnJlbnRQYWdlID0gcmVzcG9uc2UuY3VycmVudF9wYWdlO1xyXG5cdFx0XHRcdFx0dm0udG90YWxQYWdlcyA9IHJlc3BvbnNlLmxhc3RfcGFnZTtcclxuXHJcblx0XHRcdFx0XHQvLyBSZXNvbHZlIHByb21pc2VcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0Ly8gUmVqZWN0IHByb21pc2VcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChwYXlsb2FkKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxsYmFjayB0byAnZ28gYmFjaycgYnV0dG9uXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGdvQmFjaygpIHtcclxuXHRcdFx0JHN0YXRlLmdvKCd0cmFkZXNob3dzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGaW5kIGEgbGVhZCBpbiB0aGUgbG9jYWwgYXJyYXkgaW4gc2NvcGUgYnkgaWRcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcGx1Y2tMZWFkKGxlYWRfaWQpIHtcclxuXHRcdFx0Zm9yICh2YXIgbiA9IDAsIGxlYWQ7IChsZWFkID0gdm0ubGVhZHNbbl0pOyBuKyspIHtcclxuXHRcdFx0XHRpZiAobGVhZC5pZCA9PSBsZWFkX2lkKSB7IHJldHVybiBsZWFkOyB9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVmcmVzaCB0aGUgbGVhZHNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gcmVmcmVzaExlYWRzKCkge1xyXG5cdFx0XHR2bS5nZXRMZWFkcygpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdC8vIFBhZ2UgbnVtYmVyIHdhcyBvdXQgb2YgcmFuZ2UsIGZldGNoaW5nIGxhc3QgcGFnZSBhdmFpbGFibGVcclxuXHRcdFx0XHRpZiAodm0ubGFzdEZldGNoZWRQYWdlID4gcGF5bG9hZC5kYXRhLmN1cnJlbnRfcGFnZSkge1xyXG5cdFx0XHRcdFx0dm0uZ2V0TGVhZHMocGF5bG9hZC5kYXRhLmxhc3RfcGFnZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnRseSBzY29wZWQgdHJhZGVzaG93IHVzaW5nIFRyYWRlc2hvdyByZXNvdXJjZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBzYXZlKCkge1xyXG5cdFx0XHRpZiAodm0udHJhZGVzaG93Rm9ybS4kdmFsaWQpIHtcclxuXHRcdFx0XHQvLyBBbHRlciB0aGUgXCJidXN5XCIgaW5kaWNhdG9yIG1lc3NhZ2VcclxuXHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdTYXZpbmcnKTtcclxuXHJcblx0XHRcdFx0Ly8gVXNlIFRyYWRlc2hvdyByZXNvdXJjZSB0byBzYXZlIGN1cnJlbnRseSBzY29wZWQgdHJhZGVzaG93XHJcblx0XHRcdFx0VHJhZGVzaG93LnNhdmUodm0udHJhZGVzaG93KS4kcHJvbWlzZVxyXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0XHQvLyBTZXQgdGhlIHRyYWRlc2hvdyBpbiBzY29wZVxyXG5cdFx0XHRcdFx0XHR2bS50cmFkZXNob3cgPSBwYXlsb2FkO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU2hvdyBzdWNjZXNzIGFsZXJ0XHJcblx0XHRcdFx0XHRcdHZtLmFkZFN1Y2Nlc3NNZXNzYWdlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHQkaHR0cC5kZWZhdWx0cy5jYWNoZS5yZW1vdmVBbGwoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xyXG5cdFx0XHRcdFx0XHQvLyBTaG93IGVycm9yIGFsZXJ0XHJcblx0XHRcdFx0XHRcdHZtLmFkZEVycm9yTWVzc2FnZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEVuc3VyZSB3ZSBkb24ndCBnbyBvdXQtb2YtYm91bmRzXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24oKSB7XHJcblx0XHRcdGlmICh2bS5jdXJyZW50UGFnZSAhPSAxKSB7XHJcblx0XHRcdFx0dm0uZ2V0TGVhZHMoMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBUcmFkZXNob3cgTGlzdCBDb250cm9sbGVyXHJcbiAqIEBjbGFzcyBUcmFkZXNob3dMaXN0Q29udHJvbGxlclxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRGlzcGxheXMgYSBwYWdpbmF0ZWQsIGZpbHRlcmVkIHRhYmxlIG9mIGFsbCB0cmFkZXNob3dzLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC50cmFkZXNob3dzJylcclxuXHRcdC5jb250cm9sbGVyKCdUcmFkZXNob3dMaXN0Q29udHJvbGxlcicsIFRyYWRlc2hvd0xpc3RDb250cm9sbGVyKTtcclxuXHJcblx0ZnVuY3Rpb24gVHJhZGVzaG93TGlzdENvbnRyb2xsZXIoJHNjb3BlLCAkcSwgJHRpbWVvdXQsIENhY2hlRmFjdG9yeSwgbmdEaWFsb2csIGF1dGhTZXJ2aWNlLCBidXN5U2VydmljZSwgbWVzc2FnZVNlcnZpY2UsIHRyYWRlc2hvd1NlcnZpY2UsIGxlYWRTZXJ2aWNlLCBwcm9taXNlZERhdGEsIHByb21pc2VkRm9ybUNhY2hlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRcdHZtLmRlbGV0ZVRyYWRlc2hvdyBcdCA9IGRlbGV0ZVRyYWRlc2hvdztcclxuXHRcdHZtLmRlbGV0ZUxlYWRcdFx0ID0gZGVsZXRlTGVhZDtcclxuXHRcdHZtLmRvd25sb2FkUmVwb3J0IFx0ID0gZG93bmxvYWRSZXBvcnQ7XHJcblx0XHR2bS5nZXRMZWFkcyBcdFx0ID0gZ2V0TGVhZHM7XHJcblx0XHR2bS5nZXRUcmFkZXNob3dzIFx0ID0gZ2V0VHJhZGVzaG93cztcclxuXHRcdHZtLnBsdWNrTGVhZFx0XHQgPSBwbHVja0xlYWQ7XHJcblx0XHR2bS5wbHVja1RyYWRlc2hvdyBcdCA9IHBsdWNrVHJhZGVzaG93O1xyXG5cdFx0dm0ucmVmcmVzaFRyYWRlc2hvd3MgPSByZWZyZXNoVHJhZGVzaG93cztcclxuXHJcblx0XHR2bS5jdXJyZW50UGFnZSBcdFx0PSBwcm9taXNlZERhdGEuZGF0YS5jdXJyZW50X3BhZ2U7XHJcblx0XHR2bS5mb3JtQ2FjaGVcdFx0PSBwcm9taXNlZEZvcm1DYWNoZTtcclxuXHRcdHZtLmxhc3RGZXRjaGVkUGFnZSAgPSAxO1xyXG5cdFx0dm0ub3JkZXJCeSBcdFx0XHQ9IFwidXBkYXRlZF9hdFwiO1xyXG5cdFx0dm0ub3JkZXJCeVJldmVyc2UgXHQ9IFwiMVwiO1xyXG5cdFx0dm0ucGVyUGFnZSBcdFx0XHQ9IFwiMTVcIjtcclxuXHRcdHZtLnF1ZXJ5IFx0XHRcdD0gXCJcIjtcclxuXHRcdHZtLnRvdGFsUGFnZXNcdFx0PSBwcm9taXNlZERhdGEuZGF0YS5sYXN0X3BhZ2U7XHJcblx0XHR2bS50cmFkZXNob3dzXHRcdD0gcHJvbWlzZWREYXRhLmRhdGEuZGF0YTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdC8vLy8vLy8vL1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHQvLyBXYXRjaCBzY29wZSB2YXJpYWJsZXMgdG8gdXBkYXRlIGNhY2hlXHJcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChbJ2N1cnJlbnRQYWdlJywgJ29yZGVyQnknLCAnb3JkZXJCeVJldmVyc2UnLCAncGVyUGFnZScsICdxdWVyeSddLCBmdW5jdGlvbih2YXJOYW1lKSB7XHJcblx0XHRcdFx0dmFyIHZhbCA9IHZtLmZvcm1DYWNoZS5nZXQodmFyTmFtZSk7XHJcblx0XHRcdFx0aWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0dm1bdmFyTmFtZV0gPSB2YWw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ2N0cmwuJyArIHZhck5hbWUsIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdCAgICB2bS5mb3JtQ2FjaGUucHV0KHZhck5hbWUsIG5ld1ZhbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERlbGV0ZSBhIGxlYWRcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGVhZChsZWFkX2lkKSB7XHJcblx0XHRcdGxlYWRTZXJ2aWNlLmRlbGV0ZUxlYWQoIHZtLnBsdWNrTGVhZChsZWFkX2lkKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRGVsZXRlIGEgdHJhZGVzaG93IHVzaW5nIHRoZSB0cmFkZXNob3cgc2VydmljZVxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBkZWxldGVUcmFkZXNob3codHJhZGVzaG93X2lkKSB7XHJcblx0XHRcdHZhciB0cmFkZXNob3cgPSB2bS5wbHVja1RyYWRlc2hvdyh0cmFkZXNob3dfaWQpO1xyXG5cdFx0XHR0cmFkZXNob3dTZXJ2aWNlLmRlbGV0ZVRyYWRlc2hvdyh0cmFkZXNob3cpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hlY2tzIGlmIGEgdHJhZGVzaG93IGhhcyBsZWFkcywgYW5kIHJvdXRlcyB1c2VyIHRvIFVSTCB0byBkb3dubG9hZCByZXBvcnRcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZG93bmxvYWRSZXBvcnQodHJhZGVzaG93X2lkKSB7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hcGkvdHJhZGVzaG93cy8nICsgdHJhZGVzaG93X2lkICsgJy9yZXBvcnQ/dG9rZW49JyArIGF1dGhTZXJ2aWNlLnRva2VuLmdldCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVXNlIGxlYWRTZXJ2aWNlIHRvIGZldGNoIGxlYWRzIGZvciB0aGUgdHJhZGVzaG93XHJcblx0XHQgKi9cclxuXHRcdCBmdW5jdGlvbiBnZXRMZWFkcyhwYWdlTnVtYmVyLCB0cmFkZXNob3cpIHtcclxuXHRcdCBcdGJ1c3lTZXJ2aWNlLmZvcmNlSGlkZSgpO1xyXG5cdFx0XHRpZiAodHJhZGVzaG93ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0cmFkZXNob3cgPSB2bS5zZWxlY3RlZFRyYWRlc2hvdztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR2bS5zZWxlY3RlZFRyYWRlc2hvdyA9IHRyYWRlc2hvdztcclxuXHRcdFx0fVxyXG5cdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRsZWFkU2VydmljZVxyXG5cdFx0XHRcdFx0LnJldHJpZXZlKHRyYWRlc2hvdy5pZCwgcGFnZU51bWJlciwgNTAsICdpZCcsIDApXHJcblx0XHRcdFx0XHQudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRcdGJ1c3lTZXJ2aWNlLmZvcmNlSGlkZSh0cnVlKTtcclxuXHRcdFx0XHRcdFx0dmFyIHJlc3BvbnNlID0gcGF5bG9hZC5kYXRhO1xyXG5cclxuXHRcdFx0XHRcdFx0dm0ubGVhZHMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdFx0XHR2bS5sZWFkQ3VycmVudFBhZ2UgPSByZXNwb25zZS5jdXJyZW50X3BhZ2U7XHJcblx0XHRcdFx0XHRcdHZtLmxlYWRUb3RhbFBhZ2VzID0gcmVzcG9uc2UubGFzdF9wYWdlO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRcdHZtLmFkZEVycm9yTWVzc2FnZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogW2dldFRyYWRlc2hvd3MgdXNlIHRyYWRlc2hvd1NlcnZpY2UgdG8gZmV0Y2ggdHJhZGVzaG93c11cclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0VHJhZGVzaG93cyhwYWdlTnVtYmVyKSB7XHJcblx0XHRcdGlmIChwYWdlTnVtYmVyID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRwYWdlTnVtYmVyID0gdm0uY3VycmVudFBhZ2U7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0ubGFzdEZldGNoZWRQYWdlID0gcGFnZU51bWJlcjtcclxuXHJcblx0XHRcdGJ1c3lTZXJ2aWNlLnNldE1lc3NhZ2UoJ1dvcmtpbmcgb24gaXQnKTtcclxuXHJcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG5cdFx0XHR0cmFkZXNob3dTZXJ2aWNlXHJcblx0XHRcdFx0LnJldHJpZXZlKFxyXG5cdFx0XHRcdFx0cGFnZU51bWJlcixcclxuXHRcdFx0XHRcdHZtLnBlclBhZ2UsXHJcblx0XHRcdFx0XHR2bS5vcmRlckJ5LFxyXG5cdFx0XHRcdFx0dm0ub3JkZXJCeVJldmVyc2UsXHJcblx0XHRcdFx0XHR2bS5xdWVyeVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHR2YXIgcmVzcG9uc2UgPSBwYXlsb2FkLmRhdGE7XHJcblxyXG5cdFx0XHRcdFx0dm0udHJhZGVzaG93cyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0XHR2bS5jdXJyZW50UGFnZSA9IHJlc3BvbnNlLmN1cnJlbnRfcGFnZTtcclxuXHRcdFx0XHRcdHZtLnRvdGFsUGFnZXMgPSByZXNwb25zZS5sYXN0X3BhZ2U7XHJcblxyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShwYXlsb2FkKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRmluZCBhIGxlYWQgaW4gdGhlIGxvY2FsIGFycmF5IGluIHNjb3BlIGJ5IGlkXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHBsdWNrTGVhZChsZWFkX2lkKSB7XHJcblx0XHRcdGZvciAodmFyIG4gPSAwLCBsZWFkOyAobGVhZCA9IHZtLmxlYWRzW25dKTsgbisrKSB7XHJcblx0XHRcdFx0aWYgKGxlYWQuaWQgPT0gbGVhZF9pZCkgeyByZXR1cm4gbGVhZDsgfVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEZpbmQgYSB0cmFkZXNob3cgaW4gdGhlIGxvY2FsIGFycmF5IGJ5IGlkXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHBsdWNrVHJhZGVzaG93KHRyYWRlc2hvd19pZCkge1xyXG5cdFx0XHRmb3IgKHZhciBuID0gMCwgdHJhZGVzaG93OyAodHJhZGVzaG93ID0gdm0udHJhZGVzaG93c1tuXSk7IG4rKykge1xyXG5cdFx0XHRcdGlmICh0cmFkZXNob3cuaWQgPT0gdHJhZGVzaG93X2lkKSB7IHJldHVybiB0cmFkZXNob3c7IH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBbcmVmcmVzaFRyYWRlc2hvd3MgQ2FsbHMgZ2V0VHJhZGVzaG93cyB3aXRoIHRoZSBjdXJyZW50bHkgc2NvcGVkIHBhZ2UgbnVtYmVyXVxyXG5cdFx0ICovXHJcblx0XHQgZnVuY3Rpb24gcmVmcmVzaFRyYWRlc2hvd3MoKSB7XHJcblx0XHRcdHZtLmdldFRyYWRlc2hvd3MoKS50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuXHRcdFx0XHQvLyBQYWdlIG51bWJlciB3YXMgb3V0IG9mIHJhbmdlLCBmZXRjaGluZyBsYXN0IHBhZ2UgYXZhaWxhYmxlXHJcblx0XHRcdFx0aWYgKHZtLmxhc3RGZXRjaGVkUGFnZSA+IHBheWxvYWQuZGF0YS5jdXJyZW50X3BhZ2UpIHtcclxuXHRcdFx0XHRcdHZtLmdldFRyYWRlc2hvd3MocGF5bG9hZC5kYXRhLmxhc3RfcGFnZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsJywgW1xyXG4gICAgICAgIC8vIENvbnRyaWJcclxuICAgICAgICAndWkucm91dGVyJyxcclxuICAgICAgICAnYW5ndWxhci1qd3QnLFxyXG4gICAgICAgICdhbmd1bGFyLWNhY2hlJyxcclxuICAgICAgICAnYW5ndWxhci1zcGlua2l0JyxcclxuICAgICAgICAnbmdBbmltYXRlJyxcclxuICAgICAgICAnbmdEaWFsb2cnLFxyXG4gICAgICAgICduZ1Jlc291cmNlJyxcclxuICAgICAgICAnZnJhcG9udGlsbG8uYm9vdHN0cmFwLXN3aXRjaCcsXHJcbiAgICAgICAgJ2FuZ3VsYXItY2hvc2VuJyxcclxuXHJcbiAgICAgICAgLy8gYXBwL3NoYXJlZFxyXG4gICAgICAgICd0c3BvcnRhbC5hdXRoJyxcclxuICAgICAgICAndHNwb3J0YWwuYnVzeUluZGljYXRvcicsXHJcbiAgICAgICAgJ3RzcG9ydGFsLmNsaWNrYWJsZScsXHJcbiAgICAgICAgJ3RzcG9ydGFsLmxlYWQnLFxyXG4gICAgICAgICd0c3BvcnRhbC5tZXNzYWdlcycsXHJcbiAgICAgICAgJ3RzcG9ydGFsLnBhZ2VyJyxcclxuICAgICAgICAndHNwb3J0YWwuc2xpZGVNZW51JyxcclxuICAgICAgICAndHNwb3J0YWwudGltZWFnbycsXHJcbiAgICAgICAgJ3RzcG9ydGFsLnRyYWRlc2hvdycsXHJcblxyXG4gICAgICAgIC8vIGFwcC9jb21wb25lbnRzXHJcbiAgICAgICAgJ3RzcG9ydGFsLmxlYWRzJyxcclxuICAgICAgICAndHNwb3J0YWwudHJhZGVzaG93cycsXHJcbiAgICAgICAgJ3RzcG9ydGFsLmxvZ2luJ1xyXG4gICAgXSlcclxuICAgIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGh0dHBQcm92aWRlciwgc2xpZGVNZW51U2VydmljZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgc2xpZGVNZW51U2VydmljZVByb3ZpZGVyLnJlZ2lzdGVyTWVudSgndHJhZGVzaG93Jywge1xyXG4gICAgICAgICAgICB0aXRsZTogJ1RyYWRlc2hvdzxiciAvPjxzbWFsbD57e3RyYWRlc2hvdy5uYW1lfX08L3NtYWxsPjxiciAvPjxzbWFsbD57e3RyYWRlc2hvdy5sZWFkX2NvdW50fX0gbGVhZHMnLFxyXG4gICAgICAgICAgICBpdGVtczoge1xyXG4gICAgICAgICAgICAgICAgZWRpdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ3RyYWRlc2hvd3Mve3t0cmFkZXNob3cuaWR9fS9lZGl0JyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0VkaXQnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICdjdHJsLmRlbGV0ZVRyYWRlc2hvdyh0cmFkZXNob3cuaWQpJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0RlbGV0ZSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXBvcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogJ2N0cmwuZG93bmxvYWRSZXBvcnQodHJhZGVzaG93LmlkKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFeGNlbCBSZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNob3c6ICd0cmFkZXNob3cubGVhZF9jb3VudCA+IDAnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzbGlkZU1lbnVTZXJ2aWNlUHJvdmlkZXIucmVnaXN0ZXJNZW51KCdsZWFkJywge1xyXG4gICAgICAgICAgICB0aXRsZTogJ0xlYWQ8YnIgLz48c21hbGw+e3tsZWFkLmZpcnN0X25hbWV9fSB7e2xlYWQubGFzdF9uYW1lfX08L3NtYWxsPjxiciAvPjxzbWFsbD57e2xlYWQuZW1haWxfYWRkcmVzc319PC9zbWFsbD4nLFxyXG4gICAgICAgICAgICBpdGVtczoge1xyXG4gICAgICAgICAgICAgICAgZWRpdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2xlYWRzL3t7bGVhZC5pZH19L2VkaXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRWRpdCdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogJ2N0cmwuZGVsZXRlTGVhZChsZWFkLmlkKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEZWxldGUnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRodHRwUHJvdmlkZXIudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2F1dGgnKTtcclxuXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuXHJcbiAgICAgICAgICAgIHN0YXRlKCd0ZXN0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOicvdGVzdCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ3Rlc3QnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjonVHJhZGVzaG93TGlzdENvbnRyb2xsZXIgYXMgY3RybCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdhdXRoJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2F1dGgnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9sb2dpblZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyIGFzIGN0cmwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnbG9nb3V0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ291dCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTonJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyIGFzIGN0cmwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgndHJhZGVzaG93cycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy90cmFkZXNob3dzJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdHJhZGVzaG93TGlzdFZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZGVzaG93TGlzdENvbnRyb2xsZXIgYXMgY3RybCcsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZWREYXRhOiBmdW5jdGlvbiBwcm9taXNlZERhdGEodHJhZGVzaG93U2VydmljZSwgQ2FjaGVGYWN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQ2FjaGVGYWN0b3J5LmdldCgnZm9ybUNhY2hlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYWNoZUZhY3RvcnkoJ2Zvcm1DYWNoZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlT25FeHBpcmU6ICdhZ2dyZXNzaXZlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZU1vZGU6ICdsb2NhbFN0b3JhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoJ2Zvcm1DYWNoZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFkZXNob3dTZXJ2aWNlLnJldHJpZXZlKGNhY2hlLmdldCgnY3VycmVudFBhZ2UnKSwgY2FjaGUuZ2V0KCdwZXJQYWdlJyksIGNhY2hlLmdldCgnb3JkZXJCeScpLCBjYWNoZS5nZXQoJ29yZGVyQnlSZXZlcnNlJyksIGNhY2hlLmdldCgncXVlcnknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlZEZvcm1DYWNoZTogZnVuY3Rpb24gcHJvbWlzZWRGb3JtQ2FjaGUoQ2FjaGVGYWN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENhY2hlRmFjdG9yeS5nZXQoJ2Zvcm1DYWNoZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCd0cmFkZXNob3dFZGl0Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3RyYWRlc2hvd3MvOmlkL2VkaXQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy90cmFkZXNob3dWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWRlc2hvd0VkaXRDb250cm9sbGVyIGFzIGN0cmwnLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VkRGF0YTogZnVuY3Rpb24gcHJvbWlzZWREYXRhKFRyYWRlc2hvdywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRyYWRlc2hvdy5nZXQoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZWRMZWFkRGF0YTogZnVuY3Rpb24gcHJvbWlzZWRMZWFkRGF0YShsZWFkU2VydmljZSwgJHN0YXRlUGFyYW1zLCBDYWNoZUZhY3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gJ3RyYWRlc2hvdycgKyAkc3RhdGVQYXJhbXMuaWQgKyAnTGVhZHNGb3JtJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFDYWNoZUZhY3RvcnkuZ2V0KGNhY2hlS2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhY2hlRmFjdG9yeShjYWNoZUtleSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlTW9kZTogJ2xvY2FsU3RvcmFnZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoY2FjaGVLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVhZFNlcnZpY2UucmV0cmlldmUoJHN0YXRlUGFyYW1zLmlkLCBjYWNoZS5nZXQoJ2N1cnJlbnRQYWdlJyksIGNhY2hlLmdldCgncGVyUGFnZScpLCBjYWNoZS5nZXQoJ29yZGVyQnknKSwgY2FjaGUuZ2V0KCdvcmRlckJ5UmV2ZXJzZScpLCBjYWNoZS5nZXQoJ3F1ZXJ5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZWRGb3JtQ2FjaGU6IGZ1bmN0aW9uIHByb21pc2VkRm9ybUNhY2hlKENhY2hlRmFjdG9yeSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZUtleSA9ICd0cmFkZXNob3cnICsgJHN0YXRlUGFyYW1zLmlkICsgJ0xlYWRzRm9ybSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZUZhY3RvcnkuZ2V0KGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgndHJhZGVzaG93Q3JlYXRlJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3RyYWRlc2hvd3MvY3JlYXRlJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdHJhZGVzaG93Vmlldy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyIGFzIGN0cmwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnbGVhZEVkaXQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6Jy9sZWFkcy86aWQvZWRpdCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2xlYWRWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xlYWRFZGl0Q29udHJvbGxlciBhcyBjdHJsJyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBsZWFkRGF0YTogZnVuY3Rpb24gbGVhZERhdGEoTGVhZCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBMZWFkLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pXHJcbiAgICAucnVuKGZ1bmN0aW9uICgkaHR0cCwgQ2FjaGVGYWN0b3J5KSB7XHJcbiAgICAgIGlmICghQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJykpIHtcclxuICAgICAgICBuZXcgQ2FjaGVGYWN0b3J5KCdkZWZhdWx0Q2FjaGUnLCB7XHJcbiAgICAgICAgICAgIG1heEFnZTogMTUgKiA2MCAqIDEwMDAsXHJcbiAgICAgICAgICAgIGNhY2hlRmx1c2hJbnRlcnZhbDogNjAgKiA2MCAqIDEwMDAsXHJcbiAgICAgICAgICAgIGRlbGV0ZU9uRXhwaXJlOiAnYWdncmVzc2l2ZSdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkaHR0cC5kZWZhdWx0cy5jYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoJ2RlZmF1bHRDYWNoZScpO1xyXG4gICAgfSlcclxuICAgIC5maWx0ZXIoJ3Vuc2FmZScsIGZ1bmN0aW9uKCRzY2UpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
