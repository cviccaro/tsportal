!function(){"use strict";function e(e,t){function r(){e.workingMessage=g.defaultMessage}function a(e){return u}function n(){d=!1}function o(){return d}function s(){return $(".loading-indicator").is(":visible")}function i(){this.setMessage(this.defaultMessage)}function c(t){u=e.workingMessage=t}function l(){d=!0}var u,d=!1,g={defaultMessage:"Working on it",getMessage:a,hide:n,isBusy:o,isVisible:s,resetMessage:i,setMessage:c,show:l};return r(),g}angular.module("busyService",[]).factory("busyService",e),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t){return e("api/leads/:id",{id:"@id"},{index:{method:"GET",url:"api/tradeshows/:tradeshowId/leads",params:{tradeshowId:"@tradeshowId"}},get:{cache:t.get("defaultCache")}})}angular.module("leadServices",[]).factory("Lead",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t,r,a,n){function o(t,r,a,n,o,s){return void 0===r&&(r="1"),void 0===n&&(n="updated_at"),void 0===o&&(o=0),void 0===a&&(a=15),void 0===s&&(s=""),e.get("api/tradeshows/"+t+"/leads?page="+r+"&perPage="+a+"&orderBy="+n+"&orderByReverse="+parseInt(o)+"&filter="+s,{cache:!0})}function s(e){var a=e.first_name+" "+e.last_name,o='<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Lead <em>'+a+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>';t.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:o,showClose:!1}).then(function(){n.setMessage("Deleting"),r["delete"]({id:e.id}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?t.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Lead <em>'+a+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+a+"</em>.</span>  Please try again or contact support."})},function(e){t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+a+"</em>.</span>  Please try again or contact support."})})})}var i={deleteLead:s,retrieve:o};return i}angular.module("leadServices").factory("leadService",e),e.$inject=["$http","ngDialog","Lead","$rootScope","busyService"]}(),function(){"use strict";function e(e,t,r,a,n,o,s){function i(){var e=r.defer();return this.hasToken()?(t.isLoggedIn=!0,e.resolve()):(this.loginCancelled(),e.reject()),e.promise}function c(){var e=this.token.get();return void 0!==e&&null!==e}function l(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function u(e){var t=r.defer();return n.post("/api/authenticate",e,{cache:!1}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise}function d(e,r){o.rejectAll(r),t.$broadcast("event:auth-login-cancelled",e),this.logout()}function g(e,r){var a=r||function(e){return e};t.$broadcast("event:auth-logged-in",e),t.isLoggedIn=!0,o.retryAll(a)}function h(){this.token.remove(),e.go("auth")}function p(e){var t=r.defer(),a=this,o={cache:!1,headers:{}};return"undefined"!=typeof e&&(o.headers.Authorization="Bearer "+e),n.get("api/authenticate/refresh",o).then(function(e){a.token.set(e.data.token),a.loginConfirmed(),t.resolve(e)})["catch"](function(e){a.loginCancelled(),t.reject(e)}),t.promise}function f(){return w.get("token")}function m(){w.remove("token")}function v(e){w.put("token",e)}a.get("authCache")||new a("authCache",{maxAge:354e4,deleteOnExpire:"aggressive",storageMode:"localStorage",onExpire:function(e,t){var r=s.get("loginService");r.refresh(t).then(function(t){w.put(e,t.data.token)})}});var w=a.get("authCache");t.isLoggedIn=void 0!==w.get("token");var y={checkApiAccess:i,hasToken:c,isValidEmail:l,login:u,loginCancelled:d,loginConfirmed:g,logout:h,refresh:p,token:{get:f,set:v,remove:m}};return y}angular.module("loginService",[]).factory("loginService",e),e.$inject=["$state","$rootScope","$q","CacheFactory","$http","httpBuffer","$injector"]}(),function(){"use strict";function e(e,t){function r(e){return e.id=s.length+1,s.push(e),e}function a(){return s}function n(e){s[e-1]&&s.splice(e-1,1)}function o(){s=[]}var s=[],i={addMessage:r,getMessages:a,purge:o,removeMessage:n};return i}angular.module("messageService",[]).factory("messageService",e),e.$inject=["$timeout","$q"]}(),function(){"use strict";function e(e,t){return e("api/tradeshows/:id",{id:"@id"},{get:{cache:t.get("defaultCache")},create:{method:"POST",url:"api/tradeshows/create"},"delete":{method:"DELETE"}})}angular.module("tradeshowServices",["ngResource"]).factory("Tradeshow",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t,r,a,n){function o(e){var r=e.name,o=e.id;i=a.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:'<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Tradeshow <em>'+r+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>',showClose:!1}).then(function(){n.setMessage("Deleting"),t["delete"]({tradeshowId:o}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?a.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Tradeshow <em>'+r+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):a.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+r+"</em>.</span>  Please try again or contact support."})},function(e){a.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+r+"</em>.</span>  Please try again or contact support."})})})}function s(t,r,a,n,o){return void 0===t&&(t="1"),void 0===a&&(a="id"),void 0===n&&(n=0),void 0===r&&(r=15),void 0===o&&(o=""),e.get("api/tradeshows?page="+t+"&perPage="+r+"&orderBy="+a+"&orderByReverse="+parseInt(n)+"&filter="+o,{cache:!0})}var i,c={retrieve:s,deleteTradeshow:o};return c}angular.module("tradeshowServices").factory("tradeshowService",e),e.$inject=["$http","Tradeshow","$rootScope","ngDialog","busyService"]}(),function(){"use strict";function e(e,t,r){function a(r,a,n){function o(){t.$on("$stateChangeStart",function(){e.resetMessage(),e.show()}),t.$on("$stateChangeSuccess",function(){e.hide()})}function s(){return e.isBusy()}t.isBusy=s,o()}var n={restrict:"E",templateUrl:"../partials/busy-indicator.html",replace:!0,link:a};return n}angular.module("tsportalDirectives",[]).directive("busyIndicator",e),e.$inject=["busyService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,r){t.addClass("clickable"),t.on("click",function(){null===navigator.userAgent.match(/PhantomJS/g)&&(t.siblings().removeClass("active"),t.addClass("active"))})}var t={link:e};return t}angular.module("tsportalDirectives").directive("clickable",e)}(),function(){"use strict";function e(e,t,r){function a(a,n,o){var s=a.hasOwnProperty("ctrl")?a.ctrl:a;a.$watch(function(){return e.getMessages()},function(e,t){"undefined"!=typeof e&&(s.messages=e)}),t.$on("$stateChangeSuccess",function(){e.purge()}),s.addMessage=function(t){t=e.addMessage(t),r(function(){$(".messages .alert[message-id="+t.id+"]").addClass("in")})},s.removeMessage=function(t){$(".messages .alert[message-id="+t+"]").on("transitionend",function(){a.$apply()}).css("opacity",0),r(function(){e.removeMessage(t)})},s.addSuccessMessage=function(e){var t={icon:"ok",type:"success",iconClass:"icon-medium",dismissible:!0,message:"Your changes have been saved"};return e=$.extend(t,e),s.addMessage(e)},s.addErrorMessage=function(e){var t={type:"danger",dismissible:!0,icon:"exclamation-sign",iconClass:"icon-medium",message:"Sorry, something went wrong."};return e=$.extend(t,e),s.addMessage(e)},s.purgeMessages=function(){e.purge()}}var n={restrict:"E",templateUrl:"../partials/messages.html",replace:!0,link:a};return n}angular.module("tsportalDirectives").directive("messages",e),e.$inject=["messageService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,r){e.getRange=function(e){return new Array(e)}}var t={restrict:"E",scope:{currentPage:"=",totalPages:"=",getResults:"&getResults",tradeshow:"="},templateUrl:"../partials/pager.html",link:e};return t}angular.module("tsportalDirectives").directive("pager",e)}(),function(){"use strict";function e(e,t){function r(e,t,r){e.slideMenu={hideMenu:function(){t.removeClass("visible")},showMenu:function(){t.addClass("visible")},setAlignment:function(r){e.alignment=r,t.attr("alignment",r)}}}var a={restrict:"E",scope:{alignment:"@"},replace:!0,transclude:!0,templateUrl:"../partials/slide-menu-directive.html",link:r};return a}angular.module("tsportalDirectives").directive("slideMenu",e),e.$inject=["$timeout","$rootScope"]}(),function(){"use strict";function e(){function e(e,t,r){e.getTimeAgo=function(e){return moment(e,moment.ISO_8601).fromNow()}}var t={restrict:"E",scope:{time:"="},template:'<span class="time-ago">{{getTimeAgo(time)}}</span>',link:e};return t}angular.module("tsportalDirectives").directive("timeago",e)}(),function(){"use strict";function e(e){function t(e,t){s.push({config:e,deferred:t})}function r(e){if(e)for(var t=0;t<s.length;++t)s[t].deferred.reject(e);s=[]}function a(e){for(var t=0;t<s.length;++t)n(e(s[t].config),s[t].deferred);s=[]}function n(t,r){function a(e){r.resolve(e)}function n(e){r.reject(e)}o=o||e.get("$http"),o(t).then(a,n)}var o,s=[],i={append:t,rejectAll:r,retryAll:a,retryHttpRequest:n};return i}function t(e,t,r,a){var n,o,s,i=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return n=n||e.get("loginService"),t.url.match(i)&&"/api/authenticate"!=t.url&&!t.headers.hasOwnProperty("Authorization")&&(n.hasToken()?t.headers.Authorization="Bearer "+n.token.get():(s=s||e.get("$state"),s.go("auth"))),t},response:function(t){var r=t.config;return"/api/authenticate"==r.url&&"POST"==r.method&&200==t.status&&(n=n||e.get("loginService"),t.data.hasOwnProperty("token")&&(n.token.set(t.data.token),n.loginConfirmed())),t},responseError:function(i){var c=r.defer();switch(n=n||e.get("loginService"),s=s||e.get("$state"),i.status){case 400:n.loginCancelled();break;case 401:if(i.data.hasOwnProperty("error")&&"token_expired"==i.data.error)return a.append(i.config,c),t.$broadcast("event:auth-login-required",i),n.hasToken()&&n.refresh(),c.promise;break;case 403:t.$broadcast("event:auth-forbidden",i),n.loginCancelled();break;case 500:o=o||e.get("ngDialog"),o.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>Sorry, something went wrong.  Try again later.</span>'})}return c.reject(i),c.promise}}}angular.module("authInterceptor",[]).factory("httpBuffer",e).config(["$httpProvider",function(e){e.interceptors.push(t)}]),e.$inject=["$injector"],t.$inject=["$injector","$rootScope","$q","httpBuffer"]}(),function(){"use strict";function e(e,t){var r=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return t.url.match(r)&&e.show(),t},response:function(t){return t.config.url.match(r)&&e.hide(),t},responseError:function(a){return a.config.url.match(r)&&e.hide(),t.reject(a)}}}angular.module("busyService").config(["$httpProvider",function(t){t.interceptors.push(e)}]),e.$inject=["busyService","$q"]}(),function(){"use strict";function e(e,t,r,a,n,o){function s(){o.get("loginForm")||new o("loginForm",{maxAge:24192e5,deleteOnExpire:"aggressive",storageMode:"localStorage"}),c.cache=o.get("loginForm"),c.cache.get("rememberMe")&&c.cache.get("email")&&(c.rememberMe=c.cache.get("rememberMe"),c.email=c.cache.get("email")),a.hasToken()&&r.go("tradeshows")}function i(){var e={email:c.email,password:c.password};c.purgeMessages(),a.login(e).then(function(e){c.rememberMe&&(c.cache.put("email",c.email),c.cache.put("rememberMe",c.rememberMe)),r.go("tradeshows")})["catch"](function(e){c.addErrorMessage({message:"The email or password entered was incorrect."})})}var c=this;c.cache=null,c.rememberMe=!1,c.login=i,s()}angular.module("authControllers",[]).controller("AuthController",e),e.$inject=["$rootScope","$scope","$state","loginService","$timeout","CacheFactory"]}(),function(){"use strict";function e(e,t,r,a,n,o,s,i,c,l,u,d,g){function h(){}function p(){a.go("tradeshowEdit",{id:m.lead.tradeshow_id})}function f(){m.leadForm.$valid&&(c.setMessage("Saving"),s.save(m.lead).$promise.then(function(e){m.lead=e,m.addSuccessMessage(),r.defaults.cache.removeAll()})["catch"](function(e){m.addErrorMessage()}))}var m=this;m.goBack=p,m.save=f,m.lead=u,m.title="Editing Lead",h()}angular.module("leadControllers",[]).controller("LeadController",e),e.$inject=["$scope","$q","$http","$state","$stateParams","ngDialog","Lead","Tradeshow","busyService","messageService","leadData","$timeout","$log"]}(),function(){"use strict";function e(e){e.logout()}angular.module("authControllers").controller("LogoutController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,r,a,n,o,s,i,c){function l(){s.checkApiAccess()}function u(){r.go("tradeshows")}function d(){g.tradeshowForm.$valid&&(i.setMessage("Saving new"),o.create(g.tradeshow).$promise.then(function(e){var t=e.id;n.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Your new tradeshow has been created successfully.  Close this message box to proceed to the tradeshow\'s edit page.</span>'}).closePromise.then(function(e){r.go("tradeshowEdit",{id:t})})})["catch"](function(e){g.addErrorMessage()}))}var g=this;g.goBack=u,g.save=d,g.isNew=!0,g.titlePrefix="Creating new",g.tradeshow={active:0},l()}angular.module("tradeshowControllers",[]).controller("TradeshowCreateController",e),e.$inject=["$scope","$timeout","$state","$stateParams","ngDialog","Tradeshow","loginService","busyService","messageService"]}(),function(){"use strict";function e(e,t,r,a,n,o,s,i,c,l,u,d,g,h){function p(){angular.forEach(["currentPage","orderBy","omg","orderByReverse","perPage","query"],function(t){S.formCache.get(t)&&(S[t]=S.formCache.get(t)),e.$watch("ctrl."+t,function(e,r){"undefined"!=typeof e&&S.formCache.put(t,e)})})}function f(e){u.deleteLead(S.pluckLead(e))}function m(e){void 0===e&&(e=S.currentPage),S.lastFetchedPage=e;var r=t.defer();return u.retrieve(S.tradeshow.id,e,S.perPage,S.orderBy,S.orderByReverse,S.query).then(function(e){var t=e.data;S.leads=t.data,S.currentPage=t.current_page,S.totalPages=t.last_page,r.resolve(e)})["catch"](function(e){r.reject(e)}),r.promise}function v(){n.go("tradeshows")}function w(e){for(var t,r=0;t=S.leads[r];r++)if(t.id==e)return t;return!1}function y(){S.getLeads().then(function(e){S.lastFetchedPage>e.data.current_page&&S.getLeads(e.data.last_page)})}function $(){S.tradeshowForm.$valid&&(i.setMessage("Saving"),l.save(S.tradeshow).$promise.then(function(e){S.tradeshow=e,S.addSuccessMessage(),r.defaults.cache.removeAll()})["catch"](function(e){S.addErrorMessage()}))}function C(){1!=S.currentPage&&S.getLeads(1)}var S=this;S.deleteLead=f,S.getLeads=m,S.goBack=v,S.pluckLead=w,S.refreshLeads=y,S.save=$,S.updatePagination=C,S.currentPage=g.data.current_page,S.formCache=h,S.isNew=!1,S.lastFetchedPage=1,S.leads=g.data.data,S.orderBy="updated_at",S.orderByReverse="0",S.perPage="15",S.query="",S.titlePrefix="Editing",S.tradeshow=d,S.totalPages=g.data.last_page,p()}angular.module("tradeshowControllers").controller("TradeshowDetailController",e),e.$inject=["$scope","$q","$http","CacheFactory","$state","ngDialog","loginService","busyService","messageService","Tradeshow","leadService","promisedData","promisedLeadData","promisedFormCache"]}(),function(){"use strict";function e(e,t,r,a,n,o,s,i,c,l,u,d){function g(){angular.forEach(["currentPage","orderBy","orderByReverse","perPage","query"],function(t){var r=y.formCache.get(t);void 0!==r&&null!==r&&(y[t]=r),e.$watch("ctrl."+t,function(e,r){"undefined"!=typeof e&&y.formCache.put(t,e)})})}function h(e){var t=y.pluckTradeshow(e);c.deleteTradeshow(t)}function p(e){window.location.href="/api/tradeshows/"+e+"/report?token="+o.token.get()}function f(e,t){void 0===t?t=y.selectedTradeshow:y.selectedTradeshow=t,l.retrieve(t.id,e,50,"id",0).then(function(e){var t=e.data;y.leads=t.data,y.leadCurrentPage=t.current_page,y.leadTotalPages=t.last_page})["catch"](function(e){y.addErrorMessage()})}function m(e){void 0===e&&(e=y.currentPage),y.lastFetchedPage=e,s.setMessage("Working on it");var r=t.defer();return c.retrieve(e,y.perPage,y.orderBy,y.orderByReverse,y.query).then(function(e){var t=e.data;y.tradeshows=t.data,y.currentPage=t.current_page,y.totalPages=t.last_page,r.resolve(e)})["catch"](function(e){r.reject(e)}),r.promise}function v(e){for(var t,r=0;t=y.tradeshows[r];r++)if(t.id==e)return t;return!1}function w(){y.getTradeshows().then(function(e){y.lastFetchedPage>e.data.current_page&&y.getTradeshows(e.data.last_page)})}var y=this;y.deleteTradeshow=h,y.downloadReport=p,y.getLeads=f,y.getTradeshows=m,y.pluckTradeshow=v,y.refreshTradeshows=w,y.currentPage=u.data.current_page,y.formCache=d,y.lastFetchedPage=1,y.orderBy="updated_at",y.orderByReverse="0",y.perPage="15",y.query="",y.totalPages=u.data.last_page,y.tradeshows=u.data.data,g()}angular.module("tradeshowControllers").controller("TradeshowListController",e),e.$inject=["$scope","$q","$timeout","CacheFactory","ngDialog","loginService","busyService","messageService","tradeshowService","leadService","promisedData","promisedFormCache"]}(),function(){"use strict";angular.module("tsportal",["ui.router","angular-jwt","angular-cache","angular-spinkit","ngAnimate","ngDialog","frapontillo.bootstrap-switch","tsportalDirectives","loginService","busyService","messageService","authInterceptor","authControllers","tradeshowControllers","tradeshowServices","leadControllers","leadServices"]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(e,t,r){r.useLegacyPromiseExtensions=!1,t.otherwise("/auth"),e.state("auth",{url:"/auth",templateUrl:"../partials/login-form.html",controller:"AuthController as ctrl"}).state("logout",{url:"/logout",template:"",controller:"LogoutController as ctrl"}).state("tradeshows",{url:"/tradeshows",templateUrl:"../partials/tradeshow-list.html",controller:"TradeshowListController as ctrl",resolve:{promisedData:["tradeshowService","CacheFactory",function(e,t){t.get("formCache")||new t("formCache",{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var r=t.get("formCache");return e.retrieve(r.get("currentPage"),r.get("perPage"),r.get("orderBy"),r.get("orderByReverse"),r.get("query"))}],promisedFormCache:["CacheFactory",function(e){return e.get("formCache")}]}}).state("tradeshowEdit",{url:"/tradeshows/:id/edit",templateUrl:"../partials/tradeshow-detail.html",controller:"TradeshowDetailController as ctrl",resolve:{promisedData:["Tradeshow","$stateParams",function(e,t){return e.get({id:t.id}).$promise}],promisedLeadData:["leadService","$stateParams","CacheFactory",function(e,t,r){var a="tradeshow"+t.id+"LeadsForm";r.get(a)||new r(a,{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var n=r.get(a);return e.retrieve(t.id,n.get("currentPage"),n.get("perPage"),n.get("orderBy"),n.get("orderByReverse"),n.get("query"))}],promisedFormCache:["CacheFactory","$stateParams",function(e,t){var r="tradeshow"+t.id+"LeadsForm";return e.get(r)}]}}).state("tradeshowCreate",{url:"/tradeshows/create",templateUrl:"../partials/tradeshow-detail.html",controller:"TradeshowCreateController as ctrl"}).state("leadEdit",{url:"/leads/:id/edit",templateUrl:"../partials/lead-detail.html",controller:"LeadController as ctrl",resolve:{leadData:["Lead","$stateParams",function(e,t){return e.get({id:t.id}).$promise}]}})}]).run(["$http","CacheFactory",function(e,t){t.get("defaultCache")||new t("defaultCache",{maxAge:9e5,cacheFlushInterval:36e5,deleteOnExpire:"aggressive"}),e.defaults.cache=t.get("defaultCache")}]).filter("unsafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c3lTZXJ2aWNlLmpzIiwicHVibGljL2pzL2FwcC5iYXNlLmpzIiwibGVhZFJlc291cmNlLmpzIiwibGVhZFNlcnZpY2UuanMiLCJsb2dpblNlcnZpY2UuanMiLCJtZXNzYWdlU2VydmljZS5qcyIsInRyYWRlc2hvd1Jlc291cmNlLmpzIiwidHJhZGVzaG93U2VydmljZS5qcyIsImJ1c3lJbmRpY2F0b3JEaXJlY3RpdmUuanMiLCJjbGlja2FibGVEaXJlY3RpdmUuanMiLCJtZXNzYWdlc0RpcmVjdGl2ZS5qcyIsInBhZ2VyRGlyZWN0aXZlLmpzIiwic2xpZGVNZW51RGlyZWN0aXZlLmpzIiwidGltZWFnb0RpcmVjdGl2ZS5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImJ1c3lTZXJ2aWNlSW50ZXJjZXB0b3IuanMiLCJhdXRoQ29udHJvbGxlci5qcyIsImxlYWRDb250cm9sbGVyLmpzIiwibG9nb3V0Q29udHJvbGxlci5qcyIsInRyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXIuanMiLCJ0cmFkZXNob3dEZXRhaWxDb250cm9sbGVyLmpzIiwidHJhZGVzaG93TGlzdENvbnRyb2xsZXIuanMiLCJhcHAuYW5ndWxhci5qcyJdLCJuYW1lcyI6WyJidXN5U2VydmljZSIsIiRyb290U2NvcGUiLCIkdGltZW91dCIsImFjdGl2YXRlIiwid29ya2luZ01lc3NhZ2UiLCJzZXJ2aWNlIiwiZGVmYXVsdE1lc3NhZ2UiLCJnZXRNZXNzYWdlIiwibXNnIiwibWVzc2FnZSIsImhpZGUiLCJhbUlCdXN5IiwiaXNCdXN5IiwiaXNWaXNpYmxlIiwiJCIsImlzIiwicmVzZXRNZXNzYWdlIiwidGhpcyIsInNldE1lc3NhZ2UiLCJzaG93IiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCIkaW5qZWN0IiwiTGVhZCIsIiRyZXNvdXJjZSIsIkNhY2hlRmFjdG9yeSIsImlkIiwiaW5kZXgiLCJtZXRob2QiLCJ1cmwiLCJwYXJhbXMiLCJ0cmFkZXNob3dJZCIsImdldCIsImNhY2hlIiwibGVhZFNlcnZpY2UiLCIkaHR0cCIsIm5nRGlhbG9nIiwicmV0cmlldmUiLCJ0cmFkZWhvd19pZCIsInBhZ2VOdW1iZXIiLCJwZXJQYWdlIiwib3JkZXJCeSIsIm9yZGVyQnlSZXZlcnNlIiwiZmlsdGVyIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJkZWxldGVMZWFkIiwibGVhZCIsImxlYWRfbmFtZSIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJkaWFsb2dfaHRtbCIsIm9wZW5Db25maXJtIiwicGxhaW4iLCJjbGFzc05hbWUiLCJ0ZW1wbGF0ZSIsInNob3dDbG9zZSIsInRoZW4iLCIkcHJvbWlzZSIsInBheWxvYWQiLCJoYXNPd25Qcm9wZXJ0eSIsInN1Y2Nlc3MiLCJvcGVuIiwiY2xvc2VQcm9taXNlIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvclJlc3BvbnNlIiwibG9naW5TZXJ2aWNlIiwiJHN0YXRlIiwiJHEiLCJodHRwQnVmZmVyIiwiJGluamVjdG9yIiwiY2hlY2tBcGlBY2Nlc3MiLCJkZWZlcnJlZCIsImRlZmVyIiwiaGFzVG9rZW4iLCJpc0xvZ2dlZEluIiwicmVzb2x2ZSIsImxvZ2luQ2FuY2VsbGVkIiwicmVqZWN0IiwicHJvbWlzZSIsInQiLCJ0b2tlbiIsImlzVmFsaWRFbWFpbCIsImVtYWlsIiwicGF0dGVybiIsInRlc3QiLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwicG9zdCIsImRhdGEiLCJyZWFzb24iLCJyZWplY3RBbGwiLCIkYnJvYWRjYXN0IiwibG9nb3V0IiwibG9naW5Db25maXJtZWQiLCJjb25maWdVcGRhdGVyIiwidXBkYXRlciIsImNvbmZpZyIsInJldHJ5QWxsIiwicmVtb3ZlIiwiZ28iLCJyZWZyZXNoIiwidG9rZW5TdHJpbmciLCJ0aGF0IiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJzZXQiLCJ0b2tlbkdldCIsInRva2VuUmVtb3ZlIiwidG9rZW5TZXQiLCJwdXQiLCJtYXhBZ2UiLCJkZWxldGVPbkV4cGlyZSIsInN0b3JhZ2VNb2RlIiwib25FeHBpcmUiLCJrZXkiLCJ2YWx1ZSIsInN2YyIsIm1lc3NhZ2VTZXJ2aWNlIiwiYWRkTWVzc2FnZSIsIm1lc3NhZ2VzIiwibGVuZ3RoIiwicHVzaCIsImdldE1lc3NhZ2VzIiwicmVtb3ZlTWVzc2FnZSIsInNwbGljZSIsInB1cmdlIiwiVHJhZGVzaG93IiwiY3JlYXRlIiwiZGVsZXRlIiwidHJhZGVzaG93U2VydmljZSIsImRlbGV0ZVRyYWRlc2hvdyIsInRyYWRlc2hvdyIsInRyYWRlc2hvd19uYW1lIiwibmFtZSIsInRyYWRlc2hvd19pZCIsImFjdGl2ZURpYWxvZyIsImJ1c3lJbmRpY2F0b3JEaXJlY3RpdmUiLCJidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwiJG9uIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJsaW5rIiwiY2xpY2thYmxlRGlyZWN0aXZlIiwiY2xpY2thYmxlRGlyZWN0aXZlTGluayIsImFkZENsYXNzIiwib24iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJtZXNzYWdlc0RpcmVjdGl2ZSIsIm1lc3NhZ2VzRGlyZWN0aXZlTGluayIsInZtIiwiY3RybCIsIiR3YXRjaCIsIm5ld1ZhbCIsIm9sZFZhbCIsIiRhcHBseSIsImNzcyIsImFkZFN1Y2Nlc3NNZXNzYWdlIiwiZGVmYXVsdHMiLCJpY29uIiwidHlwZSIsImljb25DbGFzcyIsImRpc21pc3NpYmxlIiwiZXh0ZW5kIiwiYWRkRXJyb3JNZXNzYWdlIiwicHVyZ2VNZXNzYWdlcyIsInBhZ2VyRGlyZWN0aXZlIiwicGFnZXJEaXJlY3RpdmVMaW5rIiwiZ2V0UmFuZ2UiLCJudW0iLCJBcnJheSIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlcyIsImdldFJlc3VsdHMiLCJzbGlkZU1lbnVEaXJlY3RpdmUiLCJzbGlkZU1lbnVEaXJlY3RpdmVMaW5rIiwic2xpZGVNZW51IiwiaGlkZU1lbnUiLCJzaG93TWVudSIsInNldEFsaWdubWVudCIsInBvcyIsImFsaWdubWVudCIsImF0dHIiLCJ0cmFuc2NsdWRlIiwidGltZWFnb0RpcmVjdGl2ZSIsInRpbWVhZ29EaXJlY3RpdmVMaW5rIiwiZ2V0VGltZUFnbyIsInRpbWUiLCJtb21lbnQiLCJJU09fODYwMSIsImZyb21Ob3ciLCJhcHBlbmQiLCJidWZmZXIiLCJpIiwicmV0cnlIdHRwUmVxdWVzdCIsInN1Y2Nlc3NDYWxsYmFjayIsInJlc3BvbnNlIiwiZXJyb3JDYWxsYmFjayIsImF1dGhJbnRlcmNlcHRvciIsImFwaVBhdHRlcm4iLCJyZXF1ZXN0Iiwic3RhdHVzIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsImVycm9yIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsImJ1c3lTZXJ2aWNlSW50ZXJjZXB0b3IiLCJBdXRoQ29udHJvbGxlciIsIiRzY29wZSIsInJlbWVtYmVyTWUiLCJwYXNzd29yZCIsImNvbnRyb2xsZXIiLCJMZWFkQ29udHJvbGxlciIsIiRzdGF0ZVBhcmFtcyIsImxlYWREYXRhIiwiJGxvZyIsImdvQmFjayIsInNhdmUiLCJsZWFkRm9ybSIsIiR2YWxpZCIsInJlbW92ZUFsbCIsInRpdGxlIiwiTG9nb3V0Q29udHJvbGxlciIsIlRyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXIiLCJ0cmFkZXNob3dGb3JtIiwiaXNOZXciLCJ0aXRsZVByZWZpeCIsImFjdGl2ZSIsIlRyYWRlc2hvd0RldGFpbENvbnRyb2xsZXIiLCJwcm9taXNlZERhdGEiLCJwcm9taXNlZExlYWREYXRhIiwicHJvbWlzZWRGb3JtQ2FjaGUiLCJmb3JFYWNoIiwiZm9ybUNhY2hlIiwibGVhZF9pZCIsInBsdWNrTGVhZCIsImdldExlYWRzIiwibGFzdEZldGNoZWRQYWdlIiwicXVlcnkiLCJsZWFkcyIsImN1cnJlbnRfcGFnZSIsImxhc3RfcGFnZSIsIm4iLCJyZWZyZXNoTGVhZHMiLCJ1cGRhdGVQYWdpbmF0aW9uIiwiVHJhZGVzaG93TGlzdENvbnRyb2xsZXIiLCJ2YXJOYW1lIiwidmFsIiwicGx1Y2tUcmFkZXNob3ciLCJkb3dubG9hZFJlcG9ydCIsImhyZWYiLCJzZWxlY3RlZFRyYWRlc2hvdyIsImxlYWRDdXJyZW50UGFnZSIsImxlYWRUb3RhbFBhZ2VzIiwiZ2V0VHJhZGVzaG93cyIsInRyYWRlc2hvd3MiLCJyZWZyZXNoVHJhZGVzaG93cyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwidXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMiLCJvdGhlcndpc2UiLCJzdGF0ZSIsImNhY2hlS2V5IiwicnVuIiwiY2FjaGVGbHVzaEludGVydmFsIiwiJHNjZSIsInRydXN0QXNIdG1sIl0sIm1hcHBpbmdzIjoiQ0FJQSxXQUVBLFlBTUEsU0FBQUEsR0FBQUMsRUFBQUMsR0FvQkEsUUFBQUMsS0FDQUYsRUFBQUcsZUFBQUMsRUFBQUMsZUFHQSxRQUFBQyxHQUFBQyxHQUNBLE1BQUFDLEdBR0EsUUFBQUMsS0FDQUMsR0FBQSxFQUdBLFFBQUFDLEtBQ0EsTUFBQUQsR0FHQSxRQUFBRSxLQUNBLE1BQUFDLEdBQUEsc0JBQUFDLEdBQUEsWUFHQSxRQUFBQyxLQUNBQyxLQUFBQyxXQUFBRCxLQUFBWCxnQkFHQSxRQUFBWSxHQUFBVixHQUNBQyxFQUFBUixFQUFBRyxlQUFBSSxFQUdBLFFBQUFXLEtBQ0FSLEdBQUEsRUFoREEsR0FBQUYsR0FBQUUsR0FBQSxFQUVBTixHQUNBQyxlQUFBLGdCQUNBQyxXQUFBQSxFQUNBRyxLQUFBQSxFQUNBRSxPQUFBQSxFQUNBQyxVQUFBQSxFQUNBRyxhQUFBQSxFQUNBRSxXQUFBQSxFQUNBQyxLQUFBQSxFQUtBLE9BRkFoQixLQUVBRSxFQXBCQWUsUUFDQUMsT0FBQSxrQkFDQUMsUUFBQSxjQUFBdEIsR0NzRENBLEVBQVl1QixTQUFXLGFBQWMsZUNoRXRDLFdBRUEsWUFNQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUNBLE1BQUFELEdBQUEsaUJBQUFFLEdBQUEsUUFDQUMsT0FBQUMs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TSxHQUNBLE1BQUExTSxHQUFBUyxLQUFBTixHQUFBdU0sRUFBQXZNLEtBQUFnQyxpQkFLQXlOLEtBQUEsUUFBQSxlQUFBLFNBQUFoUCxFQUFBVixHQUNBQSxFQUFBTyxJQUFBLGlCQUNBLEdBQUFQLEdBQUEsZ0JBQ0F3RixPQUFBLElBQ0FtSyxtQkFBQSxLQUNBbEssZUFBQSxlQUlBL0UsRUFBQXNJLFNBQUF4SSxNQUFBUixFQUFBTyxJQUFBLG1CQUVBVyxPQUFBLFVBQUEsT0FBQSxTQUFBME8sR0FDQSxNQUFBLFVBQUFsQixHQUNBLE1BQUFrQixHQUFBQyxZQUFBbkIiLCJmaWxlIjoicHVibGljL2pzL2FwcC5iYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCdXN5IEluZGljYXRvciBTZXJ2aWNlXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnYnVzeVNlcnZpY2UnLFtdKVxuXHRcdC5mYWN0b3J5KCdidXN5U2VydmljZScsIGJ1c3lTZXJ2aWNlKTtcblxuXHRmdW5jdGlvbiBidXN5U2VydmljZSgkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuXHRcdHZhciBtZXNzYWdlLCB0aW1lciwgYW1JQnVzeSA9IGZhbHNlO1xuXG5cdFx0dmFyIHNlcnZpY2UgPSB7XG5cdFx0XHRkZWZhdWx0TWVzc2FnZTogJ1dvcmtpbmcgb24gaXQnLFxuXHRcdFx0Z2V0TWVzc2FnZTogZ2V0TWVzc2FnZSxcblx0XHRcdGhpZGU6IGhpZGUsXG5cdFx0XHRpc0J1c3k6IGlzQnVzeSxcblx0XHRcdGlzVmlzaWJsZTogaXNWaXNpYmxlLFxuXHRcdFx0cmVzZXRNZXNzYWdlOiByZXNldE1lc3NhZ2UsXG5cdFx0XHRzZXRNZXNzYWdlOiBzZXRNZXNzYWdlLFxuXHRcdFx0c2hvdzogc2hvd1xuXHRcdH07XG5cblx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0cmV0dXJuIHNlcnZpY2U7XG5cblx0XHQvLy8vLy8vLy9cblxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXHRcdFx0JHJvb3RTY29wZS53b3JraW5nTWVzc2FnZSA9IHNlcnZpY2UuZGVmYXVsdE1lc3NhZ2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZShtc2cpIHtcblx0XHRcdHJldHVybiBtZXNzYWdlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGUoKSB7XG5cdFx0XHRhbUlCdXN5ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaXNCdXN5KCkge1xuXHRcdFx0cmV0dXJuIGFtSUJ1c3k7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuXHRcdFx0cmV0dXJuICQoJy5sb2FkaW5nLWluZGljYXRvcicpLmlzKCc6dmlzaWJsZScpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlc2V0TWVzc2FnZSgpIHtcblx0XHRcdHRoaXMuc2V0TWVzc2FnZSh0aGlzLmRlZmF1bHRNZXNzYWdlKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzZXRNZXNzYWdlKG1zZykge1xuXHRcdFx0bWVzc2FnZSA9ICRyb290U2NvcGUud29ya2luZ01lc3NhZ2UgPSBtc2c7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc2hvdygpIHtcblx0XHRcdGFtSUJ1c3kgPSB0cnVlO1xuXHRcdH1cblx0fVxufSkoKTtcbiIsbnVsbCwiKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbGVhZFNlcnZpY2VzJywgW10pXG5cdFx0LmZhY3RvcnkoJ0xlYWQnLCBMZWFkKTtcblxuXHRmdW5jdGlvbiBMZWFkKCRyZXNvdXJjZSwgQ2FjaGVGYWN0b3J5KSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZSgnYXBpL2xlYWRzLzppZCcsIHtpZDogJ0BpZCd9LCB7XG4gICAgICAgICAgICBpbmRleDoge21ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS90cmFkZXNob3dzLzp0cmFkZXNob3dJZC9sZWFkcycsIHBhcmFtczp7dHJhZGVzaG93SWQ6ICdAdHJhZGVzaG93SWQnfX0sXG5cdFx0XHRnZXQ6IHtjYWNoZTogQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJyl9XG5cdFx0fSk7XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdsZWFkU2VydmljZXMnKVxuXHRcdC5mYWN0b3J5KCdsZWFkU2VydmljZScsIGxlYWRTZXJ2aWNlKTtcblxuXHRmdW5jdGlvbiBsZWFkU2VydmljZSgkaHR0cCwgbmdEaWFsb2csIExlYWQsICRyb290U2NvcGUsIGJ1c3lTZXJ2aWNlKSB7XG5cdFx0XHR2YXIgYWN0aXZlRGlhbG9nO1xuXG5cdFx0XHR2YXIgc2VydmljZSA9IHtcblx0XHRcdFx0ZGVsZXRlTGVhZDogZGVsZXRlTGVhZCxcblx0XHRcdFx0cmV0cmlldmU6IHJldHJpZXZlXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gc2VydmljZTtcblxuXHRcdFx0Ly8vLy8vLy8vXG5cblx0XHRcdGZ1bmN0aW9uIHJldHJpZXZlKHRyYWRlaG93X2lkLCBwYWdlTnVtYmVyLCBwZXJQYWdlLCBvcmRlckJ5LCBvcmRlckJ5UmV2ZXJzZSwgZmlsdGVyKSB7XG5cdFx0XHRcdGlmKHBhZ2VOdW1iZXI9PT11bmRlZmluZWQpe1xuXHRcdFx0XHRcdHBhZ2VOdW1iZXIgPSAnMSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG9yZGVyQnk9PT11bmRlZmluZWQpIHtcblx0XHRcdFx0XHRvcmRlckJ5ID0gJ3VwZGF0ZWRfYXQnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvcmRlckJ5UmV2ZXJzZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG9yZGVyQnlSZXZlcnNlID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocGVyUGFnZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHBlclBhZ2UgPSAxNTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZmlsdGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRmaWx0ZXIgPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJGh0dHAuXG5cdFx0XHRcdFx0Z2V0KCdhcGkvdHJhZGVzaG93cy8nICsgdHJhZGVob3dfaWQgKyAnL2xlYWRzP3BhZ2U9JytwYWdlTnVtYmVyKycmcGVyUGFnZT0nK3BlclBhZ2UrXG5cdFx0XHRcdFx0XHQnJm9yZGVyQnk9JyArb3JkZXJCeSArICcmb3JkZXJCeVJldmVyc2U9JyArIHBhcnNlSW50KG9yZGVyQnlSZXZlcnNlKSArICcmZmlsdGVyPScgKyBmaWx0ZXIsIHtjYWNoZTogdHJ1ZX0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBkZWxldGVMZWFkKGxlYWQpIHtcblx0XHRcdFx0dmFyIGxlYWRfbmFtZSA9IGxlYWQuZmlyc3RfbmFtZSArICcgJyArIGxlYWQubGFzdF9uYW1lO1xuXHRcdFx0XHR2YXIgZGlhbG9nX2h0bWwgPSAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgTGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArXG5cdFx0XHRcdFx0XHRcdFx0ICAnPC9lbT4/PGJyIC8+PHN0cm9uZz5UaGlzIGNhbm5vdCBiZSB1bmRvbmUuPC9zdHJvbmc+PC9zcGFuPjxkaXYgY2xhc3M9XCJkaWFsb2ctYnV0dG9uc1wiPicgK1xuXHRcdFx0XHRcdFx0XHRcdCAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiY29uZmlybSgpXCI+WWVzLCBkZWxldGU8L2J1dHRvbj4gJyArXG5cdFx0XHRcdFx0XHRcdFx0ICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsXCIgbmctY2xpY2s9XCJjbG9zZVRoaXNEaWFsb2coKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2Pic7XG5cdFx0XHRcdG5nRGlhbG9nLm9wZW5Db25maXJtKHtcblx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZGVzdHJveSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogZGlhbG9nX2h0bWwsXG5cdFx0XHRcdFx0c2hvd0Nsb3NlOiBmYWxzZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdEZWxldGluZycpO1xuXHRcdFx0XHRcdExlYWQuXG5cdFx0XHRcdFx0XHRkZWxldGUoe2lkOmxlYWQuaWR9KS5cblx0XHRcdFx0XHRcdCRwcm9taXNlLlxuXHRcdFx0XHRcdFx0dGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykgJiYgcGF5bG9hZC5zdWNjZXNzID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XG5cdFx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zdWNjZXNzIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2sgZ3JlZW4gaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5MZWFkIDxlbT4nICsgbGVhZF9uYW1lICsgJzwvZW0+IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBkZWxldGVkLjwvc3Bhbj4nLFxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0LmNsb3NlUHJvbWlzZVxuXHRcdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xuXHRcdFx0XHRcdFx0XHRcdFx0cGxhaW46IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFuIGVycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZGVsZXRlIExlYWQgPGVtPicgKyBsZWFkX25hbWUgKyAnPC9lbT4uPC9zcGFuPiAgUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQuJyxcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgZnVuY3Rpb24oZXJyb3JSZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BbiBlcnJvciBvY2N1cmVkIHdoZW4gdHJ5aW5nIHRvIGRlbGV0ZSBMZWFkIDxlbT4nICsgbGVhZF9uYW1lICsgJzwvZW0+Ljwvc3Bhbj4gIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LicsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cbn0pKCk7XG4iLCIvKipcbiAqIExvZ2luIFNlcnZpY2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdsb2dpblNlcnZpY2UnLFtdKVxuXHRcdC5mYWN0b3J5KCdsb2dpblNlcnZpY2UnLCBsb2dpblNlcnZpY2UpO1xuXG5cdGZ1bmN0aW9uIGxvZ2luU2VydmljZSgkc3RhdGUsICRyb290U2NvcGUsICRxLCBDYWNoZUZhY3RvcnksICRodHRwLCBodHRwQnVmZmVyLCAkaW5qZWN0b3IpIHtcblx0XHRpZiAoIUNhY2hlRmFjdG9yeS5nZXQoJ2F1dGhDYWNoZScpKSB7XG5cdFx0XHRuZXcgQ2FjaGVGYWN0b3J5KCdhdXRoQ2FjaGUnLCB7XG5cdFx0XHRcdG1heEFnZTogNjAgKiA1OSAqIDEwMDAsXG5cdFx0XHRcdGRlbGV0ZU9uRXhwaXJlOiAnYWdncmVzc2l2ZScsXG5cdFx0XHRcdHN0b3JhZ2VNb2RlOiAnbG9jYWxTdG9yYWdlJyxcblx0XHRcdFx0b25FeHBpcmU6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHR2YXIgc3ZjID0gJGluamVjdG9yLmdldCgnbG9naW5TZXJ2aWNlJyk7XG5cdFx0XHRcdFx0c3ZjLnJlZnJlc2godmFsdWUpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0Y2FjaGUucHV0KGtleSwgcGF5bG9hZC5kYXRhLnRva2VuKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHZhciBjYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoJ2F1dGhDYWNoZScpO1xuXG5cdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gY2FjaGUuZ2V0KCd0b2tlbicpICE9PSB1bmRlZmluZWQ7XG5cblx0XHR2YXIgc2VydmljZSA9IHtcblx0XHRcdGNoZWNrQXBpQWNjZXNzOiBjaGVja0FwaUFjY2Vzcyxcblx0XHRcdGhhc1Rva2VuOiBoYXNUb2tlbixcblx0XHRcdGlzVmFsaWRFbWFpbDogaXNWYWxpZEVtYWlsLFxuXHRcdFx0bG9naW46IGxvZ2luLFxuXHRcdFx0bG9naW5DYW5jZWxsZWQ6IGxvZ2luQ2FuY2VsbGVkLFxuXHRcdFx0bG9naW5Db25maXJtZWQ6IGxvZ2luQ29uZmlybWVkLFxuXHRcdFx0bG9nb3V0OiBsb2dvdXQsXG5cdFx0XHRyZWZyZXNoOiByZWZyZXNoLFxuXHRcdFx0dG9rZW46IHtcblx0XHRcdFx0Z2V0OiB0b2tlbkdldCxcblx0XHRcdFx0c2V0OiB0b2tlblNldCxcblx0XHRcdFx0cmVtb3ZlOiB0b2tlblJlbW92ZVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyZXR1cm4gc2VydmljZTtcblxuXHRcdC8vLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gY2hlY2tBcGlBY2Nlc3MoKSB7XG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXHRcdFx0aWYgKHRoaXMuaGFzVG9rZW4oKSkge1xuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhpcy5sb2dpbkNhbmNlbGxlZCgpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhhc1Rva2VuKCkge1xuXHRcdFx0dmFyIHQgPSB0aGlzLnRva2VuLmdldCgpO1xuXHRcdFx0cmV0dXJuIHQgIT09IHVuZGVmaW5lZCAmJiB0ICE9PSBudWxsO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbCkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcblx0XHQgICAgcmV0dXJuIHBhdHRlcm4udGVzdChlbWFpbCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbG9naW4oY3JlZGVudGlhbHMpIHtcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cblx0XHRcdCRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgY3JlZGVudGlhbHMsIHtjYWNoZTogZmFsc2V9KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShwYXlsb2FkKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbG9naW5DYW5jZWxsZWQoZGF0YSxyZWFzb24pIHtcblx0XHRcdGh0dHBCdWZmZXIucmVqZWN0QWxsKHJlYXNvbik7XG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50OmF1dGgtbG9naW4tY2FuY2VsbGVkJywgZGF0YSk7XG5cdFx0XHR0aGlzLmxvZ291dCgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGxvZ2luQ29uZmlybWVkKGRhdGEsIGNvbmZpZ1VwZGF0ZXIpIHtcblx0XHRcdHZhciB1cGRhdGVyID0gY29uZmlnVXBkYXRlciB8fCBmdW5jdGlvbihjb25maWcpIHtyZXR1cm4gY29uZmlnO307XG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50OmF1dGgtbG9nZ2VkLWluJywgZGF0YSk7XG5cdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xuXHRcdFx0aHR0cEJ1ZmZlci5yZXRyeUFsbCh1cGRhdGVyKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XG5cdFx0XHR0aGlzLnRva2VuLnJlbW92ZSgpO1xuXHRcdFx0JHN0YXRlLmdvKCdhdXRoJyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVmcmVzaCh0b2tlblN0cmluZykge1xuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcblx0XHRcdFx0dGhhdCBcdD0gdGhpcyxcblx0XHRcdFx0Y29uZmlnIFx0PSB7Y2FjaGU6IGZhbHNlLCBoZWFkZXJzOiB7fX07XG5cblx0XHRcdGlmICh0eXBlb2YgdG9rZW5TdHJpbmcgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0Y29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IFwiQmVhcmVyIFwiICsgdG9rZW5TdHJpbmc7XG5cdFx0XHR9XG5cblx0XHRcdCRodHRwLmdldCgnYXBpL2F1dGhlbnRpY2F0ZS9yZWZyZXNoJywgY29uZmlnKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHR0aGF0LnRva2VuLnNldChwYXlsb2FkLmRhdGEudG9rZW4pO1xuXHRcdFx0XHR0aGF0LmxvZ2luQ29uZmlybWVkKCk7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0dGhhdC5sb2dpbkNhbmNlbGxlZCgpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRva2VuR2V0KCkge1xuXHRcdFx0cmV0dXJuIGNhY2hlLmdldCgndG9rZW4nKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB0b2tlblJlbW92ZSgpIHtcblx0XHRcdGNhY2hlLnJlbW92ZSgndG9rZW4nKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB0b2tlblNldCh0b2tlblN0cmluZykge1xuXHRcdFx0Y2FjaGUucHV0KCd0b2tlbicsIHRva2VuU3RyaW5nKTtcblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIvKipcbiAqIE1lc3NhZ2Ugc2VydmljZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ21lc3NhZ2VTZXJ2aWNlJywgW10pXG5cdFx0LmZhY3RvcnkoJ21lc3NhZ2VTZXJ2aWNlJywgbWVzc2FnZVNlcnZpY2UpO1xuXG5cdGZ1bmN0aW9uIG1lc3NhZ2VTZXJ2aWNlKCR0aW1lb3V0LCAkcSkge1xuXHRcdHZhciBtZXNzYWdlcyA9IFtdO1xuXG5cdFx0dmFyIHNlcnZpY2UgPSB7XG5cdFx0XHRhZGRNZXNzYWdlOiBhZGRNZXNzYWdlLFxuXHRcdFx0Z2V0TWVzc2FnZXM6IGdldE1lc3NhZ2VzLFxuXHRcdFx0cHVyZ2U6IHB1cmdlLFxuXHRcdFx0cmVtb3ZlTWVzc2FnZTogcmVtb3ZlTWVzc2FnZVxuXHRcdH07XG5cblx0XHRyZXR1cm4gc2VydmljZTtcblxuXHRcdC8vLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gYWRkTWVzc2FnZShjb25maWcpIHtcblx0XHRcdGNvbmZpZy5pZCA9IG1lc3NhZ2VzLmxlbmd0aCArIDE7XG5cdFx0XHRtZXNzYWdlcy5wdXNoKGNvbmZpZyk7XG5cdFx0XHRyZXR1cm4gY29uZmlnO1xuXHRcdH1cblxuXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZXMoKSB7XG5cdFx0XHRyZXR1cm4gbWVzc2FnZXM7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlTWVzc2FnZShpZCkge1xuXHRcdFx0aWYgKG1lc3NhZ2VzW2lkIC0gMV0pIHtcblx0XHRcdFx0bWVzc2FnZXMuc3BsaWNlKGlkIC0gMSwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcHVyZ2UoKSB7XG5cdFx0XHRtZXNzYWdlcyA9IFtdO1xuXHRcdH1cblx0fVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RyYWRlc2hvd1NlcnZpY2VzJywgWyduZ1Jlc291cmNlJ10pXG5cdFx0LmZhY3RvcnkoJ1RyYWRlc2hvdycsIFRyYWRlc2hvdyk7XG5cblx0ZnVuY3Rpb24gVHJhZGVzaG93KCRyZXNvdXJjZSwgQ2FjaGVGYWN0b3J5KSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZSgnYXBpL3RyYWRlc2hvd3MvOmlkJywge2lkOiAnQGlkJ30sIHtcblx0XHRcdGdldDoge2NhY2hlOiBDYWNoZUZhY3RvcnkuZ2V0KCdkZWZhdWx0Q2FjaGUnKX0sXG5cdFx0XHRjcmVhdGU6IHttZXRob2Q6ICdQT1NUJywgdXJsOidhcGkvdHJhZGVzaG93cy9jcmVhdGUnfSxcblx0XHRcdGRlbGV0ZToge21ldGhvZDogJ0RFTEVURSd9XG5cdFx0fSk7XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0cmFkZXNob3dTZXJ2aWNlcycpXG5cdFx0LmZhY3RvcnkoJ3RyYWRlc2hvd1NlcnZpY2UnLCB0cmFkZXNob3dTZXJ2aWNlKTtcblxuXHRmdW5jdGlvbiB0cmFkZXNob3dTZXJ2aWNlKCRodHRwLCBUcmFkZXNob3csICRyb290U2NvcGUsIG5nRGlhbG9nLCBidXN5U2VydmljZSkge1xuXHRcdHZhciBhY3RpdmVEaWFsb2c7XG5cblx0XHR2YXIgc2VydmljZSA9IHtcblx0XHRcdHJldHJpZXZlOiByZXRyaWV2ZSxcblx0XHRcdGRlbGV0ZVRyYWRlc2hvdzogZGVsZXRlVHJhZGVzaG93XG5cdFx0fTtcblxuXHRcdHJldHVybiBzZXJ2aWNlO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBkZWxldGVUcmFkZXNob3codHJhZGVzaG93KSB7XG5cdFx0XHR2YXIgdHJhZGVzaG93X25hbWUgPSB0cmFkZXNob3cubmFtZSxcblx0XHRcdFx0dHJhZGVzaG93X2lkICAgPSB0cmFkZXNob3cuaWQ7XG5cdFx0XHRhY3RpdmVEaWFsb2cgPSBuZ0RpYWxvZy5vcGVuQ29uZmlybShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHBsYWluOiB0cnVlLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1kZXN0cm95IG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgVHJhZGVzaG93IDxlbT4nICsgdHJhZGVzaG93X25hbWUgKyAnPC9lbT4/PGJyIC8+PHN0cm9uZz5UaGlzIGNhbm5vdCBiZSB1bmRvbmUuPC9zdHJvbmc+PC9zcGFuPjxkaXYgY2xhc3M9XCJkaWFsb2ctYnV0dG9uc1wiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiY29uZmlybSgpXCI+WWVzLCBkZWxldGU8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsXCIgbmctY2xpY2s9XCJjbG9zZVRoaXNEaWFsb2coKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXG5cdFx0XHRcdFx0c2hvd0Nsb3NlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHQpLlxuXHRcdFx0dGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gQWx0ZXIgdGhlIHdvcmtpbmcgbWVzc2FnZVxuXHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdEZWxldGluZycpO1xuXG5cdFx0XHRcdFRyYWRlc2hvdy5cblx0XHRcdFx0XHRkZWxldGUoe3RyYWRlc2hvd0lkOnRyYWRlc2hvd19pZH0pLlxuXHRcdFx0XHRcdCRwcm9taXNlLlxuXHRcdFx0XHRcdHRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0aWYgKHBheWxvYWQuaGFzT3duUHJvcGVydHkoJ3N1Y2Nlc3MnKSAmJiBwYXlsb2FkLnN1Y2Nlc3MgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XG5cdFx0XHRcdFx0XHRcdFx0cGxhaW46IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZGlhbG9nLXN1Y2Nlc3MgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2sgZ3JlZW4gaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5UcmFkZXNob3cgPGVtPicgKyB0cmFkZXNob3dfbmFtZSArICc8L2VtPiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVsZXRlZC48L3NwYW4+Jyxcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0LmNsb3NlUHJvbWlzZVxuXHRcdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xuXHRcdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1lcnJvciBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFuIGVycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZGVsZXRlIFRyYWRlc2hvdyA8ZW0+JyArIHRyYWRlc2hvd19uYW1lICsgJzwvZW0+Ljwvc3Bhbj4gIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LicsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yUmVzcG9uc2UpIHtcblx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xuXHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnZGlhbG9nLWVycm9yIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFuIGVycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZGVsZXRlIFRyYWRlc2hvdyA8ZW0+JyArIHRyYWRlc2hvd19uYW1lICsgJzwvZW0+Ljwvc3Bhbj4gIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LicsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiByZXRyaWV2ZShwYWdlTnVtYmVyLCBwZXJQYWdlLCBvcmRlckJ5LCBvcmRlckJ5UmV2ZXJzZSwgZmlsdGVyKSB7XG5cdFx0XHRpZihwYWdlTnVtYmVyPT09dW5kZWZpbmVkKXtcblx0XHRcdFx0cGFnZU51bWJlciA9ICcxJztcblx0XHRcdH1cblx0XHRcdGlmIChvcmRlckJ5PT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9yZGVyQnkgPSAnaWQnO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9yZGVyQnlSZXZlcnNlPT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9yZGVyQnlSZXZlcnNlID0gMDtcblx0XHRcdH1cblx0XHRcdGlmIChwZXJQYWdlPT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdHBlclBhZ2UgPSAxNTtcblx0XHRcdH1cblx0XHRcdGlmIChmaWx0ZXI9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGZpbHRlciA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICRodHRwLlxuXHRcdFx0XHRnZXQoJ2FwaS90cmFkZXNob3dzP3BhZ2U9JytwYWdlTnVtYmVyKycmcGVyUGFnZT0nICsgcGVyUGFnZSArICcmb3JkZXJCeT0nICsgb3JkZXJCeSArXG5cdFx0XHRcdFx0JyZvcmRlckJ5UmV2ZXJzZT0nICsgcGFyc2VJbnQob3JkZXJCeVJldmVyc2UpICsgJyZmaWx0ZXI9JyArIGZpbHRlciwge2NhY2hlOiB0cnVlfSk7XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsRGlyZWN0aXZlcycsIFtdKVxuICAgICAgICAuZGlyZWN0aXZlKCdidXN5SW5kaWNhdG9yJywgYnVzeUluZGljYXRvckRpcmVjdGl2ZSk7XG5cbiAgICBmdW5jdGlvbiBidXN5SW5kaWNhdG9yRGlyZWN0aXZlKGJ1c3lTZXJ2aWNlLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuICAgICAgICB2YXIgaXNBcHBCdXN5ICAgICAgID0gZmFsc2UsXG4gICAgICAgICAgICBpc1N0YXRlTG9hZGluZyAgPSB0cnVlO1xuXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi9wYXJ0aWFscy9idXN5LWluZGljYXRvci5odG1sJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBsaW5rOiBidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gYnVzeUluZGljYXRvckRpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmlzQnVzeSA9IGlzQnVzeTtcblxuICAgICAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgLy8vLy8vLy8vXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5yZXNldE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnVzeVNlcnZpY2Uuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaXNCdXN5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidXN5U2VydmljZS5pc0J1c3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWxEaXJlY3RpdmVzJylcbiAgICAgICAgLmRpcmVjdGl2ZShcImNsaWNrYWJsZVwiLCBjbGlja2FibGVEaXJlY3RpdmUpO1xuXG4gICAgZnVuY3Rpb24gY2xpY2thYmxlRGlyZWN0aXZlKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgbGluazogY2xpY2thYmxlRGlyZWN0aXZlTGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgLy8vLy8vLy8vXG4gICAgXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrYWJsZURpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwiY2xpY2thYmxlXCIpO1xuICAgICAgICAgICAgZWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9QaGFudG9tSlMvZykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWxEaXJlY3RpdmVzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnbWVzc2FnZXMnLCBtZXNzYWdlc0RpcmVjdGl2ZSk7XG5cbiAgICBmdW5jdGlvbiBtZXNzYWdlc0RpcmVjdGl2ZShtZXNzYWdlU2VydmljZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcblxuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vcGFydGlhbHMvbWVzc2FnZXMuaHRtbCcsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogbWVzc2FnZXNEaXJlY3RpdmVMaW5rXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICAvLy8vLy8vLy9cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gbWVzc2FnZXNEaXJlY3RpdmVMaW5rKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgdmFyIHZtID0gc2NvcGUuaGFzT3duUHJvcGVydHkoJ2N0cmwnKSA/IHNjb3BlLmN0cmwgOiBzY29wZTtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lc3NhZ2VTZXJ2aWNlLmdldE1lc3NhZ2VzKCk7IH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ubWVzc2FnZXMgPSBuZXdWYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UucHVyZ2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2bS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gYWRkTWVzc2FnZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBtZXNzYWdlU2VydmljZS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIubWVzc2FnZXMgLmFsZXJ0W21lc3NhZ2UtaWQ9XCIrY29uZmlnLmlkK1wiXVwiKS5hZGRDbGFzcyhcImluXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdm0ucmVtb3ZlTWVzc2FnZSA9IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UoaWQpIHtcbiAgICAgICAgICAgICAgICAkKFwiLm1lc3NhZ2VzIC5hbGVydFttZXNzYWdlLWlkPVwiK2lkK1wiXVwiKS5vbihcInRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZS5yZW1vdmVNZXNzYWdlKGlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLmFkZFN1Y2Nlc3NNZXNzYWdlID0gZnVuY3Rpb24gYWRkU3VjY2Vzc01lc3NhZ2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnb2snLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogJ2ljb24tbWVkaXVtJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VyIGNoYW5nZXMgaGF2ZSBiZWVuIHNhdmVkJ1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25maWcgPSAkLmV4dGVuZChkZWZhdWx0cywgY29uZmlnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2bS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5hZGRFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdleGNsYW1hdGlvbi1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiAnaWNvbi1tZWRpdW0nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy5cIlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25maWcgPSAkLmV4dGVuZChkZWZhdWx0cywgY29uZmlnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2bS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5wdXJnZU1lc3NhZ2VzID0gZnVuY3Rpb24gcHVyZ2VNZXNzYWdlcygpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZS5wdXJnZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbERpcmVjdGl2ZXMnKVxuICAgIC5kaXJlY3RpdmUoJ3BhZ2VyJywgcGFnZXJEaXJlY3RpdmUpO1xuXG4gIGZ1bmN0aW9uIHBhZ2VyRGlyZWN0aXZlKCkge1xuICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGN1cnJlbnRQYWdlOiAnPScsXG4gICAgICAgICAgdG90YWxQYWdlczogJz0nLFxuICAgICAgICAgIGdldFJlc3VsdHM6ICcmZ2V0UmVzdWx0cycsXG4gICAgICAgICAgdHJhZGVzaG93OiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi9wYXJ0aWFscy9wYWdlci5odG1sJyxcbiAgICAgICAgbGluazogcGFnZXJEaXJlY3RpdmVMaW5rXG4gICAgIH07XG5cbiAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAvLy8vLy8vLy9cbiAgIFxuICAgICBmdW5jdGlvbiBwYWdlckRpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLmdldFJhbmdlID0gZnVuY3Rpb24obnVtKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShudW0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsRGlyZWN0aXZlcycpXG5cdFx0LmRpcmVjdGl2ZSgnc2xpZGVNZW51Jywgc2xpZGVNZW51RGlyZWN0aXZlKTtcblxuXHRmdW5jdGlvbiBzbGlkZU1lbnVEaXJlY3RpdmUoJHRpbWVvdXQsICRyb290U2NvcGUpIHtcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdGFsaWdubWVudDogJ0AnXG5cdFx0XHR9LFxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRcdHRyYW5zY2x1ZGU6IHRydWUsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJy4uL3BhcnRpYWxzL3NsaWRlLW1lbnUtZGlyZWN0aXZlLmh0bWwnLFxuXHRcdFx0bGluazogc2xpZGVNZW51RGlyZWN0aXZlTGlua1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0Ly8vLy8vLy9cblx0XHRcblx0XHRmdW5jdGlvbiBzbGlkZU1lbnVEaXJlY3RpdmVMaW5rKHNjb3BlLCBlbGVtLCBhdHRycykge1xuXHRcdFx0c2NvcGUuc2xpZGVNZW51ID0ge1xuXHRcdFx0XHRoaWRlTWVudTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZWxlbS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzaG93TWVudTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZWxlbS5hZGRDbGFzcygndmlzaWJsZScpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXRBbGlnbm1lbnQ6IGZ1bmN0aW9uKHBvcykge1xuXHRcdFx0XHRcdHNjb3BlLmFsaWdubWVudCA9IHBvcztcblx0XHRcdFx0XHRlbGVtLmF0dHIoJ2FsaWdubWVudCcsIHBvcyk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHQvLyAkdGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdC8vIFx0c2NvcGUuc2xpZGVNZW51LnNob3dNZW51KCk7XG5cdFx0XHQvLyB9LDUwMCk7XG5cblxuXHRcdH1cblx0fVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbERpcmVjdGl2ZXMnKVxuICAgICAgICAuZGlyZWN0aXZlKFwidGltZWFnb1wiLCB0aW1lYWdvRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIHRpbWVhZ29EaXJlY3RpdmUoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICB0aW1lOiAnPScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cInRpbWUtYWdvXCI+e3tnZXRUaW1lQWdvKHRpbWUpfX08L3NwYW4+JyxcbiAgICAgICAgICAgIGxpbms6IHRpbWVhZ29EaXJlY3RpdmVMaW5rXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICAvLy8vLy8vLy9cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gdGltZWFnb0RpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS5nZXRUaW1lQWdvID0gZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQodGltZSwgbW9tZW50LklTT184NjAxKS5mcm9tTm93KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSAgICBcbn0pKCk7XG4iLCIvKipcbiAqIEF1dGggSW50ZXJjZXB0b3JcbiAqIFx0QGNyZWRpdCA6IGxhcmdlbHkgbW9kaWZpZWQgZnJvbSBodHRwLWF1dGgtaW50ZXJjZXB0b3IgcGFja2FnZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2F1dGhJbnRlcmNlcHRvcicsW10pXG5cdFx0LmZhY3RvcnkoJ2h0dHBCdWZmZXInLCBodHRwQnVmZmVyKVxuXHRcdC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuXHRcdFx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChhdXRoSW50ZXJjZXB0b3IpO1xuXHRcdH0pO1xuXG5cdGZ1bmN0aW9uIGh0dHBCdWZmZXIoJGluamVjdG9yKSB7XG5cdFx0dmFyIGJ1ZmZlciA9IFtdLCAkaHR0cDtcblxuXHRcdHZhciBzZXJ2aWNlID0ge1xuXHRcdFx0YXBwZW5kOiBhcHBlbmQsXG5cdFx0XHRyZWplY3RBbGw6IHJlamVjdEFsbCxcblx0XHRcdHJldHJ5QWxsOiByZXRyeUFsbCxcblx0XHRcdHJldHJ5SHR0cFJlcXVlc3Q6IHJldHJ5SHR0cFJlcXVlc3Rcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHNlcnZpY2U7XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIEhUVFAgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGRlZmVycmVkIHJlc3BvbnNlIGF0dGFjaGVkIHRvIGJ1ZmZlci5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhcHBlbmQoY29uZmlnLCBkZWZlcnJlZCkge1xuXHRcdFx0YnVmZmVyLnB1c2goe1xuXHRcdFx0ICBjb25maWc6IGNvbmZpZyxcblx0XHRcdCAgZGVmZXJyZWQ6IGRlZmVycmVkXG5cdFx0XHR9KTtcblx0ICBcdH1cblxuXHQgIFx0LyoqXG5cdCAgXHQgKiBBYmFuZG9uIG9yIHJlamVjdCAoaWYgcmVhc29uIHByb3ZpZGVkKSBhbGwgdGhlIGJ1ZmZlcmVkIHJlcXVlc3RzLlxuXHQgIFx0ICovXG5cdCAgXHRmdW5jdGlvbiByZWplY3RBbGwocmVhc29uKSB7XG5cdCAgXHQgIGlmIChyZWFzb24pIHtcblx0ICBcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7ICsraSkge1xuXHQgIFx0ICAgICAgYnVmZmVyW2ldLmRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuXHQgIFx0ICAgIH1cblx0ICBcdCAgfVxuXHQgIFx0ICBidWZmZXIgPSBbXTtcblx0ICBcdH1cblxuXHQgIFx0LyoqXG5cdCAgXHQgKiBSZXRyaWVzIGFsbCB0aGUgYnVmZmVyZWQgcmVxdWVzdHMgY2xlYXJzIHRoZSBidWZmZXIuXG5cdCAgXHQgKi9cblx0XHRmdW5jdGlvbiByZXRyeUFsbCh1cGRhdGVyKSB7XG5cdFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgKytpKSB7XG5cdFx0ICAgICAgcmV0cnlIdHRwUmVxdWVzdCh1cGRhdGVyKGJ1ZmZlcltpXS5jb25maWcpLCBidWZmZXJbaV0uZGVmZXJyZWQpO1xuXHRcdCAgXHR9XG5cdCAgICBcdGJ1ZmZlciA9IFtdO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHJ5IG9uZSBIVFRQIHJlcXVlc3Rcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZXRyeUh0dHBSZXF1ZXN0KGNvbmZpZywgZGVmZXJyZWQpIHtcblx0XHQgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdCAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcblx0XHQgIH1cblx0XHQgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHQgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKTtcblx0XHQgIH1cblx0XHQgICRodHRwID0gJGh0dHAgfHwgJGluamVjdG9yLmdldCgnJGh0dHAnKTtcblx0XHQgICRodHRwKGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGF1dGhJbnRlcmNlcHRvciAoJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSwgaHR0cEJ1ZmZlcikge1xuXHRcdC8vIFdpbGwgZ2V0IHJlc29sdmVkIGxhdGVyIHVzaW5nICRpbmplY3RvciB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IGlzc3Vlc1xuXHRcdHZhciBsb2dpblNlcnZpY2UsIG5nRGlhbG9nLCAkc3RhdGU7XG5cdFx0dmFyIGFwaVBhdHRlcm4gPSAvXFwvezAsMX1hcGlcXC9bYS16QS1aXFwvMC05XFw/XFw9XFwmXFwlXFwrXFwtXFxfXSovZztcblxuXHRcdHJldHVybiB7XG5cdFx0XHRyZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcblx0XHRcdFx0bG9naW5TZXJ2aWNlID0gbG9naW5TZXJ2aWNlIHx8ICRpbmplY3Rvci5nZXQoJ2xvZ2luU2VydmljZScpO1xuXG5cdFx0XHRcdC8vIEFwcGVuZCB0aGUgdG9rZW4gdG8gYW55IHJlcXVlc3QgdGhhdCBpc24ndCB0byBsb2dpbiBVUkwgb3IgZG9lc24ndCBoYXZlIGEgdG9rZW4gc2V0XG5cdFx0XHRcdGlmIChjb25maWcudXJsLm1hdGNoKGFwaVBhdHRlcm4pICYmIGNvbmZpZy51cmwgIT0gJy9hcGkvYXV0aGVudGljYXRlJyAmJiAhY29uZmlnLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoJ0F1dGhvcml6YXRpb24nKSkge1xuXHRcdFx0XHRcdGlmIChsb2dpblNlcnZpY2UuaGFzVG9rZW4oKSkge1xuXHRcdFx0XHRcdFx0Y29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIGxvZ2luU2VydmljZS50b2tlbi5nZXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHQkc3RhdGUgPSAkc3RhdGUgfHwgJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGgnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29uZmlnO1xuXHRcdFx0fSxcblx0XHRcdHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHR2YXIgY29uZmlnIFx0ID0gcmVzcG9uc2UuY29uZmlnO1xuXG5cdFx0XHRcdC8vIEludGVyY2VwdCBhbmQgc25hdGNoIGEgc3VjY2Vzc2Z1bCB0b2tlbiBmcm9tIHRoZSBIVFRQIHJlc3BvbnNlXG5cdFx0XHRcdGlmIChjb25maWcudXJsID09ICcvYXBpL2F1dGhlbnRpY2F0ZScgJiYgY29uZmlnLm1ldGhvZCA9PSBcIlBPU1RcIiAmJiByZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0bG9naW5TZXJ2aWNlID0gbG9naW5TZXJ2aWNlIHx8ICRpbmplY3Rvci5nZXQoJ2xvZ2luU2VydmljZScpO1xuXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ3Rva2VuJykpIHtcblx0XHRcdFx0XHRcdGxvZ2luU2VydmljZS50b2tlbi5zZXQocmVzcG9uc2UuZGF0YS50b2tlbik7XG5cdFx0XHRcdFx0XHRsb2dpblNlcnZpY2UubG9naW5Db25maXJtZWQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBidXN5U2VydmljZS5oaWRlKCk7XG5cblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHRcdFx0fSxcblx0XHRcdHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xuXHRcdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0XHRcdGxvZ2luU2VydmljZSA9IGxvZ2luU2VydmljZSB8fCAkaW5qZWN0b3IuZ2V0KCdsb2dpblNlcnZpY2UnKTtcblx0XHRcdFx0JHN0YXRlIFx0XHQgPSAkc3RhdGUgfHwgJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG5cblx0XHRcdFx0c3dpdGNoIChyZWplY3Rpb24uc3RhdHVzKSB7XG5cdFx0XHRcdFx0Y2FzZSA0MDA6XG5cdFx0XHRcdFx0XHRsb2dpblNlcnZpY2UubG9naW5DYW5jZWxsZWQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDQwMTpcblx0XHRcdFx0XHRcdC8vIElmIHRva2VuIGlzIGV4cGlyZWQsIHJlZnJlc2ggaXRcblx0XHRcdFx0XHRcdGlmIChyZWplY3Rpb24uZGF0YS5oYXNPd25Qcm9wZXJ0eSgnZXJyb3InKSAmJiByZWplY3Rpb24uZGF0YS5lcnJvciA9PSAndG9rZW5fZXhwaXJlZCcpIHtcblx0XHRcdFx0XHQgICAgXHRodHRwQnVmZmVyLmFwcGVuZChyZWplY3Rpb24uY29uZmlnLCBkZWZlcnJlZCk7XG5cdFx0XHRcdFx0ICAgIFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDphdXRoLWxvZ2luLXJlcXVpcmVkJywgcmVqZWN0aW9uKTtcblx0XHRcdFx0XHQgICAgXHRpZiAobG9naW5TZXJ2aWNlLmhhc1Rva2VuKCkpIHtcblx0XHRcdFx0XHRcdCAgICBcdGxvZ2luU2VydmljZS5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0ICAgIFx0fVxuXHRcdFx0XHRcdCAgICBcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHQgICAgYnJlYWs7XG5cdFx0XHRcdCAgICBjYXNlIDQwMzpcblx0XHRcdFx0ICAgIFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDphdXRoLWZvcmJpZGRlbicsIHJlamVjdGlvbik7XG5cdFx0XHRcdCAgICBcdGxvZ2luU2VydmljZS5sb2dpbkNhbmNlbGxlZCgpO1xuXHRcdFx0XHQgICAgYnJlYWs7XG5cdFx0XHRcdCAgICBjYXNlIDUwMDpcblx0XHRcdFx0ICAgIFx0bmdEaWFsb2cgPSBuZ0RpYWxvZyB8fCAkaW5qZWN0b3IuZ2V0KCduZ0RpYWxvZycpO1xuXHRcdFx0XHQgICAgXHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0ICAgIFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0ICAgIFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctc2F2ZSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0ICAgIFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gIFRyeSBhZ2FpbiBsYXRlci48L3NwYW4+J1xuXHRcdFx0XHQgICAgXHR9KTtcblx0XHRcdCAgICAgIFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVqZWN0aW9uKTtcblxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYnVzeVNlcnZpY2UnKVxuICAgICAgICAuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goYnVzeVNlcnZpY2VJbnRlcmNlcHRvcik7XG4gICAgICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYnVzeVNlcnZpY2VJbnRlcmNlcHRvcihidXN5U2VydmljZSwgJHEpIHtcblxuICAgICAgICB2YXIgYXBpUGF0dGVybiA9IC9cXC97MCwxfWFwaVxcL1thLXpBLVpcXC8wLTlcXD9cXD1cXCZcXCVcXCtcXC1cXF9dKi9nO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLnVybC5tYXRjaChhcGlQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvbmZpZy51cmwubWF0Y2goYXBpUGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVzeVNlcnZpY2UuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlamVjdGlvbi5jb25maWcudXJsLm1hdGNoKGFwaVBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0pKCk7IiwiXG4vKipcbiAqIEF1dGggQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCdhdXRoQ29udHJvbGxlcnMnLCBbXSlcblx0XHQuY29udHJvbGxlcignQXV0aENvbnRyb2xsZXInLCBBdXRoQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gQXV0aENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsIGxvZ2luU2VydmljZSwgJHRpbWVvdXQsIENhY2hlRmFjdG9yeSkge1xuXG5cdFx0dmFyIHZtID0gdGhpcztcblxuXHRcdHZtLmNhY2hlID0gbnVsbDtcblx0XHR2bS5yZW1lbWJlck1lID0gZmFsc2U7XG5cdFx0dm0ubG9naW4gPSBsb2dpbjtcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cdFx0XHRpZiAoIUNhY2hlRmFjdG9yeS5nZXQoJ2xvZ2luRm9ybScpKSB7XG5cdFx0XHRcdG5ldyBDYWNoZUZhY3RvcnkoJ2xvZ2luRm9ybScsIHtcblx0XHRcdFx0XHRtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcgKiA0ICogMTAwMCxcblx0XHRcdFx0XHRkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnLFxuXHRcdFx0XHRcdHN0b3JhZ2VNb2RlOiAnbG9jYWxTdG9yYWdlJ1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dm0uY2FjaGUgPSBDYWNoZUZhY3RvcnkuZ2V0KCdsb2dpbkZvcm0nKTtcblx0XHRcdFxuXHRcdFx0aWYgKHZtLmNhY2hlLmdldCgncmVtZW1iZXJNZScpICYmIHZtLmNhY2hlLmdldCgnZW1haWwnKSkge1xuXHRcdFx0XHR2bS5yZW1lbWJlck1lID0gdm0uY2FjaGUuZ2V0KCdyZW1lbWJlck1lJyk7XG5cdFx0XHRcdHZtLmVtYWlsID0gdm0uY2FjaGUuZ2V0KCdlbWFpbCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIHRva2VuIGlzIGFscmVhZHkgc3RvcmVkLCB0cnkgYXBwXG5cdFx0XHRpZiAobG9naW5TZXJ2aWNlLmhhc1Rva2VuKCkpIHtcblx0XHRcdFx0JHN0YXRlLmdvKCd0cmFkZXNob3dzJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXNlIGxvZ2luU2VydmljZSB0byBsb2dpblxuXHRcdCAqIEByZXR1cm4ge1t2b2lkXX1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcblx0XHRcdHZhciBjcmVkZW50aWFscyA9IHtcblx0XHRcdFx0ZW1haWw6IHZtLmVtYWlsLFxuXHRcdFx0XHRwYXNzd29yZDogdm0ucGFzc3dvcmRcblx0XHRcdH07XG5cblx0XHRcdC8vIFByb3ZpZGVkIGJ5IG1lc3NhZ2VzRGlyZWN0aXZlXG5cdFx0XHR2bS5wdXJnZU1lc3NhZ2VzKCk7XG5cblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbihjcmVkZW50aWFscylcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdGlmICh2bS5yZW1lbWJlck1lKSB7XG5cdFx0XHRcdFx0XHR2bS5jYWNoZS5wdXQoJ2VtYWlsJywgdm0uZW1haWwpO1xuXHRcdFx0XHRcdFx0dm0uY2FjaGUucHV0KCdyZW1lbWJlck1lJywgdm0ucmVtZW1iZXJNZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRzdGF0ZS5nbyhcInRyYWRlc2hvd3NcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0Ly8gUHJvdmlkZWQgYnkgbWVzc2FnZXNEaXJlY3RpdmVcblx0XHRcdFx0XHR2bS5hZGRFcnJvck1lc3NhZ2Uoe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ1RoZSBlbWFpbCBvciBwYXNzd29yZCBlbnRlcmVkIHdhcyBpbmNvcnJlY3QuJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdH1cblxufSkoKTtcbiIsIi8qKlxuICogRWRpdCBMZWFkIENvbnRyb2xsZXJcbiAqIEBjbGFzcyBMZWFkQ29udHJvbGxlclxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ2xlYWRDb250cm9sbGVycycsIFtdKVxuXHRcdC5jb250cm9sbGVyKCdMZWFkQ29udHJvbGxlcicsIExlYWRDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBMZWFkQ29udHJvbGxlcigkc2NvcGUsICRxLCAkaHR0cCwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIG5nRGlhbG9nLCBMZWFkLCBUcmFkZXNob3csIGJ1c3lTZXJ2aWNlLCBtZXNzYWdlU2VydmljZSwgbGVhZERhdGEsJHRpbWVvdXQsICRsb2cpIHtcblxuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHR2bS5nb0JhY2sgPSBnb0JhY2s7XG5cdFx0dm0uc2F2ZSA9IHNhdmU7XG5cblx0XHR2bS5sZWFkID0gbGVhZERhdGE7XG5cdFx0dm0udGl0bGUgPSAnRWRpdGluZyBMZWFkJztcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vLy9cblxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogW0NhbGxiYWNrIHRvICdCYWNrJyBidXR0b25dXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbdm9pZF19XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ29CYWNrKCkge1xuXHRcdFx0JHN0YXRlLmdvKCd0cmFkZXNob3dFZGl0Jywge2lkOiB2bS5sZWFkLnRyYWRlc2hvd19pZH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIExlYWRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t2b2lkXX1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBzYXZlKCkge1xuXHRcdFx0aWYgKHZtLmxlYWRGb3JtLiR2YWxpZCkge1xuXHRcdFx0XHQvLyBBbHRlciB0aGUgd29ya2luZyBtZXNzYWdlXG5cdFx0XHRcdGJ1c3lTZXJ2aWNlLnNldE1lc3NhZ2UoJ1NhdmluZycpO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIExlYWQgdXNpbmcgdGhlIExlYWQgcmVzb3VyY2Vcblx0XHRcdFx0TGVhZC5cblx0XHRcdFx0XHRzYXZlKHZtLmxlYWQpLlxuXHRcdFx0XHRcdCRwcm9taXNlLlxuXHRcdFx0XHRcdHRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0dm0ubGVhZCA9IHBheWxvYWQ7XG5cblx0XHRcdFx0XHRcdHZtLmFkZFN1Y2Nlc3NNZXNzYWdlKCk7XG5cblx0XHRcdFx0XHRcdCRodHRwLmRlZmF1bHRzLmNhY2hlLnJlbW92ZUFsbCgpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0XHRcdHZtLmFkZEVycm9yTWVzc2FnZSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2F1dGhDb250cm9sbGVycycpXG5cdC5jb250cm9sbGVyKCdMb2dvdXRDb250cm9sbGVyJywgTG9nb3V0Q29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9nb3V0Q29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcblx0XHRsb2dpblNlcnZpY2UubG9nb3V0KCk7XG5cdH1cbn0pKCk7XG4iLCIvKipcbiAqIENyZWF0ZSBhIFRyYWRlc2hvdyBDb250cm9sbGVyXG4gKiBAY2xhc3MgVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGlzcGxheXMgYSBmb3JtIGZvciB0aGUgY3JlYXRpb24gb2YgYSBuZXcgdHJhZGVzaG93XG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndHJhZGVzaG93Q29udHJvbGxlcnMnLCBbXSlcblx0XHQuY29udHJvbGxlcignVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlcicsIFRyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIFRyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXIoJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsIG5nRGlhbG9nLCBUcmFkZXNob3csIGxvZ2luU2VydmljZSwgYnVzeVNlcnZpY2UsIG1lc3NhZ2VTZXJ2aWNlKSB7XG5cdFx0dmFyIHZtID0gdGhpcztcblxuXHRcdHZtLmdvQmFjayA9IGdvQmFjaztcblx0XHR2bS5zYXZlID0gc2F2ZTtcblxuXHRcdHZtLmlzTmV3ID0gdHJ1ZTtcblx0XHR2bS50aXRsZVByZWZpeCA9IFwiQ3JlYXRpbmcgbmV3XCI7XG5cdFx0dm0udHJhZGVzaG93ID0ge2FjdGl2ZTogMH07XG5cblx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdGxvZ2luU2VydmljZS5jaGVja0FwaUFjY2VzcygpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENhbGxiYWNrIHRvICdCYWNrJyBidXR0b25cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBnb0JhY2soKSB7XG5cdFx0XHQkc3RhdGUuZ28oXCJ0cmFkZXNob3dzXCIpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIG5ldyB0cmFkZXNob3cgdXNpbmcgdGhlIFRyYWRlc2hvdyByZXNvdXJjZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0XHRpZiAodm0udHJhZGVzaG93Rm9ybS4kdmFsaWQpIHtcblx0XHRcdFx0Ly8gQWx0ZXIgdGhlIHdvcmtpbmcgbWVzc2FnZVxuXHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdTYXZpbmcgbmV3Jyk7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIFRyYWRlc2hvdyB1c2luZyBUcmFkZXNob3cgcmVzb3VyY2Vcblx0XHRcdFx0VHJhZGVzaG93XG5cdFx0XHRcdFx0LmNyZWF0ZSh2bS50cmFkZXNob3cpXG5cdFx0XHRcdFx0LiRwcm9taXNlXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0dmFyIHRyYWRlc2hvd19pZCA9IHBheWxvYWQuaWQ7XG5cblx0XHRcdFx0XHRcdC8vIFNob3cgYSBjb25maXJtYXRpb24gZGlhbG9nXG5cdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0XHRcdFx0cGxhaW46IHRydWUsXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zYXZlIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGVjayBncmVlbiBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPllvdXIgbmV3IHRyYWRlc2hvdyBoYXMgYmVlbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nICtcblx0XHRcdFx0XHRcdFx0JyAgQ2xvc2UgdGhpcyBtZXNzYWdlIGJveCB0byBwcm9jZWVkIHRvIHRoZSB0cmFkZXNob3dcXCdzIGVkaXQgcGFnZS48L3NwYW4+J1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5jbG9zZVByb21pc2Vcblx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0Ly8gTmF2aWdhdGUgdG8gdGhlIG5ldyB0cmFkZXNob3cncyBFZGl0IHBhZ2Ugb24gZGlhbG9nIGNsb3NlXG5cdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygndHJhZGVzaG93RWRpdCcsIHtpZDogdHJhZGVzaG93X2lkfSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0XHR2bS5hZGRFcnJvck1lc3NhZ2UoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIvKipcbiAqIFRyYWRlc2hvdyBFZGl0IENvbnRyb2xsZXJcbiAqIEBjbGFzcyBUcmFkZXNob3dEZXRhaWxDb250cm9sbGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERpc3BsYXlzIGFuIGVkaXQgZm9ybSBmb3IgYSB0cmFkZXNob3dcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0cmFkZXNob3dDb250cm9sbGVycycpXG5cdFx0LmNvbnRyb2xsZXIoJ1RyYWRlc2hvd0RldGFpbENvbnRyb2xsZXInLCBUcmFkZXNob3dEZXRhaWxDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBUcmFkZXNob3dEZXRhaWxDb250cm9sbGVyKCRzY29wZSwgJHEsICRodHRwLCBDYWNoZUZhY3RvcnksICRzdGF0ZSwgbmdEaWFsb2csIGxvZ2luU2VydmljZSxcblx0XHRidXN5U2VydmljZSwgbWVzc2FnZVNlcnZpY2UsIFRyYWRlc2hvdywgbGVhZFNlcnZpY2UsIHByb21pc2VkRGF0YSwgcHJvbWlzZWRMZWFkRGF0YSwgcHJvbWlzZWRGb3JtQ2FjaGUpXG5cdHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0dm0uZGVsZXRlTGVhZCA9IGRlbGV0ZUxlYWQ7XG5cdFx0dm0uZ2V0TGVhZHMgPSBnZXRMZWFkcztcblx0XHR2bS5nb0JhY2sgPSBnb0JhY2s7XG5cdFx0dm0ucGx1Y2tMZWFkID0gcGx1Y2tMZWFkO1xuXHRcdHZtLnJlZnJlc2hMZWFkcyA9IHJlZnJlc2hMZWFkcztcblx0XHR2bS5zYXZlID0gc2F2ZTtcblx0XHR2bS51cGRhdGVQYWdpbmF0aW9uID0gdXBkYXRlUGFnaW5hdGlvbjtcblxuXHRcdHZtLmN1cnJlbnRQYWdlID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmN1cnJlbnRfcGFnZTtcblx0XHR2bS5mb3JtQ2FjaGUgPSBwcm9taXNlZEZvcm1DYWNoZTtcblx0XHR2bS5pc05ldyA9IGZhbHNlO1xuXHRcdHZtLmxhc3RGZXRjaGVkUGFnZSA9IDE7XG5cdFx0dm0ubGVhZHMgPSBwcm9taXNlZExlYWREYXRhLmRhdGEuZGF0YTtcblx0XHR2bS5vcmRlckJ5ID0gXCJ1cGRhdGVkX2F0XCI7XG5cdFx0dm0ub3JkZXJCeVJldmVyc2UgPSBcIjBcIjtcblx0XHR2bS5wZXJQYWdlID0gXCIxNVwiO1xuXHRcdHZtLnF1ZXJ5ID0gXCJcIjtcblx0XHR2bS50aXRsZVByZWZpeCA9IFwiRWRpdGluZ1wiO1xuXHRcdHZtLnRyYWRlc2hvdyA9IHByb21pc2VkRGF0YTtcblx0XHR2bS50b3RhbFBhZ2VzID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmxhc3RfcGFnZTtcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdC8vIFdhdGNoIHNjb3BlIHZhcmlhYmxlcyB0byB1cGRhdGUgY2FjaGVcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChbJ2N1cnJlbnRQYWdlJywgJ29yZGVyQnknLCAnb21nJywgJ29yZGVyQnlSZXZlcnNlJywgJ3BlclBhZ2UnLCAncXVlcnknXSwgZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdGlmICh2bS5mb3JtQ2FjaGUuZ2V0KGtleSkpIHtcblx0XHRcdFx0XHR2bVtrZXldID0gdm0uZm9ybUNhY2hlLmdldChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ2N0cmwuJyArIGtleSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHQgICAgdm0uZm9ybUNhY2hlLnB1dChrZXksIG5ld1ZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIERlbGV0ZSBhIGxlYWRcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZWxldGVMZWFkKGxlYWRfaWQpIHtcblx0XHRcdGxlYWRTZXJ2aWNlLmRlbGV0ZUxlYWQoIHZtLnBsdWNrTGVhZChsZWFkX2lkKSApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbGVhZHMgdXNpbmcgdGhlIGxlYWRTZXJ2aWNlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ2V0TGVhZHMocGFnZU51bWJlcikge1xuXHRcdFx0aWYgKHBhZ2VOdW1iZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlTnVtYmVyID0gdm0uY3VycmVudFBhZ2U7XG5cdFx0XHR9XG5cdFx0XHR2bS5sYXN0RmV0Y2hlZFBhZ2UgPSBwYWdlTnVtYmVyO1xuXG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0XHRsZWFkU2VydmljZVxuXHRcdFx0XHQucmV0cmlldmUoXG5cdFx0XHRcdFx0dm0udHJhZGVzaG93LmlkLFxuXHRcdFx0XHRcdHBhZ2VOdW1iZXIsXG5cdFx0XHRcdFx0dm0ucGVyUGFnZSxcblx0XHRcdFx0XHR2bS5vcmRlckJ5LFxuXHRcdFx0XHRcdHZtLm9yZGVyQnlSZXZlcnNlLFxuXHRcdFx0XHRcdHZtLnF1ZXJ5XG5cdFx0XHRcdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcblx0XHRcdFx0XHR2bS5sZWFkcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0dm0uY3VycmVudFBhZ2UgPSByZXNwb25zZS5jdXJyZW50X3BhZ2U7XG5cdFx0XHRcdFx0dm0udG90YWxQYWdlcyA9IHJlc3BvbnNlLmxhc3RfcGFnZTtcblxuXHRcdFx0XHRcdC8vIFJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0Ly8gUmVqZWN0IHByb21pc2Vcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2FsbGJhY2sgdG8gJ2dvIGJhY2snIGJ1dHRvblxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGdvQmFjaygpIHtcblx0XHRcdCRzdGF0ZS5nbygndHJhZGVzaG93cycpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbmQgYSBsZWFkIGluIHRoZSBsb2NhbCBhcnJheSBpbiBzY29wZSBieSBpZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHBsdWNrTGVhZChsZWFkX2lkKSB7XG5cdFx0XHRmb3IgKHZhciBuID0gMCwgbGVhZDsgKGxlYWQgPSB2bS5sZWFkc1tuXSk7IG4rKykge1xuXHRcdFx0XHRpZiAobGVhZC5pZCA9PSBsZWFkX2lkKSB7IHJldHVybiBsZWFkOyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaCB0aGUgbGVhZHNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZWZyZXNoTGVhZHMoKSB7XG5cdFx0XHR2bS5nZXRMZWFkcygpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHQvLyBQYWdlIG51bWJlciB3YXMgb3V0IG9mIHJhbmdlLCBmZXRjaGluZyBsYXN0IHBhZ2UgYXZhaWxhYmxlXG5cdFx0XHRcdGlmICh2bS5sYXN0RmV0Y2hlZFBhZ2UgPiBwYXlsb2FkLmRhdGEuY3VycmVudF9wYWdlKSB7XG5cdFx0XHRcdFx0dm0uZ2V0TGVhZHMocGF5bG9hZC5kYXRhLmxhc3RfcGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnRseSBzY29wZWQgdHJhZGVzaG93IHVzaW5nIFRyYWRlc2hvdyByZXNvdXJjZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0XHRpZiAodm0udHJhZGVzaG93Rm9ybS4kdmFsaWQpIHtcblx0XHRcdFx0Ly8gQWx0ZXIgdGhlIFwiYnVzeVwiIGluZGljYXRvciBtZXNzYWdlXG5cdFx0XHRcdGJ1c3lTZXJ2aWNlLnNldE1lc3NhZ2UoJ1NhdmluZycpO1xuXG5cdFx0XHRcdC8vIFVzZSBUcmFkZXNob3cgcmVzb3VyY2UgdG8gc2F2ZSBjdXJyZW50bHkgc2NvcGVkIHRyYWRlc2hvd1xuXHRcdFx0XHRUcmFkZXNob3cuc2F2ZSh2bS50cmFkZXNob3cpLiRwcm9taXNlXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0Ly8gU2V0IHRoZSB0cmFkZXNob3cgaW4gc2NvcGVcblx0XHRcdFx0XHRcdHZtLnRyYWRlc2hvdyA9IHBheWxvYWQ7XG5cblx0XHRcdFx0XHRcdC8vIFNob3cgc3VjY2VzcyBhbGVydFxuXHRcdFx0XHRcdFx0dm0uYWRkU3VjY2Vzc01lc3NhZ2UoKTtcblxuXHRcdFx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuY2FjaGUucmVtb3ZlQWxsKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0Ly8gU2hvdyBlcnJvciBhbGVydFxuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRW5zdXJlIHdlIGRvbid0IGdvIG91dC1vZi1ib3VuZHNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uKCkge1xuXHRcdFx0aWYgKHZtLmN1cnJlbnRQYWdlICE9IDEpIHtcblx0XHRcdFx0dm0uZ2V0TGVhZHMoMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBUcmFkZXNob3cgTGlzdCBDb250cm9sbGVyXG4gKiBAY2xhc3MgVHJhZGVzaG93TGlzdENvbnRyb2xsZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGlzcGxheXMgYSBwYWdpbmF0ZWQsIGZpbHRlcmVkIHRhYmxlIG9mIGFsbCB0cmFkZXNob3dzLlxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RyYWRlc2hvd0NvbnRyb2xsZXJzJylcblx0XHQuY29udHJvbGxlcignVHJhZGVzaG93TGlzdENvbnRyb2xsZXInLCBUcmFkZXNob3dMaXN0Q29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gVHJhZGVzaG93TGlzdENvbnRyb2xsZXIoJHNjb3BlLCAkcSwgJHRpbWVvdXQsIENhY2hlRmFjdG9yeSwgbmdEaWFsb2csIGxvZ2luU2VydmljZSwgYnVzeVNlcnZpY2UsIG1lc3NhZ2VTZXJ2aWNlLCB0cmFkZXNob3dTZXJ2aWNlLCBsZWFkU2VydmljZSwgcHJvbWlzZWREYXRhLCBwcm9taXNlZEZvcm1DYWNoZSkge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHR2bS5kZWxldGVUcmFkZXNob3cgXHQgPSBkZWxldGVUcmFkZXNob3c7XG5cdFx0dm0uZG93bmxvYWRSZXBvcnQgXHQgPSBkb3dubG9hZFJlcG9ydDtcblx0XHR2bS5nZXRMZWFkcyBcdFx0ID0gZ2V0TGVhZHM7XG5cdFx0dm0uZ2V0VHJhZGVzaG93cyBcdCA9IGdldFRyYWRlc2hvd3M7XG5cdFx0dm0ucGx1Y2tUcmFkZXNob3cgXHQgPSBwbHVja1RyYWRlc2hvdztcblx0XHR2bS5yZWZyZXNoVHJhZGVzaG93cyA9IHJlZnJlc2hUcmFkZXNob3dzO1xuXG5cdFx0dm0uY3VycmVudFBhZ2UgXHRcdD0gcHJvbWlzZWREYXRhLmRhdGEuY3VycmVudF9wYWdlO1xuXHRcdHZtLmZvcm1DYWNoZVx0XHQ9IHByb21pc2VkRm9ybUNhY2hlO1xuXHRcdHZtLmxhc3RGZXRjaGVkUGFnZSAgPSAxO1xuXHRcdHZtLm9yZGVyQnkgXHRcdFx0PSBcInVwZGF0ZWRfYXRcIjtcblx0XHR2bS5vcmRlckJ5UmV2ZXJzZSBcdD0gXCIwXCI7XG5cdFx0dm0ucGVyUGFnZSBcdFx0XHQ9IFwiMTVcIjtcblx0XHR2bS5xdWVyeSBcdFx0XHQ9IFwiXCI7XG5cdFx0dm0udG90YWxQYWdlc1x0XHQ9IHByb21pc2VkRGF0YS5kYXRhLmxhc3RfcGFnZTtcblx0XHR2bS50cmFkZXNob3dzXHRcdD0gcHJvbWlzZWREYXRhLmRhdGEuZGF0YTtcblx0XHRcblx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdC8vIFdhdGNoIHNjb3BlIHZhcmlhYmxlcyB0byB1cGRhdGUgY2FjaGVcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChbJ2N1cnJlbnRQYWdlJywgJ29yZGVyQnknLCAnb3JkZXJCeVJldmVyc2UnLCAncGVyUGFnZScsICdxdWVyeSddLCBmdW5jdGlvbih2YXJOYW1lKSB7XG5cdFx0XHRcdHZhciB2YWwgPSB2bS5mb3JtQ2FjaGUuZ2V0KHZhck5hbWUpO1xuXHRcdFx0XHRpZiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0dm1bdmFyTmFtZV0gPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdFx0JHNjb3BlLiR3YXRjaCgnY3RybC4nICsgdmFyTmFtZSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHQgICAgdm0uZm9ybUNhY2hlLnB1dCh2YXJOYW1lLCBuZXdWYWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBEZWxldGUgYSB0cmFkZXNob3cgdXNpbmcgdGhlIHRyYWRlc2hvdyBzZXJ2aWNlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVHJhZGVzaG93KHRyYWRlc2hvd19pZCkge1xuXHRcdFx0dmFyIHRyYWRlc2hvdyA9IHZtLnBsdWNrVHJhZGVzaG93KHRyYWRlc2hvd19pZCk7XG5cdFx0XHR0cmFkZXNob3dTZXJ2aWNlLmRlbGV0ZVRyYWRlc2hvdyh0cmFkZXNob3cpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENoZWNrcyBpZiBhIHRyYWRlc2hvdyBoYXMgbGVhZHMsIGFuZCByb3V0ZXMgdXNlciB0byBVUkwgdG8gZG93bmxvYWQgcmVwb3J0XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZG93bmxvYWRSZXBvcnQodHJhZGVzaG93X2lkKSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYXBpL3RyYWRlc2hvd3MvJyArIHRyYWRlc2hvd19pZCArICcvcmVwb3J0P3Rva2VuPScgKyBsb2dpblNlcnZpY2UudG9rZW4uZ2V0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogVXNlIGxlYWRTZXJ2aWNlIHRvIGZldGNoIGxlYWRzIGZvciB0aGUgdHJhZGVzaG93XG5cdFx0ICovXG5cdFx0IGZ1bmN0aW9uIGdldExlYWRzKHBhZ2VOdW1iZXIsIHRyYWRlc2hvdykge1xuXHRcdFx0aWYgKHRyYWRlc2hvdyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRyYWRlc2hvdyA9IHZtLnNlbGVjdGVkVHJhZGVzaG93O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHZtLnNlbGVjdGVkVHJhZGVzaG93ID0gdHJhZGVzaG93O1xuXHRcdFx0fVxuXG5cdFx0XHRsZWFkU2VydmljZVxuXHRcdFx0XHQucmV0cmlldmUodHJhZGVzaG93LmlkLCBwYWdlTnVtYmVyLCA1MCwgJ2lkJywgMClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcblxuXHRcdFx0XHRcdHZtLmxlYWRzID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHR2bS5sZWFkQ3VycmVudFBhZ2UgPSByZXNwb25zZS5jdXJyZW50X3BhZ2U7XG5cdFx0XHRcdFx0dm0ubGVhZFRvdGFsUGFnZXMgPSByZXNwb25zZS5sYXN0X3BhZ2U7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFtnZXRUcmFkZXNob3dzIHVzZSB0cmFkZXNob3dTZXJ2aWNlIHRvIGZldGNoIHRyYWRlc2hvd3NdXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ2V0VHJhZGVzaG93cyhwYWdlTnVtYmVyKSB7XG5cdFx0XHRpZiAocGFnZU51bWJlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHBhZ2VOdW1iZXIgPSB2bS5jdXJyZW50UGFnZTtcblx0XHRcdH1cblx0XHRcdHZtLmxhc3RGZXRjaGVkUGFnZSA9IHBhZ2VOdW1iZXI7XG5cblx0XHRcdGJ1c3lTZXJ2aWNlLnNldE1lc3NhZ2UoJ1dvcmtpbmcgb24gaXQnKTtcblxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuXHRcdFx0dHJhZGVzaG93U2VydmljZVxuXHRcdFx0XHQucmV0cmlldmUoXG5cdFx0XHRcdFx0cGFnZU51bWJlcixcblx0XHRcdFx0XHR2bS5wZXJQYWdlLFxuXHRcdFx0XHRcdHZtLm9yZGVyQnksXG5cdFx0XHRcdFx0dm0ub3JkZXJCeVJldmVyc2UsXG5cdFx0XHRcdFx0dm0ucXVlcnlcblx0XHRcdFx0KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0dmFyIHJlc3BvbnNlID0gcGF5bG9hZC5kYXRhO1xuXG5cdFx0XHRcdFx0dm0udHJhZGVzaG93cyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0dm0uY3VycmVudFBhZ2UgPSByZXNwb25zZS5jdXJyZW50X3BhZ2U7XG5cdFx0XHRcdFx0dm0udG90YWxQYWdlcyA9IHJlc3BvbnNlLmxhc3RfcGFnZTtcblxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHBheWxvYWQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbmQgYSB0cmFkZXNob3cgaW4gdGhlIGxvY2FsIGFycmF5IGJ5IGlkXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcGx1Y2tUcmFkZXNob3codHJhZGVzaG93X2lkKSB7XG5cdFx0XHRmb3IgKHZhciBuID0gMCwgdHJhZGVzaG93OyAodHJhZGVzaG93ID0gdm0udHJhZGVzaG93c1tuXSk7IG4rKykge1xuXHRcdFx0XHRpZiAodHJhZGVzaG93LmlkID09IHRyYWRlc2hvd19pZCkgeyByZXR1cm4gdHJhZGVzaG93OyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogW3JlZnJlc2hUcmFkZXNob3dzIENhbGxzIGdldFRyYWRlc2hvd3Mgd2l0aCB0aGUgY3VycmVudGx5IHNjb3BlZCBwYWdlIG51bWJlcl1cblx0XHQgKi9cblx0XHQgZnVuY3Rpb24gcmVmcmVzaFRyYWRlc2hvd3MoKSB7XG5cdFx0XHR2bS5nZXRUcmFkZXNob3dzKCkudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdC8vIFBhZ2UgbnVtYmVyIHdhcyBvdXQgb2YgcmFuZ2UsIGZldGNoaW5nIGxhc3QgcGFnZSBhdmFpbGFibGVcblx0XHRcdFx0aWYgKHZtLmxhc3RGZXRjaGVkUGFnZSA+IHBheWxvYWQuZGF0YS5jdXJyZW50X3BhZ2UpIHtcblx0XHRcdFx0XHR2bS5nZXRUcmFkZXNob3dzKHBheWxvYWQuZGF0YS5sYXN0X3BhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwnLCBbXG4gICAgICAgIC8vIENvbnRyaWJcbiAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICdhbmd1bGFyLWp3dCcsXG4gICAgICAgICdhbmd1bGFyLWNhY2hlJyxcbiAgICAgICAgJ2FuZ3VsYXItc3BpbmtpdCcsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAnbmdEaWFsb2cnLFxuICAgICAgICAnZnJhcG9udGlsbG8uYm9vdHN0cmFwLXN3aXRjaCcsXG5cbiAgICAgICAgLy8gQXBwXG4gICAgICAgICd0c3BvcnRhbERpcmVjdGl2ZXMnLFxuICAgICAgICAnbG9naW5TZXJ2aWNlJyxcbiAgICAgICAgJ2J1c3lTZXJ2aWNlJyxcbiAgICAgICAgJ21lc3NhZ2VTZXJ2aWNlJyxcbiAgICAgICAgJ2F1dGhJbnRlcmNlcHRvcicsXG4gICAgICAgICdhdXRoQ29udHJvbGxlcnMnLFxuICAgICAgICAndHJhZGVzaG93Q29udHJvbGxlcnMnLFxuICAgICAgICAndHJhZGVzaG93U2VydmljZXMnLFxuICAgICAgICAnbGVhZENvbnRyb2xsZXJzJyxcbiAgICAgICAgJ2xlYWRTZXJ2aWNlcydcbiAgICBdKVxuICAgIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGh0dHBQcm92aWRlcikge1xuICAgICAgICAkaHR0cFByb3ZpZGVyLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zID0gZmFsc2U7XG5cbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2F1dGgnKTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlci5cbiAgICAgICAgICAgIHN0YXRlKCdhdXRoJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9hdXRoJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3BhcnRpYWxzL2xvZ2luLWZvcm0uaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0F1dGhDb250cm9sbGVyIGFzIGN0cmwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHN0YXRlKCdsb2dvdXQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ291dCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6JycsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ291dENvbnRyb2xsZXIgYXMgY3RybCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgc3RhdGUoJ3RyYWRlc2hvd3MnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3RyYWRlc2hvd3MnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vcGFydGlhbHMvdHJhZGVzaG93LWxpc3QuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWRlc2hvd0xpc3RDb250cm9sbGVyIGFzIGN0cmwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZWREYXRhOiBmdW5jdGlvbiBwcm9taXNlZERhdGEodHJhZGVzaG93U2VydmljZSwgQ2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUNhY2hlRmFjdG9yeS5nZXQoJ2Zvcm1DYWNoZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhY2hlRmFjdG9yeSgnZm9ybUNhY2hlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZU9uRXhwaXJlOiAnYWdncmVzc2l2ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlTW9kZTogJ2xvY2FsU3RvcmFnZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldCgnZm9ybUNhY2hlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFkZXNob3dTZXJ2aWNlLnJldHJpZXZlKGNhY2hlLmdldCgnY3VycmVudFBhZ2UnKSwgY2FjaGUuZ2V0KCdwZXJQYWdlJyksIGNhY2hlLmdldCgnb3JkZXJCeScpLCBjYWNoZS5nZXQoJ29yZGVyQnlSZXZlcnNlJyksIGNhY2hlLmdldCgncXVlcnknKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VkRm9ybUNhY2hlOiBmdW5jdGlvbiBwcm9taXNlZEZvcm1DYWNoZShDYWNoZUZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENhY2hlRmFjdG9yeS5nZXQoJ2Zvcm1DYWNoZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBzdGF0ZSgndHJhZGVzaG93RWRpdCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdHJhZGVzaG93cy86aWQvZWRpdCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi9wYXJ0aWFscy90cmFkZXNob3ctZGV0YWlsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFkZXNob3dEZXRhaWxDb250cm9sbGVyIGFzIGN0cmwnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZWREYXRhOiBmdW5jdGlvbiBwcm9taXNlZERhdGEoVHJhZGVzaG93LCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRyYWRlc2hvdy5nZXQoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlZExlYWREYXRhOiBmdW5jdGlvbiBwcm9taXNlZExlYWREYXRhKGxlYWRTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsIENhY2hlRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gJ3RyYWRlc2hvdycgKyAkc3RhdGVQYXJhbXMuaWQgKyAnTGVhZHNGb3JtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQ2FjaGVGYWN0b3J5LmdldChjYWNoZUtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FjaGVGYWN0b3J5KGNhY2hlS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlT25FeHBpcmU6ICdhZ2dyZXNzaXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VNb2RlOiAnbG9jYWxTdG9yYWdlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldChjYWNoZUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVhZFNlcnZpY2UucmV0cmlldmUoJHN0YXRlUGFyYW1zLmlkLCBjYWNoZS5nZXQoJ2N1cnJlbnRQYWdlJyksIGNhY2hlLmdldCgncGVyUGFnZScpLCBjYWNoZS5nZXQoJ29yZGVyQnknKSwgY2FjaGUuZ2V0KCdvcmRlckJ5UmV2ZXJzZScpLCBjYWNoZS5nZXQoJ3F1ZXJ5JykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlZEZvcm1DYWNoZTogZnVuY3Rpb24gcHJvbWlzZWRGb3JtQ2FjaGUoQ2FjaGVGYWN0b3J5LCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZUtleSA9ICd0cmFkZXNob3cnICsgJHN0YXRlUGFyYW1zLmlkICsgJ0xlYWRzRm9ybSc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2FjaGVGYWN0b3J5LmdldChjYWNoZUtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHN0YXRlKCd0cmFkZXNob3dDcmVhdGUnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3RyYWRlc2hvd3MvY3JlYXRlJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3BhcnRpYWxzL3RyYWRlc2hvdy1kZXRhaWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1RyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXIgYXMgY3RybCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgc3RhdGUoJ2xlYWRFZGl0Jywge1xuICAgICAgICAgICAgICAgIHVybDonL2xlYWRzLzppZC9lZGl0JyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3BhcnRpYWxzL2xlYWQtZGV0YWlsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMZWFkQ29udHJvbGxlciBhcyBjdHJsJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWREYXRhOiBmdW5jdGlvbiBsZWFkRGF0YShMZWFkLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBMZWFkLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5ydW4oZnVuY3Rpb24gKCRodHRwLCBDYWNoZUZhY3RvcnkpIHtcbiAgICAgIGlmICghQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJykpIHtcbiAgICAgICAgbmV3IENhY2hlRmFjdG9yeSgnZGVmYXVsdENhY2hlJywge1xuICAgICAgICAgICAgbWF4QWdlOiAxNSAqIDYwICogMTAwMCxcbiAgICAgICAgICAgIGNhY2hlRmx1c2hJbnRlcnZhbDogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICBkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnXG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRodHRwLmRlZmF1bHRzLmNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJyk7XG4gICAgfSlcbiAgICAuZmlsdGVyKCd1bnNhZmUnLCBmdW5jdGlvbigkc2NlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
