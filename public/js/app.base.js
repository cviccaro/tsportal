!function(){"use strict";angular.module("tsportal.auth",[])}(),function(){angular.module("tsportal.busyIndicator",[])}(),function(){"use strict";angular.module("tsportal.clickable",[])}(),function(){"use strict";angular.module("tsportal.lead",["ngResource"])}(),function(){"use strict";angular.module("tsportal.messages",[])}(),function(){angular.module("tsportal.pager",[])}(),function(){angular.module("tsportal.slideMenu",[])}(),function(){angular.module("tsportal.timeago",[])}(),function(){angular.module("tsportal.tradeshow",["ngResource"])}(),function(){"use strict";angular.module("tsportal.leads",[])}(),function(){"use strict";angular.module("tsportal.login",[])}(),function(){"use strict";angular.module("tsportal.tradeshows",[])}(),function(){"use strict";function e(e,t,a){function r(a,r,n){function o(){t.$on("$stateChangeStart",function(){e.resetMessage(),e.show()}),t.$on("$stateChangeSuccess",function(){e.hide()})}function s(){return e.isBusy()}t.isBusy=s,o()}var n={restrict:"E",templateUrl:"../views/busyIndicatorView.html",replace:!0,link:r};return n}angular.module("tsportal.busyIndicator").directive("busyIndicator",e),e.$inject=["busyService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,a){t.addClass("clickable"),t.on("click",function(e){null===navigator.userAgent.match(/PhantomJS/g)&&(t.siblings().removeClass("active"),t.addClass("active"))})}var t={restict:"A",link:e};return t}angular.module("tsportal.clickable").directive("clickable",e)}(),function(){"use strict";function e(e,t,a){function r(r,n,o){var s=r.hasOwnProperty("ctrl")?r.ctrl:r;r.$watch(function(){return e.getMessages()},function(e,t){"undefined"!=typeof e&&(s.messages=e)}),t.$on("$stateChangeSuccess",function(){e.purge()}),s.addMessage=function(t){t=e.addMessage(t),a(function(){$(".messages .alert[message-id="+t.id+"]").addClass("in")})},s.removeMessage=function(t){$(".messages .alert[message-id="+t+"]").on("transitionend",function(){r.$apply()}).css("opacity",0),a(function(){e.removeMessage(t)})},s.addSuccessMessage=function(e){var t={icon:"ok",type:"success",iconClass:"icon-medium",dismissible:!0,message:"Your changes have been saved"};return e=$.extend(t,e),s.addMessage(e)},s.addErrorMessage=function(e){var t={type:"danger",dismissible:!0,icon:"exclamation-sign",iconClass:"icon-medium",message:"Sorry, something went wrong."};return e=$.extend(t,e),s.addMessage(e)},s.purgeMessages=function(){e.purge()}}var n={restrict:"E",templateUrl:"../views/messagesView.html",replace:!0,link:r};return n}angular.module("tsportal.messages").directive("messages",e),e.$inject=["messageService","$rootScope","$timeout"]}(),function(){"use strict";function e(){function e(e,t,a){e.getRange=function(e){return new Array(e)}}var t={restrict:"E",scope:{currentPage:"=",totalPages:"=",getResults:"&getResults",tradeshow:"="},templateUrl:"../views/pagerView.html",link:e};return t}angular.module("tsportal.pager").directive("pager",e)}(),function(){"use strict";function e(e,t,a,r,n){function o(o,s,i){function c(){g={hide:function(){s.removeClass("visible")},show:function(){s.addClass("visible")},setAlignment:function(e){o.alignment=e,s.attr("alignment",e)}},o.alignment=o.alignment||(window.outerWidth<=768?"bottom":"right"),t.$on("$stateChangeStart",function(){g.hide()}),n.bind("keyup",function(e){27===e.which&&g.hide()})}function l(){g.hide()}function u(t,n){if(a.menus&&a.menus.hasOwnProperty(t)){for(var i in n)o[i]=n[i];var c=a.menus[t],l=r('<h5 class="slide-menu-title">'+c.title+"</h5>")(o);s.find("h5").replaceWith(l);var u=a.buildMenu(c),d=r(u)(o);e(function(){s.find(".slide-menu-content").html(d),g.show()})}}function d(e){g.setAlignment(e)}var g;o.openMenu=u,o.closeMenu=l,o.setAlignment=d,c()}var s={restrict:"E",replace:!0,transclude:!0,templateUrl:"../views/slideMenuView.html",link:o};return s}angular.module("tsportal.slideMenu").directive("slideMenu",e),e.$inject=["$timeout","$rootScope","slideMenuService","$compile","$document"]}(),function(){"use strict";function e(){function e(e,t,a){e.getTimeAgo=function(e){return moment(e,moment.ISO_8601).fromNow()}}var t={restrict:"E",scope:{time:"="},template:'<span class="time-ago">{{getTimeAgo(time)}}</span>',link:e};return t}angular.module("tsportal.timeago").directive("timeago",e)}(),function(){"use strict";function e(e){function t(e,t){s.push({config:e,deferred:t})}function a(e){if(e)for(var t=0;t<s.length;++t)s[t].deferred.reject(e);s=[]}function r(e){for(var t=0;t<s.length;++t)n(e(s[t].config),s[t].deferred);s=[]}function n(t,a){function r(e){a.resolve(e)}function n(e){a.reject(e)}o=o||e.get("$http"),o(t).then(r,n)}var o,s=[],i={append:t,rejectAll:a,retryAll:r,retryHttpRequest:n};return i}function t(e,t,a,r){var n,o,s,i=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return n=n||e.get("authService"),t.url.match(i)&&"/api/authenticate"!=t.url&&!t.headers.hasOwnProperty("Authorization")&&(n.hasToken()?t.headers.Authorization="Bearer "+n.token.get():(s=s||e.get("$state"),s.go("auth"))),t},response:function(t){var a=t.config;return"/api/authenticate"==a.url&&"POST"==a.method&&200==t.status&&(n=n||e.get("authService"),t.data.hasOwnProperty("token")&&(n.token.set(t.data.token),n.loginConfirmed())),t},responseError:function(i){var c=a.defer();switch(n=n||e.get("authService"),s=s||e.get("$state"),i.status){case 400:n.loginCancelled();break;case 401:if(i.data.hasOwnProperty("error")&&"token_expired"==i.data.error)return r.append(i.config,c),t.$broadcast("event:auth-login-required",i),n.hasToken()&&n.refresh(),c.promise;break;case 403:t.$broadcast("event:auth-forbidden",i),n.loginCancelled();break;case 500:o=o||e.get("ngDialog"),o.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>Sorry, something went wrong.  Try again later.</span>'})}return c.reject(i),c.promise}}}angular.module("tsportal.auth").factory("httpBuffer",e).config(["$httpProvider",function(e){e.interceptors.push(t)}]),e.$inject=["$injector"],t.$inject=["$injector","$rootScope","$q","httpBuffer"]}(),function(){"use strict";function e(e,t){var a=/\/{0,1}api\/[a-zA-Z\/0-9\?\=\&\%\+\-\_]*/g;return{request:function(t){return t.url.match(a)&&e.show(),t},response:function(t){return t.config.url.match(a)&&e.hide(),t},responseError:function(r){return r.config.url.match(a)&&e.hide(),t.reject(r)}}}angular.module("tsportal.busyIndicator").config(["$httpProvider",function(t){t.interceptors.push(e)}]),e.$inject=["busyService","$q"]}(),function(){"use strict";function e(e,t,a,r,n,o,s){function i(){r.get("authCache")||new r("authCache",{maxAge:354e4,deleteOnExpire:"aggressive",storageMode:"localStorage",onExpire:function(e,t){var a=s.get("authService");a.refresh(t).then(function(t){y.put(e,t.data.token)})}}),y=r.get("authCache"),t.isLoggedIn=void 0!==y.get("token")}function c(){var e=a.defer();return this.hasToken()?(t.isLoggedIn=!0,e.resolve()):(this.loginCancelled(),e.reject()),e.promise}function l(){var e=this.token.get();return void 0!==e&&null!==e}function u(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function d(e){var t=a.defer();return n.post("/api/authenticate",e,{cache:!1}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise}function g(e,a){o.rejectAll(a),t.$broadcast("event:auth-login-cancelled",e),this.logout()}function h(e,a){var r=a||function(e){return e};t.$broadcast("event:auth-logged-in",e),t.isLoggedIn=!0,o.retryAll(r)}function p(){this.token.remove(),e.go("auth")}function f(e){var t=a.defer(),r=this,o={cache:!1,headers:{}};return"undefined"!=typeof e&&(o.headers.Authorization="Bearer "+e),n.get("api/authenticate/refresh",o).then(function(e){r.token.set(e.data.token),r.loginConfirmed(),t.resolve(e)})["catch"](function(e){r.loginCancelled(),t.reject(e)}),t.promise}function m(){return y.get("token")}function v(){y.remove("token")}function w(e){y.put("token",e)}var y,$={checkApiAccess:c,hasToken:l,isValidEmail:u,login:d,loginCancelled:g,loginConfirmed:h,logout:p,refresh:f,token:{get:m,set:w,remove:v}};return i(),$}angular.module("tsportal.auth").factory("authService",e),e.$inject=["$state","$rootScope","$q","CacheFactory","$http","httpBuffer","$injector"]}(),function(){"use strict";function e(e,t){function a(){e.workingMessage=p.defaultMessage}function r(e){h=e?!1:!0}function n(e){return d}function o(){g=!1}function s(){return g&&!h}function i(){return $(".loading-indicator").is(":visible")}function c(){this.setMessage(this.defaultMessage)}function l(t){d=e.workingMessage=t}function u(){g=!0}var d,g=!1,h=!1,p={defaultMessage:"Working on it",forceHide:r,getMessage:n,hide:o,isBusy:s,isVisible:i,resetMessage:c,setMessage:l,show:u};return a(),p}angular.module("tsportal.busyIndicator").factory("busyService",e),e.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(e,t,a,r,n){function o(t,a,r,n,o,s){return void 0===a&&(a="1"),void 0===n&&(n="updated_at"),void 0===o&&(o=1),void 0===r&&(r=15),void 0===s&&(s=""),e.get("api/tradeshows/"+t+"/leads?page="+a+"&perPage="+r+"&orderBy="+n+"&orderByReverse="+parseInt(o)+"&filter="+s,{cache:!0})}function s(e){var r=e.first_name+" "+e.last_name,o='<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Lead <em>'+r+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>';t.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:o,showClose:!1}).then(function(){n.setMessage("Deleting"),a["delete"]({id:e.id}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?t.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Lead <em>'+r+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+r+"</em>.</span>  Please try again or contact support."})},function(e){t.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Lead <em>'+r+"</em>.</span>  Please try again or contact support."})})})}var i={deleteLead:s,retrieve:o};return i}angular.module("tsportal.lead").factory("leadService",e),e.$inject=["$http","ngDialog","Lead","$rootScope","busyService"]}(),function(){"use strict";function e(e,t){function a(e){return e.id=s.length+1,s.push(e),e}function r(){return s}function n(e){s[e-1]&&s.splice(e-1,1)}function o(){s=[]}var s=[],i={addMessage:a,getMessages:r,purge:o,removeMessage:n};return i}angular.module("tsportal.messages").factory("messageService",e),e.$inject=["$timeout","$q"]}(),function(){"use strict";function e(){function e(e,t){this.menus[e]=t}function t(e){function t(){}function a(e){var t="";for(var a in e.items){var r=e.items[a],n=r.title||a,o='<a title="'+n+'"',s=r.url,i=r.click,c=r.show;o+=s?' href="/#/'+s+'"':' href="javascript:void(0)"',i&&(o+=' ng-click="'+i+'"'),c&&(o+=' ng-show="'+c+'"'),o+=">"+n+"</a>",t+="<li>"+o+"</li>"}return"<ul>"+t+"</ul>"}var r={menus:this.menus,buildMenu:a};return t(),r}return this.menus={},this.registerMenu=e,this.$get=t,t.$inject=["$rootScope"],this}angular.module("tsportal.slideMenu").provider("slideMenuService",e)}(),function(){"use strict";function e(e,t,a,r,n){function o(e){var a=e.name,o=e.id;i=r.openConfirm({plain:!0,className:"dialog-destroy ngdialog-theme-default",template:'<span class="glyphicon glyphicon-trash red icon-large"></span><span>Are you sure you want to delete Tradeshow <em>'+a+'</em>?<br /><strong>This cannot be undone.</strong></span><div class="dialog-buttons"><button class="btn btn-danger" ng-click="confirm()">Yes, delete</button> <button class="btn btn-cancel" ng-click="closeThisDialog()">Cancel</button></div>',showClose:!1}).then(function(){n.setMessage("Deleting"),t["delete"]({tradeshowId:o}).$promise.then(function(e){e.hasOwnProperty("success")&&e.success===!0?r.open({plain:!0,className:"dialog-success ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Tradeshow <em>'+a+"</em> has been successfully deleted.</span>"}).closePromise.then(function(){window.location.reload()}):r.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+a+"</em>.</span>  Please try again or contact support."})},function(e){r.open({plain:!0,className:"dialog-error ngdialog-theme-default",template:'<span class="glyphicon glyphicon-exclamation-sign red icon-large"></span><span>An error occured when trying to delete Tradeshow <em>'+a+"</em>.</span>  Please try again or contact support."})})})}function s(t,a,r,n,o){return void 0===t&&(t="1"),void 0===r&&(r="updated_at"),void 0===n&&(n=1),void 0===a&&(a=15),void 0===o&&(o=""),e.get("api/tradeshows?page="+t+"&perPage="+a+"&orderBy="+r+"&orderByReverse="+parseInt(n)+"&filter="+o,{cache:!0})}var i,c={retrieve:s,deleteTradeshow:o};return c}angular.module("tsportal.tradeshow").factory("tradeshowService",e),e.$inject=["$http","Tradeshow","$rootScope","ngDialog","busyService"]}(),function(){"use strict";function e(e,t){return e("api/leads/:id",{id:"@id"},{index:{method:"GET",url:"api/tradeshows/:tradeshowId/leads",params:{tradeshowId:"@tradeshowId"}},get:{cache:t.get("defaultCache")}})}angular.module("tsportal.lead").factory("Lead",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t){return e("api/tradeshows/:id",{id:"@id"},{get:{cache:t.get("defaultCache")},create:{method:"POST",url:"api/tradeshows/create"},"delete":{method:"DELETE"}})}angular.module("tsportal.tradeshow").factory("Tradeshow",e),e.$inject=["$resource","CacheFactory"]}(),function(){"use strict";function e(e,t,a,r,n,o){function s(){o.get("loginForm")||new o("loginForm",{maxAge:24192e5,deleteOnExpire:"aggressive",storageMode:"localStorage"}),c.cache=o.get("loginForm"),c.cache.get("rememberMe")&&c.cache.get("email")&&(c.rememberMe=c.cache.get("rememberMe"),c.email=c.cache.get("email")),r.hasToken()&&a.go("tradeshows")}function i(){var e={email:c.email,password:c.password};c.purgeMessages(),r.login(e).then(function(e){c.rememberMe&&(c.cache.put("email",c.email),c.cache.put("rememberMe",c.rememberMe)),a.go("tradeshows")})["catch"](function(e){c.addErrorMessage({message:"The email or password entered was incorrect."})})}var c=this;c.cache=null,c.rememberMe=!1,c.login=i,s()}angular.module("tsportal.login").controller("LoginController",e),e.$inject=["$rootScope","$scope","$state","authService","$timeout","CacheFactory"]}(),function(){"use strict";function e(e){e.logout()}angular.module("tsportal.login").controller("LogoutController",e),e.$inject=["authService"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d){function g(){}function h(){n.go("tradeshowEdit",{id:f.lead.tradeshow_id})}function p(){f.leadForm.$valid&&(l.setMessage("Saving"),i.save(f.lead).$promise.then(function(t){f.lead=t,f.addSuccessMessage(),e.defaults.cache.removeAll()})["catch"](function(e){f.addErrorMessage()}))}var f=this;f.goBack=h,f.save=p,f.lead=d,f.title="Editing Lead",g()}angular.module("tsportal.leads").controller("LeadEditController",e),e.$inject=["$http","$q","$scope","$timeout","$state","$stateParams","ngDialog","Lead","Tradeshow","busyService","messageService","leadData"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i){function c(){o.checkApiAccess()}function l(){a.go("tradeshows")}function u(){d.tradeshowForm.$valid&&(s.setMessage("Saving new"),n.create(d.tradeshow).$promise.then(function(e){var t=e.id;r.open({plain:!0,className:"dialog-save ngdialog-theme-default",template:'<span class="glyphicon glyphicon-check green icon-large"></span><span>Your new tradeshow has been created successfully.  Close this message box to proceed to the tradeshow\'s edit page.</span>'}).closePromise.then(function(e){a.go("tradeshowEdit",{id:t})})})["catch"](function(e){d.addErrorMessage()}))}var d=this;d.goBack=l,d.save=u,d.isNew=!0,d.titlePrefix="Creating new",d.tradeshow={active:0},c()}angular.module("tsportal.tradeshows").controller("TradeshowCreateController",e),e.$inject=["$scope","$timeout","$state","ngDialog","Tradeshow","authService","busyService","messageService"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d,g,h){function p(){angular.forEach(["currentPage","orderBy","omg","orderByReverse","perPage","query"],function(t){C.formCache.get(t)&&(C[t]=C.formCache.get(t)),e.$watch("ctrl."+t,function(e,a){"undefined"!=typeof e&&C.formCache.put(t,e)})})}function f(e){u.deleteLead(C.pluckLead(e))}function m(e){void 0===e&&(e=C.currentPage),C.lastFetchedPage=e;var a=t.defer();return u.retrieve(C.tradeshow.id,e,C.perPage,C.orderBy,C.orderByReverse,C.query).then(function(e){var t=e.data;C.leads=t.data,C.currentPage=t.current_page,C.totalPages=t.last_page,a.resolve(e)})["catch"](function(e){a.reject(e)}),a.promise}function v(){n.go("tradeshows")}function w(e){for(var t,a=0;t=C.leads[a];a++)if(t.id==e)return t;return!1}function y(){C.getLeads().then(function(e){C.lastFetchedPage>e.data.current_page&&C.getLeads(e.data.last_page)})}function $(){C.tradeshowForm.$valid&&(i.setMessage("Saving"),l.save(C.tradeshow).$promise.then(function(e){C.tradeshow=e,C.addSuccessMessage(),a.defaults.cache.removeAll()})["catch"](function(e){C.addErrorMessage()}))}function b(){1!=C.currentPage&&C.getLeads(1)}var C=this;C.deleteLead=f,C.getLeads=m,C.goBack=v,C.pluckLead=w,C.refreshLeads=y,C.save=$,C.updatePagination=b,C.currentPage=g.data.current_page,C.formCache=h,C.isNew=!1,C.lastFetchedPage=1,C.leads=g.data.data,C.orderBy="updated_at",C.orderByReverse="0",C.perPage="15",C.query="",C.titlePrefix="Editing",C.tradeshow=d,C.totalPages=g.data.last_page,p()}angular.module("tsportal.tradeshows").controller("TradeshowEditController",e),e.$inject=["$scope","$q","$http","CacheFactory","$state","ngDialog","authService","busyService","messageService","Tradeshow","leadService","promisedData","promisedLeadData","promisedFormCache"]}(),function(){"use strict";function e(e,t,a,r,n,o,s,i,c,l,u,d){function g(){angular.forEach(["currentPage","orderBy","orderByReverse","perPage","query"],function(t){var a=b.formCache.get(t);void 0!==a&&null!==a&&(b[t]=a),e.$watch("ctrl."+t,function(e,a){"undefined"!=typeof e&&b.formCache.put(t,e)})})}function h(e){l.deleteLead(b.pluckLead(e))}function p(e){var t=b.pluckTradeshow(e);c.deleteTradeshow(t)}function f(e){window.location.href="/api/tradeshows/"+e+"/report?token="+o.token.get()}function m(e,t){s.forceHide(),void 0===t?t=b.selectedTradeshow:b.selectedTradeshow=t,a(function(){l.retrieve(t.id,e,50,"id",0).then(function(e){s.forceHide(!0);var t=e.data;b.leads=t.data,b.leadCurrentPage=t.current_page,b.leadTotalPages=t.last_page})["catch"](function(e){b.addErrorMessage()})})}function v(e){void 0===e&&(e=b.currentPage),b.lastFetchedPage=e,s.setMessage("Working on it");var a=t.defer();return c.retrieve(e,b.perPage,b.orderBy,b.orderByReverse,b.query).then(function(e){var t=e.data;b.tradeshows=t.data,b.currentPage=t.current_page,b.totalPages=t.last_page,a.resolve(e)})["catch"](function(e){a.reject(e)}),a.promise}function w(e){for(var t,a=0;t=b.leads[a];a++)if(t.id==e)return t;return!1}function y(e){for(var t,a=0;t=b.tradeshows[a];a++)if(t.id==e)return t;return!1}function $(){b.getTradeshows().then(function(e){b.lastFetchedPage>e.data.current_page&&b.getTradeshows(e.data.last_page)})}var b=this;b.deleteTradeshow=p,b.deleteLead=h,b.downloadReport=f,b.getLeads=m,b.getTradeshows=v,b.pluckLead=w,b.pluckTradeshow=y,b.refreshTradeshows=$,b.currentPage=u.data.current_page,b.formCache=d,b.lastFetchedPage=1,b.orderBy="updated_at",b.orderByReverse="1",b.perPage="15",b.query="",b.totalPages=u.data.last_page,b.tradeshows=u.data.data,g()}angular.module("tsportal.tradeshows").controller("TradeshowListController",e),e.$inject=["$scope","$q","$timeout","CacheFactory","ngDialog","authService","busyService","messageService","tradeshowService","leadService","promisedData","promisedFormCache"]}(),function(){"use strict";angular.module("tsportal",["ui.router","angular-jwt","angular-cache","angular-spinkit","ngAnimate","ngDialog","ngResource","frapontillo.bootstrap-switch","angular-chosen","tsportal.auth","tsportal.busyIndicator","tsportal.clickable","tsportal.lead","tsportal.messages","tsportal.pager","tsportal.slideMenu","tsportal.timeago","tsportal.tradeshow","tsportal.leads","tsportal.tradeshows","tsportal.login"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","slideMenuServiceProvider",function(e,t,a,r){r.registerMenu("tradeshow",{title:"Tradeshow<br /><small>{{tradeshow.name}}</small><br /><small>{{tradeshow.lead_count}} leads",items:{edit:{url:"tradeshows/{{tradeshow.id}}/edit",title:"Edit"},"delete":{click:"ctrl.deleteTradeshow(tradeshow.id)",title:"Delete"},report:{click:"ctrl.downloadReport(tradeshow.id)",title:"Excel Report",show:"tradeshow.lead_count > 0"}}}),r.registerMenu("lead",{title:"Lead<br /><small>{{lead.first_name}} {{lead.last_name}}</small><br /><small>{{lead.email_address}}</small>",items:{edit:{url:"leads/{{lead.id}}/edit",title:"Edit"},"delete":{click:"ctrl.deleteLead(lead.id)",title:"Delete"}}}),a.useLegacyPromiseExtensions=!1,t.otherwise("/auth"),e.state("test",{url:"/test",template:"test",controller:"TradeshowListController as ctrl"}).state("auth",{url:"/auth",templateUrl:"../views/loginView.html",controller:"LoginController as ctrl"}).state("logout",{url:"/logout",template:"",controller:"LogoutController as ctrl"}).state("tradeshows",{url:"/tradeshows",templateUrl:"../views/tradeshowListView.html",controller:"TradeshowListController as ctrl",resolve:{promisedData:["tradeshowService","CacheFactory",function(e,t){t.get("formCache")||new t("formCache",{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var a=t.get("formCache");return e.retrieve(a.get("currentPage"),a.get("perPage"),a.get("orderBy"),a.get("orderByReverse"),a.get("query"))}],promisedFormCache:["CacheFactory",function(e){return e.get("formCache")}]}}).state("tradeshowEdit",{url:"/tradeshows/:id/edit",templateUrl:"../views/tradeshowView.html",controller:"TradeshowEditController as ctrl",resolve:{promisedData:["Tradeshow","$stateParams",function(e,t){return e.get({id:t.id}).$promise}],promisedLeadData:["leadService","$stateParams","CacheFactory",function(e,t,a){var r="tradeshow"+t.id+"LeadsForm";a.get(r)||new a(r,{maxAge:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"});var n=a.get(r);return e.retrieve(t.id,n.get("currentPage"),n.get("perPage"),n.get("orderBy"),n.get("orderByReverse"),n.get("query"))}],promisedFormCache:["CacheFactory","$stateParams",function(e,t){var a="tradeshow"+t.id+"LeadsForm";return e.get(a)}]}}).state("tradeshowCreate",{url:"/tradeshows/create",templateUrl:"../views/tradeshowView.html",controller:"TradeshowCreateController as ctrl"}).state("leadEdit",{url:"/leads/:id/edit",templateUrl:"../views/leadView.html",controller:"LeadEditController as ctrl",resolve:{leadData:["Lead","$stateParams",function(e,t){return e.get({id:t.id}).$promise}]}})}]).run(["$http","CacheFactory",function(e,t){t.get("defaultCache")||new t("defaultCache",{maxAge:9e5,cacheFlushInterval:36e5,deleteOnExpire:"aggressive"}),e.defaults.cache=t.get("defaultCache")}]).filter("unsafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGgvYXV0aC5tb2R1bGUuanMiLCJidXN5LWluZGljYXRvci9idXN5SW5kaWNhdG9yLm1vZHVsZS5qcyIsImNsaWNrYWJsZS9jbGlja2FibGUubW9kdWxlLmpzIiwibGVhZC9sZWFkLm1vZHVsZS5qcyIsIm1lc3NhZ2VzL21lc3NhZ2VzLm1vZHVsZS5qcyIsInBhZ2VyL3BhZ2VyLm1vZHVsZS5qcyIsInNsaWRlLW1lbnUvc2xpZGVNZW51Lm1vZHVsZS5qcyIsInRpbWVhZ28vdGltZWFnby5tb2R1bGUuanMiLCJ0cmFkZXNob3cvdHJhZGVzaG93Lm1vZHVsZS5qcyIsImxlYWRzL2xlYWRzLm1vZHVsZS5qcyIsImxvZ2luL2xvZ2luLm1vZHVsZS5qcyIsInRyYWRlc2hvd3MvdHJhZGVzaG93cy5tb2R1bGUuanMiLCJidXN5LWluZGljYXRvci9idXN5SW5kaWNhdG9yRGlyZWN0aXZlLmpzIiwicHVibGljL2pzL2FwcC5iYXNlLmpzIiwiY2xpY2thYmxlL2NsaWNrYWJsZURpcmVjdGl2ZS5qcyIsIm1lc3NhZ2VzL21lc3NhZ2VzRGlyZWN0aXZlLmpzIiwicGFnZXIvcGFnZXJEaXJlY3RpdmUuanMiLCJzbGlkZS1tZW51L3NsaWRlTWVudURpcmVjdGl2ZS5qcyIsInRpbWVhZ28vdGltZWFnb0RpcmVjdGl2ZS5qcyIsImF1dGgvYXV0aEludGVyY2VwdG9yLmpzIiwiYnVzeS1pbmRpY2F0b3IvYnVzeVNlcnZpY2VJbnRlcmNlcHRvci5qcyIsImF1dGgvYXV0aFNlcnZpY2UuanMiLCJidXN5LWluZGljYXRvci9idXN5U2VydmljZS5qcyIsImxlYWQvbGVhZFNlcnZpY2UuanMiLCJtZXNzYWdlcy9tZXNzYWdlU2VydmljZS5qcyIsInNsaWRlLW1lbnUvc2xpZGVNZW51U2VydmljZS5qcyIsInRyYWRlc2hvdy90cmFkZXNob3dTZXJ2aWNlLmpzIiwibGVhZC9sZWFkUmVzb3VyY2UuanMiLCJ0cmFkZXNob3cvdHJhZGVzaG93UmVzb3VyY2UuanMiLCJsb2dpbi9sb2dpbkNvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dvdXRDb250cm9sbGVyLmpzIiwibGVhZHMvZWRpdC9sZWFkRWRpdENvbnRyb2xsZXIuanMiLCJ0cmFkZXNob3dzL2NyZWF0ZS90cmFkZXNob3dDcmVhdGVDb250cm9sbGVyLmpzIiwidHJhZGVzaG93cy9lZGl0L3RyYWRlc2hvd0VkaXRDb250cm9sbGVyLmpzIiwidHJhZGVzaG93cy9saXN0L3RyYWRlc2hvd0xpc3RDb250cm9sbGVyLmpzIiwiYXBwLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJidXN5SW5kaWNhdG9yRGlyZWN0aXZlIiwiYnVzeVNlcnZpY2UiLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCJidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwiYWN0aXZhdGUiLCIkb24iLCJyZXNldE1lc3NhZ2UiLCJzaG93IiwiaGlkZSIsImlzQnVzeSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwibGluayIsIiRpbmplY3QiLCJjbGlja2FibGVEaXJlY3RpdmUiLCJjbGlja2FibGVEaXJlY3RpdmVMaW5rIiwiYWRkQ2xhc3MiLCJvbiIsIiRldmVudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInJlc3RpY3QiLCJtZXNzYWdlc0RpcmVjdGl2ZSIsIm1lc3NhZ2VTZXJ2aWNlIiwibWVzc2FnZXNEaXJlY3RpdmVMaW5rIiwidm0iLCJoYXNPd25Qcm9wZXJ0eSIsImN0cmwiLCIkd2F0Y2giLCJnZXRNZXNzYWdlcyIsIm5ld1ZhbCIsIm9sZFZhbCIsIm1lc3NhZ2VzIiwicHVyZ2UiLCJhZGRNZXNzYWdlIiwiY29uZmlnIiwiJCIsImlkIiwicmVtb3ZlTWVzc2FnZSIsIiRhcHBseSIsImNzcyIsImFkZFN1Y2Nlc3NNZXNzYWdlIiwiZGVmYXVsdHMiLCJpY29uIiwidHlwZSIsImljb25DbGFzcyIsImRpc21pc3NpYmxlIiwibWVzc2FnZSIsImV4dGVuZCIsImFkZEVycm9yTWVzc2FnZSIsInB1cmdlTWVzc2FnZXMiLCJwYWdlckRpcmVjdGl2ZSIsInBhZ2VyRGlyZWN0aXZlTGluayIsImdldFJhbmdlIiwibnVtIiwiQXJyYXkiLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJnZXRSZXN1bHRzIiwidHJhZGVzaG93Iiwic2xpZGVNZW51RGlyZWN0aXZlIiwic2xpZGVNZW51U2VydmljZSIsIiRjb21waWxlIiwiJGRvY3VtZW50Iiwic2xpZGVNZW51RGlyZWN0aXZlTGluayIsIiRzY29wZSIsInNsaWRlTWVudSIsInNldEFsaWdubWVudCIsInBvcyIsImFsaWdubWVudCIsImF0dHIiLCJ3aW5kb3ciLCJvdXRlcldpZHRoIiwiYmluZCIsImUiLCJ3aGljaCIsImNsb3NlTWVudSIsIm9wZW5NZW51IiwibWVudU5hbWUiLCJvYmpNYXAiLCJtZW51cyIsImtleSIsIm1lbnUiLCJjb21waWxlZFRpdGxlIiwidGl0bGUiLCJmaW5kIiwicmVwbGFjZVdpdGgiLCJidWlsdCIsImJ1aWxkTWVudSIsImNvbXBpbGVkIiwiaHRtbCIsInRyYW5zY2x1ZGUiLCJ0aW1lYWdvRGlyZWN0aXZlIiwidGltZWFnb0RpcmVjdGl2ZUxpbmsiLCJnZXRUaW1lQWdvIiwidGltZSIsIm1vbWVudCIsIklTT184NjAxIiwiZnJvbU5vdyIsInRlbXBsYXRlIiwiaHR0cEJ1ZmZlciIsIiRpbmplY3RvciIsImFwcGVuZCIsImRlZmVycmVkIiwiYnVmZmVyIiwicHVzaCIsInJlamVjdEFsbCIsInJlYXNvbiIsImkiLCJsZW5ndGgiLCJyZWplY3QiLCJyZXRyeUFsbCIsInVwZGF0ZXIiLCJyZXRyeUh0dHBSZXF1ZXN0Iiwic3VjY2Vzc0NhbGxiYWNrIiwicmVzcG9uc2UiLCJyZXNvbHZlIiwiZXJyb3JDYWxsYmFjayIsIiRodHRwIiwiZ2V0IiwidGhlbiIsInNlcnZpY2UiLCJhdXRoSW50ZXJjZXB0b3IiLCIkcSIsImF1dGhTZXJ2aWNlIiwibmdEaWFsb2ciLCIkc3RhdGUiLCJhcGlQYXR0ZXJuIiwicmVxdWVzdCIsInVybCIsImhlYWRlcnMiLCJoYXNUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJ0b2tlbiIsImdvIiwibWV0aG9kIiwic3RhdHVzIiwiZGF0YSIsInNldCIsImxvZ2luQ29uZmlybWVkIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsImRlZmVyIiwibG9naW5DYW5jZWxsZWQiLCJlcnJvciIsIiRicm9hZGNhc3QiLCJyZWZyZXNoIiwicHJvbWlzZSIsIm9wZW4iLCJwbGFpbiIsImNsYXNzTmFtZSIsImZhY3RvcnkiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwiYnVzeVNlcnZpY2VJbnRlcmNlcHRvciIsIkNhY2hlRmFjdG9yeSIsIm1heEFnZSIsImRlbGV0ZU9uRXhwaXJlIiwic3RvcmFnZU1vZGUiLCJvbkV4cGlyZSIsInZhbHVlIiwic3ZjIiwicGF5bG9hZCIsImNhY2hlIiwicHV0IiwiaXNMb2dnZWRJbiIsInVuZGVmaW5lZCIsImNoZWNrQXBpQWNjZXNzIiwidGhpcyIsInQiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsInBhdHRlcm4iLCJ0ZXN0IiwibG9naW4iLCJjcmVkZW50aWFscyIsInBvc3QiLCJsb2dvdXQiLCJjb25maWdVcGRhdGVyIiwicmVtb3ZlIiwidG9rZW5TdHJpbmciLCJ0aGF0IiwidG9rZW5HZXQiLCJ0b2tlblJlbW92ZSIsInRva2VuU2V0Iiwid29ya2luZ01lc3NhZ2UiLCJkZWZhdWx0TWVzc2FnZSIsImZvcmNlSGlkZSIsInJlc2V0IiwiaGlkZGVuQnlGb3JjZSIsImdldE1lc3NhZ2UiLCJtc2ciLCJhbUlCdXN5IiwiaXNWaXNpYmxlIiwiaXMiLCJzZXRNZXNzYWdlIiwibGVhZFNlcnZpY2UiLCJMZWFkIiwicmV0cmlldmUiLCJ0cmFkZWhvd19pZCIsInBhZ2VOdW1iZXIiLCJwZXJQYWdlIiwib3JkZXJCeSIsIm9yZGVyQnlSZXZlcnNlIiwiZmlsdGVyIiwicGFyc2VJbnQiLCJkZWxldGVMZWFkIiwibGVhZCIsImxlYWRfbmFtZSIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJkaWFsb2dfaHRtbCIsIm9wZW5Db25maXJtIiwic2hvd0Nsb3NlIiwiJHByb21pc2UiLCJzdWNjZXNzIiwiY2xvc2VQcm9taXNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlcnJvclJlc3BvbnNlIiwic3BsaWNlIiwic2xpZGVNZW51UHJvdmlkZXIiLCJyZWdpc3Rlck1lbnUiLCJuYW1lIiwiYWN0aW9uTmFtZSIsIml0ZW1zIiwiYWN0aW9uIiwib25DbGljayIsImNsaWNrIiwiJGdldCIsInByb3ZpZGVyIiwidHJhZGVzaG93U2VydmljZSIsIlRyYWRlc2hvdyIsImRlbGV0ZVRyYWRlc2hvdyIsInRyYWRlc2hvd19uYW1lIiwidHJhZGVzaG93X2lkIiwiYWN0aXZlRGlhbG9nIiwidHJhZGVzaG93SWQiLCIkcmVzb3VyY2UiLCJpbmRleCIsInBhcmFtcyIsImNyZWF0ZSIsImRlbGV0ZSIsIkxvZ2luQ29udHJvbGxlciIsInJlbWVtYmVyTWUiLCJwYXNzd29yZCIsImNvbnRyb2xsZXIiLCJMb2dvdXRDb250cm9sbGVyIiwiTGVhZEVkaXRDb250cm9sbGVyIiwiJHN0YXRlUGFyYW1zIiwibGVhZERhdGEiLCJnb0JhY2siLCJzYXZlIiwibGVhZEZvcm0iLCIkdmFsaWQiLCJyZW1vdmVBbGwiLCJUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyIiwidHJhZGVzaG93Rm9ybSIsImlzTmV3IiwidGl0bGVQcmVmaXgiLCJhY3RpdmUiLCJUcmFkZXNob3dFZGl0Q29udHJvbGxlciIsInByb21pc2VkRGF0YSIsInByb21pc2VkTGVhZERhdGEiLCJwcm9taXNlZEZvcm1DYWNoZSIsImZvckVhY2giLCJmb3JtQ2FjaGUiLCJsZWFkX2lkIiwicGx1Y2tMZWFkIiwiZ2V0TGVhZHMiLCJsYXN0RmV0Y2hlZFBhZ2UiLCJxdWVyeSIsImxlYWRzIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwibiIsInJlZnJlc2hMZWFkcyIsInVwZGF0ZVBhZ2luYXRpb24iLCJUcmFkZXNob3dMaXN0Q29udHJvbGxlciIsInZhck5hbWUiLCJ2YWwiLCJwbHVja1RyYWRlc2hvdyIsImRvd25sb2FkUmVwb3J0IiwiaHJlZiIsInNlbGVjdGVkVHJhZGVzaG93IiwibGVhZEN1cnJlbnRQYWdlIiwibGVhZFRvdGFsUGFnZXMiLCJnZXRUcmFkZXNob3dzIiwidHJhZGVzaG93cyIsInJlZnJlc2hUcmFkZXNob3dzIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzbGlkZU1lbnVTZXJ2aWNlUHJvdmlkZXIiLCJlZGl0IiwicmVwb3J0IiwidXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMiLCJvdGhlcndpc2UiLCJzdGF0ZSIsImNhY2hlS2V5IiwicnVuIiwiY2FjaGVGbHVzaEludGVydmFsIiwiJHNjZSIsInRydXN0QXNIdG1sIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBQ0FBLFNBQUFDLE9BQUEsdUJDRkEsV0FDQUQsUUFBQUMsT0FBQSxnQ0NEQSxXQUNBLFlBQ0FELFNBQUFDLE9BQUEsNEJDRkEsV0FDQSxZQUNBRCxTQUFBQyxPQUFBLGlCQUFBLGtCQ0ZBLFdBQ0EsWUFDQUQsU0FBQUMsT0FBQSwyQkNGQSxXQUNBRCxRQUFBQyxPQUFBLHdCQ0RBLFdBQ0FELFFBQUFDLE9BQUEsNEJDREEsV0FDQUQsUUFBQUMsT0FBQSwwQkNEQSxXQUNBRCxRQUFBQyxPQUFBLHNCQUFBLGtCQ0RBLFdBQ0EsWUFDQUQsU0FBQUMsT0FBQSx3QkNGQSxXQUNBLFlBQ0FELFNBQUFDLE9BQUEsd0JDRkEsV0FDQSxZQUNBRCxTQUFBQyxPQUFBLDZCQ0ZBLFdBRUEsWUFLQSxTQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxHQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEdBT0EsUUFBQUMsS0FDQU4sRUFBQU8sSUFBQSxvQkFBQSxXQUNBUixFQUFBUyxlQUNBVCxFQUFBVSxTQUVBVCxFQUFBTyxJQUFBLHNCQUFBLFdBQ0FSLEVBQUFXLFNBSUEsUUFBQUMsS0FDQSxNQUFBWixHQUFBWSxTQWpCQVgsRUFBQVcsT0FBQUEsRUFFQUwsSUFqQkEsR0FHQU0sSUFDQUMsU0FBQSxJQUNBQyxZQUFBLGtDQUNBQyxTQUFBLEVBQ0FDLEtBQUFkLEVBR0EsT0FBQVUsR0FkQWhCLFFBQUFDLE9BQUEsMEJBQ0FlLFVBQUEsZ0JBQUFkLEdDa0ZJQSxFQUF1Qm1CLFNBQVcsY0FBZSxhQUFjLGVDdkZuRSxXQUVBLFlBS0EsU0FBQUMsS0FXQSxRQUFBQyxHQUFBaEIsRUFBQUMsRUFBQUMsR0FDQUQsRUFBQWdCLFNBQUEsYUFDQWhCLEVBQUFpQixHQUFBLFFBQUEsU0FBQUMsR0FDQSxPQUFBQyxVQUFBQyxVQUFBQyxNQUFBLGdCQUNBckIsRUFBQXNCLFdBQUFDLFlBQUEsVUFDQXZCLEVBQUFnQixTQUFBLGFBZkEsR0FBQVIsSUFDQWdCLFFBQUEsSUFFQVosS0FBQUcsRUFHQSxPQUFBUCxHQVZBaEIsUUFBQUMsT0FBQSxzQkFDQWUsVUFBQSxZQUFBTSxNQ0xBLFdBRUEsWUFLQSxTQUFBVyxHQUFBQyxFQUFBOUIsRUFBQUMsR0FhQSxRQUFBOEIsR0FBQTVCLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQTJCLEdBQUE3QixFQUFBOEIsZUFBQSxRQUFBOUIsRUFBQStCLEtBQUEvQixDQUVBQSxHQUFBZ0MsT0FBQSxXQUFBLE1BQUFMLEdBQUFNLGVBQUEsU0FBQUMsRUFBQUMsR0FDQSxtQkFBQUQsS0FDQUwsRUFBQU8sU0FBQUYsS0FJQXJDLEVBQUFPLElBQUEsc0JBQUEsV0FDQXVCLEVBQUFVLFVBR0FSLEVBQUFTLFdBQUEsU0FBQUMsR0FDQUEsRUFBQVosRUFBQVcsV0FBQUMsR0FDQXpDLEVBQUEsV0FDQTBDLEVBQUEsK0JBQUFELEVBQUFFLEdBQUEsS0FBQXhCLFNBQUEsU0FJQVksRUFBQWEsY0FBQSxTQUFBRCxHQUNBRCxFQUFBLCtCQUFBQyxFQUFBLEtBQUF2QixHQUFBLGdCQUFBLFdBQ0FsQixFQUFBMkMsV0FFQUMsSUFBQSxVQUFBLEdBQ0E5QyxFQUFBLFdBQ0E2QixFQUFBZSxjQUFBRCxNQUlBWixFQUFBZ0Isa0JBQUEsU0FBQU4sR0FDQSxHQUFBTyxJQUNBQyxLQUFBLEtBQ0FDLEtBQUEsVUFDQUMsVUFBQSxjQUNBQyxhQUFBLEVBQ0FDLFFBQUEsK0JBS0EsT0FGQVosR0FBQUMsRUFBQVksT0FBQU4sRUFBQVAsR0FFQVYsRUFBQVMsV0FBQUMsSUFHQVYsRUFBQXdCLGdCQUFBLFNBQUFkLEdBQ0EsR0FBQU8sSUFDQUUsS0FBQSxTQUNBRSxhQUFBLEVBQ0FILEtBQUEsbUJBQ0FFLFVBQUEsY0FDQUUsUUFBQSwrQkFLQSxPQUZBWixHQUFBQyxFQUFBWSxPQUFBTixFQUFBUCxHQUVBVixFQUFBUyxXQUFBQyxJQUdBVixFQUFBeUIsY0FBQSxXQUNBM0IsRUFBQVUsU0F0RUEsR0FBQTVCLElBQ0FDLFNBQUEsSUFDQUMsWUFBQSw2QkFDQUMsU0FBQSxFQUNBQyxLQUFBZSxFQUdBLE9BQUFuQixHQVpBaEIsUUFBQUMsT0FBQSxxQkFDQWUsVUFBQSxXQUFBaUIsR0ZzTUlBLEVBQWtCWixTQUFXLGlCQUFrQixhQUFjLGVHM01qRSxXQUVBLFlBS0EsU0FBQXlDLEtBaUJBLFFBQUFDLEdBQUF4RCxFQUFBQyxFQUFBQyxHQUNBRixFQUFBeUQsU0FBQSxTQUFBQyxHQUNBLE1BQUEsSUFBQUMsT0FBQUQsSUFsQkEsR0FBQWpELElBQ0FDLFNBQUEsSUFDQVYsT0FDQTRELFlBQUEsSUFDQUMsV0FBQSxJQUNBQyxXQUFBLGNBQ0FDLFVBQUEsS0FFQXBELFlBQUEsMEJBQ0FFLEtBQUEyQyxFQUdBLE9BQUEvQyxHQWhCQWhCLFFBQUFDLE9BQUEsa0JBQ0FlLFVBQUEsUUFBQThDLE1DTEEsV0FFQSxZQUtBLFNBQUFTLEdBQUFsRSxFQUFBRCxFQUFBb0UsRUFBQUMsRUFBQUMsR0FhQSxRQUFBQyxHQUFBQyxFQUFBcEUsRUFBQUMsR0FXQSxRQUFBQyxLQUNBbUUsR0FDQS9ELEtBQUEsV0FDQU4sRUFBQXVCLFlBQUEsWUFFQWxCLEtBQUEsV0FDQUwsRUFBQWdCLFNBQUEsWUFFQXNELGFBQUEsU0FBQUMsR0FDQUgsRUFBQUksVUFBQUQsRUFDQXZFLEVBQUF5RSxLQUFBLFlBQUFGLEtBSUFILEVBQUFJLFVBQUFKLEVBQUFJLFlBQUFFLE9BQUFDLFlBQUEsSUFBQSxTQUFBLFNBRUEvRSxFQUFBTyxJQUFBLG9CQUFBLFdBQ0FrRSxFQUFBL0QsU0FFQTRELEVBQUFVLEtBQUEsUUFBQSxTQUFBQyxHQUNBLEtBQUFBLEVBQUFDLE9BQ0FULEVBQUEvRCxTQUtBLFFBQUF5RSxLQUNBVixFQUFBL0QsT0FHQSxRQUFBMEUsR0FBQUMsRUFBQUMsR0FDQSxHQUFBbEIsRUFBQW1CLE9BQUFuQixFQUFBbUIsTUFBQXRELGVBQUFvRCxHQUFBLENBQ0EsSUFBQSxHQUFBRyxLQUFBRixHQUNBZCxFQUFBZ0IsR0FBQUYsRUFBQUUsRUFFQSxJQUFBQyxHQUFBckIsRUFBQW1CLE1BQUFGLEdBRUFLLEVBQUFyQixFQUFBLGdDQUFBb0IsRUFBQUUsTUFBQSxTQUFBbkIsRUFFQXBFLEdBQUF3RixLQUFBLE1BQUFDLFlBQUFILEVBRUEsSUFBQUksR0FBQTFCLEVBQUEyQixVQUFBTixHQUNBTyxFQUFBM0IsRUFBQXlCLEdBQUF0QixFQUVBdkUsR0FBQSxXQUNBRyxFQUFBd0YsS0FBQSx1QkFBQUssS0FBQUQsR0FDQXZCLEVBQUFoRSxVQUtBLFFBQUFpRSxHQUFBQyxHQUNBRixFQUFBQyxhQUFBQyxHQTlEQSxHQUFBRixFQUVBRCxHQUFBWSxTQUFBQSxFQUNBWixFQUFBVyxVQUFBQSxFQUNBWCxFQUFBRSxhQUFBQSxFQUVBcEUsSUFuQkEsR0FBQU0sSUFDQUMsU0FBQSxJQUNBRSxTQUFBLEVBQ0FtRixZQUFBLEVBQ0FwRixZQUFBLDhCQUNBRSxLQUFBdUQsRUFHQSxPQUFBM0QsR0FaQWhCLFFBQUFDLE9BQUEsc0JBQ0FlLFVBQUEsWUFBQXVELEdKZ1VDQSxFQUFtQmxELFNBQVcsV0FBWSxhQUFjLG1CQUFvQixXQUFZLGdCS3JVekYsV0FFQSxZQUtBLFNBQUFrRixLQWNBLFFBQUFDLEdBQUFqRyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBa0csV0FBQSxTQUFBQyxHQUNBLE1BQUFDLFFBQUFELEVBQUFDLE9BQUFDLFVBQUFDLFdBZkEsR0FBQTdGLElBQ0FDLFNBQUEsSUFDQVYsT0FDQW1HLEtBQUEsS0FFQUksU0FBQSxxREFDQTFGLEtBQUFvRixFQUdBLE9BQUF4RixHQWJBaEIsUUFBQUMsT0FBQSxvQkFDQWUsVUFBQSxVQUFBdUYsTUNBQSxXQUVBLFlBU0EsU0FBQVEsR0FBQUMsR0FlQSxRQUFBQyxHQUFBbkUsRUFBQW9FLEdBQ0FDLEVBQUFDLE1BQ0F0RSxPQUFBQSxFQUNBb0UsU0FBQUEsSUFPQSxRQUFBRyxHQUFBQyxHQUNBLEdBQUFBLEVBQ0EsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFKLEVBQUFLLFNBQUFELEVBQ0FKLEVBQUFJLEdBQUFMLFNBQUFPLE9BQUFILEVBR0FILE1BTUEsUUFBQU8sR0FBQUMsR0FDQSxJQUFBLEdBQUFKLEdBQUEsRUFBQUEsRUFBQUosRUFBQUssU0FBQUQsRUFDQUssRUFBQUQsRUFBQVIsRUFBQUksR0FBQXpFLFFBQUFxRSxFQUFBSSxHQUFBTCxTQUVBQyxNQU1BLFFBQUFTLEdBQUE5RSxFQUFBb0UsR0FDQSxRQUFBVyxHQUFBQyxHQUNBWixFQUFBYSxRQUFBRCxHQUVBLFFBQUFFLEdBQUFGLEdBQ0FaLEVBQUFPLE9BQUFLLEdBRUFHLEVBQUFBLEdBQUFqQixFQUFBa0IsSUFBQSxTQUNBRCxFQUFBbkYsR0FBQXFGLEtBQUFOLEVBQUFHLEdBdERBLEdBQUFDLEdBQUFkLEtBRUFpQixHQUNBbkIsT0FBQUEsRUFDQUksVUFBQUEsRUFDQUssU0FBQUEsRUFDQUUsaUJBQUFBLEVBR0EsT0FBQVEsR0FpREEsUUFBQUMsR0FBQXJCLEVBQUE1RyxFQUFBa0ksRUFBQXZCLEdBRUEsR0FBQXdCLEdBQUFDLEVBQUFDLEVBQ0FDLEVBQUEsMkNBRUEsUUFDQUMsUUFBQSxTQUFBN0YsR0FjQSxNQWJBeUYsR0FBQUEsR0FBQXZCLEVBQUFrQixJQUFBLGVBR0FwRixFQUFBOEYsSUFBQS9HLE1BQUE2RyxJQUFBLHFCQUFBNUYsRUFBQThGLE1BQUE5RixFQUFBK0YsUUFBQXhHLGVBQUEsbUJBQ0FrRyxFQUFBTyxXQUNBaEcsRUFBQStGLFFBQUFFLGNBQUEsVUFBQVIsRUFBQVMsTUFBQWQsT0FHQU8sRUFBQUEsR0FBQXpCLEVBQUFrQixJQUFBLFVBQ0FPLEVBQUFRLEdBQUEsVUFJQW5HLEdBRUFnRixTQUFBLFNBQUFBLEdBQ0EsR0FBQWhGLEdBQUFnRixFQUFBaEYsTUFjQSxPQVhBLHFCQUFBQSxFQUFBOEYsS0FBQSxRQUFBOUYsRUFBQW9HLFFBQUEsS0FBQXBCLEVBQUFxQixTQUNBWixFQUFBQSxHQUFBdkIsRUFBQWtCLElBQUEsZUFFQUosRUFBQXNCLEtBQUEvRyxlQUFBLFdBQ0FrRyxFQUFBUyxNQUFBSyxJQUFBdkIsRUFBQXNCLEtBQUFKLE9BQ0FULEVBQUFlLG1CQU1BeEIsR0FFQXlCLGNBQUEsU0FBQUMsR0FDQSxHQUFBdEMsR0FBQW9CLEVBQUFtQixPQUtBLFFBSEFsQixFQUFBQSxHQUFBdkIsRUFBQWtCLElBQUEsZUFDQU8sRUFBQUEsR0FBQXpCLEVBQUFrQixJQUFBLFVBRUFzQixFQUFBTCxRQUNBLElBQUEsS0FDQVosRUFBQW1CLGdCQUNBLE1BQ0EsS0FBQSxLQUVBLEdBQUFGLEVBQUFKLEtBQUEvRyxlQUFBLFVBQUEsaUJBQUFtSCxFQUFBSixLQUFBTyxNQU1BLE1BTEE1QyxHQUFBRSxPQUFBdUMsRUFBQTFHLE9BQUFvRSxHQUNBOUcsRUFBQXdKLFdBQUEsNEJBQUFKLEdBQ0FqQixFQUFBTyxZQUNBUCxFQUFBc0IsVUFFQTNDLEVBQUE0QyxPQUVBLE1BQ0EsS0FBQSxLQUNBMUosRUFBQXdKLFdBQUEsdUJBQUFKLEdBQ0FqQixFQUFBbUIsZ0JBQ0EsTUFDQSxLQUFBLEtBQ0FsQixFQUFBQSxHQUFBeEIsRUFBQWtCLElBQUEsWUFDQU0sRUFBQXVCLE1BQ0FDLE9BQUEsRUFDQUMsVUFBQSxxQ0FDQW5ELFNBQUEseUlBT0EsTUFGQUksR0FBQU8sT0FBQStCLEdBRUF0QyxFQUFBNEMsVUE5SUE5SixRQUNBQyxPQUFBLGlCQUNBaUssUUFBQSxhQUFBbkQsR0FDQWpFLFFBQUEsZ0JBQUEsU0FBQXFILEdBQ0FBLEVBQUFDLGFBQUFoRCxLQUFBaUIsTU5rYUN0QixFQUFXMUYsU0FBVyxhQWtGdEJnSCxFQUFnQmhILFNBQVcsWUFBYSxhQUFjLEtBQU0saUJPamdCN0QsV0FFQSxZQU9BLFNBQUFnSixHQUFBbEssRUFBQW1JLEdBRUEsR0FBQUksR0FBQSwyQ0FFQSxRQUNBQyxRQUFBLFNBQUE3RixHQUlBLE1BSEFBLEdBQUE4RixJQUFBL0csTUFBQTZHLElBQ0F2SSxFQUFBVSxPQUVBaUMsR0FFQWdGLFNBQUEsU0FBQUEsR0FJQSxNQUhBQSxHQUFBaEYsT0FBQThGLElBQUEvRyxNQUFBNkcsSUFDQXZJLEVBQUFXLE9BRUFnSCxHQUVBeUIsY0FBQSxTQUFBQyxHQUlBLE1BSEFBLEdBQUExRyxPQUFBOEYsSUFBQS9HLE1BQUE2RyxJQUNBdkksRUFBQVcsT0FFQXdILEVBQUFiLE9BQUErQixLQTFCQXhKLFFBQUFDLE9BQUEsMEJBQ0E2QyxRQUFBLGdCQUFBLFNBQUFxSCxHQUNBQSxFQUFBQyxhQUFBaEQsS0FBQWlELE1QaWlCSUEsRUFBdUJoSixTQUFXLGNBQWUsU1FuaUJyRCxXQUVBLFlBTUEsU0FBQWtILEdBQUFFLEVBQUFySSxFQUFBa0ksRUFBQWdDLEVBQUFyQyxFQUFBbEIsRUFBQUMsR0F5QkEsUUFBQXRHLEtBQ0E0SixFQUFBcEMsSUFBQSxjQUNBLEdBQUFvQyxHQUFBLGFBQ0FDLE9BQUEsTUFDQUMsZUFBQSxhQUNBQyxZQUFBLGVBQ0FDLFNBQUEsU0FBQTlFLEVBQUErRSxHQUNBLEdBQUFDLEdBQUE1RCxFQUFBa0IsSUFBQSxjQUNBMEMsR0FBQWYsUUFBQWMsR0FBQXhDLEtBQUEsU0FBQTBDLEdBQ0FDLEVBQUFDLElBQUFuRixFQUFBaUYsRUFBQXpCLEtBQUFKLFlBS0E4QixFQUFBUixFQUFBcEMsSUFBQSxhQUVBOUgsRUFBQTRLLFdBQUFDLFNBQUFILEVBQUE1QyxJQUFBLFNBR0EsUUFBQWdELEtBQ0EsR0FBQWhFLEdBQUFvQixFQUFBbUIsT0FTQSxPQVJBMEIsTUFBQXJDLFlBQ0ExSSxFQUFBNEssWUFBQSxFQUNBOUQsRUFBQWEsWUFHQW9ELEtBQUF6QixpQkFDQXhDLEVBQUFPLFVBRUFQLEVBQUE0QyxRQUdBLFFBQUFoQixLQUNBLEdBQUFzQyxHQUFBRCxLQUFBbkMsTUFBQWQsS0FDQSxPQUFBK0MsVUFBQUcsR0FBQSxPQUFBQSxFQUdBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQSwySkFDQSxPQUFBQSxHQUFBQyxLQUFBRixHQUdBLFFBQUFHLEdBQUFDLEdBQ0EsR0FBQXhFLEdBQUFvQixFQUFBbUIsT0FTQSxPQVBBeEIsR0FBQTBELEtBQUEsb0JBQUFELEdBQUFaLE9BQUEsSUFDQTNDLEtBQUEsU0FBQTBDLEdBQ0EzRCxFQUFBYSxRQUFBOEMsS0FGQTVDLFNBSUEsU0FBQTRDLEdBQ0EzRCxFQUFBTyxPQUFBb0QsS0FFQTNELEVBQUE0QyxRQUdBLFFBQUFKLEdBQUFOLEVBQUE5QixHQUNBUCxFQUFBTSxVQUFBQyxHQUNBbEgsRUFBQXdKLFdBQUEsNkJBQUFSLEdBQ0ErQixLQUFBUyxTQUdBLFFBQUF0QyxHQUFBRixFQUFBeUMsR0FDQSxHQUFBbEUsR0FBQWtFLEdBQUEsU0FBQS9JLEdBQUEsTUFBQUEsR0FDQTFDLEdBQUF3SixXQUFBLHVCQUFBUixHQUNBaEosRUFBQTRLLFlBQUEsRUFDQWpFLEVBQUFXLFNBQUFDLEdBR0EsUUFBQWlFLEtBQ0FULEtBQUFuQyxNQUFBOEMsU0FDQXJELEVBQUFRLEdBQUEsUUFHQSxRQUFBWSxHQUFBa0MsR0FDQSxHQUFBN0UsR0FBQW9CLEVBQUFtQixRQUNBdUMsRUFBQWIsS0FDQXJJLEdBQUFnSSxPQUFBLEVBQUFqQyxXQWdCQSxPQWRBLG1CQUFBa0QsS0FDQWpKLEVBQUErRixRQUFBRSxjQUFBLFVBQUFnRCxHQUdBOUQsRUFBQUMsSUFBQSwyQkFBQXBGLEdBQ0FxRixLQUFBLFNBQUEwQyxHQUNBbUIsRUFBQWhELE1BQUFLLElBQUF3QixFQUFBekIsS0FBQUosT0FDQWdELEVBQUExQyxpQkFDQXBDLEVBQUFhLFFBQUE4QyxLQUpBNUMsU0FNQSxTQUFBNEMsR0FDQW1CLEVBQUF0QyxpQkFDQXhDLEVBQUFPLE9BQUFvRCxLQUVBM0QsRUFBQTRDLFFBR0EsUUFBQW1DLEtBQ0EsTUFBQW5CLEdBQUE1QyxJQUFBLFNBR0EsUUFBQWdFLEtBQ0FwQixFQUFBZ0IsT0FBQSxTQUdBLFFBQUFLLEdBQUFKLEdBQ0FqQixFQUFBQyxJQUFBLFFBQUFnQixHQWhJQSxHQUFBakIsR0FFQTFDLEdBQ0E4QyxlQUFBQSxFQUNBcEMsU0FBQUEsRUFDQXVDLGFBQUFBLEVBQ0FJLE1BQUFBLEVBQ0EvQixlQUFBQSxFQUNBSixlQUFBQSxFQUNBc0MsT0FBQUEsRUFDQS9CLFFBQUFBLEVBQ0FiLE9BQ0FkLElBQUErRCxFQUNBNUMsSUFBQThDLEVBQ0FMLE9BQUFJLEdBTUEsT0FGQXhMLEtBRUEwSCxFQXpCQXBJLFFBQ0FDLE9BQUEsaUJBQ0FpSyxRQUFBLGNBQUEzQixHUitxQkNBLEVBQVlsSCxTQUFXLFNBQVUsYUFBYyxLQUFNLGVBQWdCLFFBQVMsYUFBYyxnQlNyckI3RixXQUVBLFlBTUEsU0FBQWxCLEdBQUFDLEVBQUFDLEdBcUJBLFFBQUFLLEtBQ0FOLEVBQUFnTSxlQUFBaEUsRUFBQWlFLGVBR0EsUUFBQUMsR0FBQUMsR0FDQUMsRUFBQUQsR0FBQSxHQUFBLEVBR0EsUUFBQUUsR0FBQUMsR0FDQSxNQUFBaEosR0FHQSxRQUFBNUMsS0FDQTZMLEdBQUEsRUFHQSxRQUFBNUwsS0FDQSxNQUFBNEwsS0FBQUgsRUFHQSxRQUFBSSxLQUNBLE1BQUE3SixHQUFBLHNCQUFBOEosR0FBQSxZQUdBLFFBQUFqTSxLQUNBdUssS0FBQTJCLFdBQUEzQixLQUFBa0IsZ0JBR0EsUUFBQVMsR0FBQUosR0FDQWhKLEVBQUF0RCxFQUFBZ00sZUFBQU0sRUFHQSxRQUFBN0wsS0FDQThMLEdBQUEsRUFyREEsR0FBQWpKLEdBQUFpSixHQUFBLEVBQUFILEdBQUEsRUFFQXBFLEdBQ0FpRSxlQUFBLGdCQUNBQyxVQUFBQSxFQUNBRyxXQUFBQSxFQUNBM0wsS0FBQUEsRUFDQUMsT0FBQUEsRUFDQTZMLFVBQUFBLEVBQ0FoTSxhQUFBQSxFQUNBa00sV0FBQUEsRUFDQWpNLEtBQUFBLEVBS0EsT0FGQUgsS0FFQTBILEVBckJBcEksUUFDQUMsT0FBQSwwQkFDQWlLLFFBQUEsY0FBQS9KLEdUdXZCQ0EsRUFBWWtCLFNBQVcsYUFBYyxlVWp3QnRDLFdBRUEsWUFNQSxTQUFBMEwsR0FBQTlFLEVBQUFPLEVBQUF3RSxFQUFBNU0sRUFBQUQsR0FZQSxRQUFBOE0sR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FnQkEsTUFmQXRDLFVBQUFrQyxJQUNBQSxFQUFBLEtBRUFsQyxTQUFBb0MsSUFDQUEsRUFBQSxjQUVBcEMsU0FBQXFDLElBQ0FBLEVBQUEsR0FFQXJDLFNBQUFtQyxJQUNBQSxFQUFBLElBRUFuQyxTQUFBc0MsSUFDQUEsRUFBQSxJQUVBdEYsRUFDQUMsSUFBQSxrQkFBQWdGLEVBQUEsZUFBQUMsRUFBQSxZQUFBQyxFQUNBLFlBQUFDLEVBQUEsbUJBQUFHLFNBQUFGLEdBQUEsV0FBQUMsR0FBQXpDLE9BQUEsSUFHQSxRQUFBMkMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxXQUFBLElBQUFGLEVBQUFHLFVBQ0FDLEVBQUEsZ0hBQUFILEVBQ0Esa1BBR0FuRixHQUFBdUYsYUFDQS9ELE9BQUEsRUFDQUMsVUFBQSx3Q0FDQW5ELFNBQUFnSCxFQUNBRSxXQUFBLElBRUE3RixLQUFBLFdBQ0FoSSxFQUFBMk0sV0FBQSxZQUNBRSxFQUFBQSxXQUNBaEssR0FBQTBLLEVBQUExSyxLQUNBaUwsU0FDQTlGLEtBQUEsU0FBQTBDLEdBQ0FBLEVBQUF4SSxlQUFBLFlBQUF3SSxFQUFBcUQsV0FBQSxFQUNBMUYsRUFBQXVCLE1BQ0FDLE9BQUEsRUFDQUMsVUFBQSx3Q0FDQW5ELFNBQUEsa0ZBQUE2RyxFQUFBLGdEQUVBUSxhQUNBaEcsS0FBQSxXQUNBakQsT0FBQWtKLFNBQUFDLFdBSUE3RixFQUFBdUIsTUFDQUMsT0FBQSxFQUNBQyxVQUFBLHNDQUNBbkQsU0FBQSxrSUFBQTZHLEVBQUEseURBR0EsU0FBQVcsR0FDQTlGLEVBQUF1QixNQUNBQyxPQUFBLEVBQ0FDLFVBQUEsc0NBQ0FuRCxTQUFBLGtJQUFBNkcsRUFBQSw0REF4RUEsR0FFQXZGLElBQ0FxRixXQUFBQSxFQUNBUixTQUFBQSxFQUdBLE9BQUE3RSxHQVpBcEksUUFDQUMsT0FBQSxpQkFDQWlLLFFBQUEsY0FBQTZDLEdWcTFCRUEsRUFBWTFMLFNBQVcsUUFBUyxXQUFZLE9BQVEsYUFBYyxrQld2MUJwRSxXQUVBLFlBTUEsU0FBQWEsR0FBQTdCLEVBQUFpSSxHQWNBLFFBQUF6RixHQUFBQyxHQUdBLE1BRkFBLEdBQUFFLEdBQUFMLEVBQUE2RSxPQUFBLEVBQ0E3RSxFQUFBeUUsS0FBQXRFLEdBQ0FBLEVBSUEsUUFBQU4sS0FDQSxNQUFBRyxHQUdBLFFBQUFNLEdBQUFELEdBQ0FMLEVBQUFLLEVBQUEsSUFDQUwsRUFBQTRMLE9BQUF2TCxFQUFBLEVBQUEsR0FJQSxRQUFBSixLQUNBRCxLQS9CQSxHQUFBQSxNQUVBeUYsR0FDQXZGLFdBQUFBLEVBQ0FMLFlBQUFBLEVBQ0FJLE1BQUFBLEVBQ0FLLGNBQUFBLEVBR0EsT0FBQW1GLEdBZEFwSSxRQUNBQyxPQUFBLHFCQUNBaUssUUFBQSxpQkFBQWhJLEdYbTRCQ0EsRUFBZWIsU0FBVyxXQUFZLFNZNzRCdkMsV0FFQSxZQUtBLFNBQUFtTixLQVVBLFFBQUFDLEdBQUFDLEVBQUE1TCxHQUNBcUksS0FBQXhGLE1BQUErSSxHQUFBNUwsRUFHQSxRQUFBMEIsR0FBQXBFLEdBWUEsUUFBQU0sTUFHQSxRQUFBeUYsR0FBQXJELEdBQ0EsR0FBQXVELEdBQUEsRUFDQSxLQUFBLEdBQUFzSSxLQUFBN0wsR0FBQThMLE1BQUEsQ0FDQSxHQUFBQyxHQUFBL0wsRUFBQThMLE1BQUFELEdBQ0E1SSxFQUFBOEksRUFBQTlJLE9BQUE0SSxFQUNBdk4sRUFBQSxhQUFBMkUsRUFBQSxJQUNBNkMsRUFBQWlHLEVBQUFqRyxJQUNBa0csRUFBQUQsRUFBQUUsTUFDQWxPLEVBQUFnTyxFQUFBaE8sSUFHQU8sSUFEQXdILEVBQ0EsYUFBQUEsRUFBQSxJQUdBLDZCQUdBa0csSUFDQTFOLEdBQUEsY0FBQTBOLEVBQUEsS0FHQWpPLElBQ0FPLEdBQUEsYUFBQVAsRUFBQSxLQUdBTyxHQUFBLElBQUEyRSxFQUFBLE9BRUFNLEdBQUEsT0FBQWpGLEVBQUEsUUFHQSxNQUFBLE9BQUFpRixFQUFBLFFBNUNBLEdBQUErQixJQUNBekMsTUFBQXdGLEtBQUF4RixNQUNBUSxVQUFBQSxFQUtBLE9BRkF6RixLQUVBMEgsRUFoQkEsTUFMQStDLE1BQUF4RixTQUVBd0YsS0FBQXNELGFBQUFBLEVBQ0F0RCxLQUFBNkQsS0FBQXhLLEVaazVCRUEsRUFBaUJuRCxTQUFXLGNZaDVCOUI4SixLQVRBbkwsUUFBQUMsT0FBQSxzQkFDQWdQLFNBQUEsbUJBQUFULE1DTEEsV0FFQSxZQU1BLFNBQUFVLEdBQUFqSCxFQUFBa0gsRUFBQS9PLEVBQUFvSSxFQUFBckksR0FZQSxRQUFBaVAsR0FBQTlLLEdBQ0EsR0FBQStLLEdBQUEvSyxFQUFBb0ssS0FDQVksRUFBQWhMLEVBQUF0QixFQUNBdU0sR0FBQS9HLEVBQUF1RixhQUVBL0QsT0FBQSxFQUNBQyxVQUFBLHdDQUNBbkQsU0FBQSxxSEFBQXVJLEVBQUEsbVBBQ0FyQixXQUFBLElBR0E3RixLQUFBLFdBRUFoSSxFQUFBMk0sV0FBQSxZQUVBcUMsRUFBQUEsV0FDQUssWUFBQUYsSUFDQXJCLFNBQ0E5RixLQUFBLFNBQUEwQyxHQUNBQSxFQUFBeEksZUFBQSxZQUFBd0ksRUFBQXFELFdBQUEsRUFDQTFGLEVBQUF1QixNQUNBQyxPQUFBLEVBQ0FDLFVBQUEsd0NBQ0FuRCxTQUFBLHVGQUFBdUksRUFBQSxnREFFQWxCLGFBQ0FoRyxLQUFBLFdBQ0FqRCxPQUFBa0osU0FBQUMsV0FJQTdGLEVBQUF1QixNQUNBQyxPQUFBLEVBQ0FDLFVBQUEsc0NBQ0FuRCxTQUFBLHVJQUFBdUksRUFBQSx5REFHQSxTQUFBZixHQUNBOUYsRUFBQXVCLE1BQ0FDLE9BQUEsRUFDQUMsVUFBQSxzQ0FDQW5ELFNBQUEsdUlBQUF1SSxFQUFBLDREQU1BLFFBQUFwQyxHQUFBRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQWdCQSxNQWZBdEMsVUFBQWtDLElBQ0FBLEVBQUEsS0FFQWxDLFNBQUFvQyxJQUNBQSxFQUFBLGNBRUFwQyxTQUFBcUMsSUFDQUEsRUFBQSxHQUVBckMsU0FBQW1DLElBQ0FBLEVBQUEsSUFFQW5DLFNBQUFzQyxJQUNBQSxFQUFBLElBRUF0RixFQUNBQyxJQUFBLHVCQUFBaUYsRUFBQSxZQUFBQyxFQUFBLFlBQUFDLEVBQ0EsbUJBQUFHLFNBQUFGLEdBQUEsV0FBQUMsR0FBQXpDLE9BQUEsSUE1RUEsR0FBQXlFLEdBRUFuSCxHQUNBNkUsU0FBQUEsRUFDQW1DLGdCQUFBQSxFQUdBLE9BQUFoSCxHQVpBcEksUUFDQUMsT0FBQSxzQkFDQWlLLFFBQUEsbUJBQUFnRixHYjRpQ0NBLEVBQWlCN04sU0FBVyxRQUFTLFlBQWEsYUFBYyxXQUFZLGtCY2xqQzdFLFdBRUEsWUFNQSxTQUFBMkwsR0FBQXlDLEVBQUFuRixHQUNBLE1BQUFtRixHQUFBLGlCQUFBek0sR0FBQSxRQUNBME0sT0FBQXhHLE9BQUEsTUFBQU4sSUFBQSxvQ0FBQStHLFFBQUFILFlBQUEsaUJBQ0F0SCxLQUFBNEMsTUFBQVIsRUFBQXBDLElBQUEsbUJBUEFsSSxRQUNBQyxPQUFBLGlCQUNBaUssUUFBQSxPQUFBOEMsR2Q2akNDQSxFQUFLM0wsU0FBVyxZQUFhLG1CZW5rQzlCLFdBRUEsWUFNQSxTQUFBOE4sR0FBQU0sRUFBQW5GLEdBQ0EsTUFBQW1GLEdBQUEsc0JBQUF6TSxHQUFBLFFBQ0FrRixLQUFBNEMsTUFBQVIsRUFBQXBDLElBQUEsaUJBQ0EwSCxRQUFBMUcsT0FBQSxPQUFBTixJQUFBLHlCQUNBaUgsVUFBQTNHLE9BQUEsWUFSQWxKLFFBQ0FDLE9BQUEsc0JBQ0FpSyxRQUFBLFlBQUFpRixHZitrQ0NBLEVBQVU5TixTQUFXLFlBQWEsbUJnQmpsQ25DLFdBRUEsWUFNQSxTQUFBeU8sR0FBQTFQLEVBQUF3RSxFQUFBNkQsRUFBQUYsRUFBQWxJLEVBQUFpSyxHQVlBLFFBQUE1SixLQUNBNEosRUFBQXBDLElBQUEsY0FDQSxHQUFBb0MsR0FBQSxhQUNBQyxPQUFBLFFBQ0FDLGVBQUEsYUFDQUMsWUFBQSxpQkFJQXJJLEVBQUEwSSxNQUFBUixFQUFBcEMsSUFBQSxhQUVBOUYsRUFBQTBJLE1BQUE1QyxJQUFBLGVBQUE5RixFQUFBMEksTUFBQTVDLElBQUEsV0FDQTlGLEVBQUEyTixXQUFBM04sRUFBQTBJLE1BQUE1QyxJQUFBLGNBQ0E5RixFQUFBa0osTUFBQWxKLEVBQUEwSSxNQUFBNUMsSUFBQSxVQUlBSyxFQUFBTyxZQUNBTCxFQUFBUSxHQUFBLGNBUUEsUUFBQXdDLEtBQ0EsR0FBQUMsSUFDQUosTUFBQWxKLEVBQUFrSixNQUNBMEUsU0FBQTVOLEVBQUE0TixTQUlBNU4sR0FBQXlCLGdCQUVBMEUsRUFBQWtELE1BQUFDLEdBQ0F2RCxLQUFBLFNBQUEwQyxHQUNBekksRUFBQTJOLGFBQ0EzTixFQUFBMEksTUFBQUMsSUFBQSxRQUFBM0ksRUFBQWtKLE9BQ0FsSixFQUFBMEksTUFBQUMsSUFBQSxhQUFBM0ksRUFBQTJOLGFBRUF0SCxFQUFBUSxHQUFBLGdCQU5BVixTQVFBLFNBQUFzQyxHQUVBekksRUFBQXdCLGlCQUNBRixRQUFBLG1EQXhEQSxHQUFBdEIsR0FBQStJLElBRUEvSSxHQUFBMEksTUFBQSxLQUNBMUksRUFBQTJOLFlBQUEsRUFDQTNOLEVBQUFxSixNQUFBQSxFQUVBL0ssSUFaQVYsUUFDQUMsT0FBQSxrQkFDQWdRLFdBQUEsa0JBQUFILEdoQnlwQ0NBLEVBQWdCek8sU0FBVyxhQUFjLFNBQVUsU0FBVSxjQUFlLFdBQVksbUJpQm5xQ3pGLFdBRUEsWUFLQSxTQUFBNk8sR0FBQTNILEdBQ0FBLEVBQUFxRCxTQUpBNUwsUUFBQUMsT0FBQSxrQkFDQWdRLFdBQUEsbUJBQUFDLEdqQjJxQ0NBLEVBQWlCN08sU0FBVyxrQmtCM3FDN0IsV0FFQSxZQU1BLFNBQUE4TyxHQUFBbEksRUFBQUssRUFBQTFELEVBQUF2RSxFQUFBb0ksRUFBQTJILEVBQUE1SCxFQUFBd0UsRUFBQW1DLEVBQUFoUCxFQUFBK0IsRUFBQW1PLEdBY0EsUUFBQTNQLE1BU0EsUUFBQTRQLEtBQ0E3SCxFQUFBUSxHQUFBLGlCQUFBakcsR0FBQVosRUFBQXNMLEtBQUE0QixlQVFBLFFBQUFpQixLQUNBbk8sRUFBQW9PLFNBQUFDLFNBRUF0USxFQUFBMk0sV0FBQSxVQUdBRSxFQUNBdUQsS0FBQW5PLEVBQUFzTCxNQUNBTyxTQUNBOUYsS0FBQSxTQUFBMEMsR0FDQXpJLEVBQUFzTCxLQUFBN0MsRUFFQXpJLEVBQUFnQixvQkFFQTZFLEVBQUE1RSxTQUFBeUgsTUFBQTRGLGNBUkExRCxTQVVBLFNBQUFuQyxHQUNBekksRUFBQXdCLHFCQS9DQSxHQUFBeEIsR0FBQStJLElBRUEvSSxHQUFBa08sT0FBQUEsRUFDQWxPLEVBQUFtTyxLQUFBQSxFQUVBbk8sRUFBQXNMLEtBQUEyQyxFQUNBak8sRUFBQTJELE1BQUEsZUFFQXJGLElBZEFWLFFBQ0FDLE9BQUEsa0JBQ0FnUSxXQUFBLHFCQUFBRSxHbEIydUNDQSxFQUFtQjlPLFNBQVcsUUFBUyxLQUFNLFNBQVUsV0FBWSxTQUFVLGVBQWdCLFdBQVksT0FBUSxZQUFhLGNBQWUsaUJBQWtCLGVtQi91Q2hLLFdBRUEsWUFNQSxTQUFBc1AsR0FBQS9MLEVBQUF2RSxFQUFBb0ksRUFBQUQsRUFBQTJHLEVBQUE1RyxFQUFBcEksRUFBQStCLEdBY0EsUUFBQXhCLEtBQ0E2SCxFQUFBMkMsaUJBTUEsUUFBQW9GLEtBQ0E3SCxFQUFBUSxHQUFBLGNBTUEsUUFBQXNILEtBQ0FuTyxFQUFBd08sY0FBQUgsU0FFQXRRLEVBQUEyTSxXQUFBLGNBR0FxQyxFQUNBUyxPQUFBeE4sRUFBQWtDLFdBQ0EySixTQUNBOUYsS0FBQSxTQUFBMEMsR0FDQSxHQUFBeUUsR0FBQXpFLEVBQUE3SCxFQUdBd0YsR0FBQXVCLE1BQ0FDLE9BQUEsRUFDQUMsVUFBQSxxQ0FDQW5ELFNBQUEscU1BR0FxSCxhQUNBaEcsS0FBQSxTQUFBaUIsR0FFQVgsRUFBQVEsR0FBQSxpQkFBQWpHLEdBQUFzTSxRQWhCQUgsU0FtQkEsU0FBQXRFLEdBQ0F6SSxFQUFBd0IscUJBckRBLEdBQUF4QixHQUFBK0ksSUFFQS9JLEdBQUFrTyxPQUFBQSxFQUNBbE8sRUFBQW1PLEtBQUFBLEVBRUFuTyxFQUFBeU8sT0FBQSxFQUNBek8sRUFBQTBPLFlBQUEsZUFDQTFPLEVBQUFrQyxXQUFBeU0sT0FBQSxHQUVBclEsSUFkQVYsUUFDQUMsT0FBQSx1QkFDQWdRLFdBQUEsNEJBQUFVLEduQnN6Q0NBLEVBQTBCdFAsU0FBVyxTQUFVLFdBQVksU0FBVSxXQUFZLFlBQWEsY0FBZSxjQUFlLHFCb0I1ekM3SCxXQUVBLFlBTUEsU0FBQTJQLEdBQUFwTSxFQUFBMEQsRUFBQUwsRUFBQXFDLEVBQUE3QixFQUFBRCxFQUFBRCxFQUNBcEksRUFBQStCLEVBQUFpTixFQUFBcEMsRUFBQWtFLEVBQUFDLEVBQUFDLEdBNkJBLFFBQUF6USxLQUVBVixRQUFBb1IsU0FBQSxjQUFBLFVBQUEsTUFBQSxpQkFBQSxVQUFBLFNBQUEsU0FBQXhMLEdBQ0F4RCxFQUFBaVAsVUFBQW5KLElBQUF0QyxLQUNBeEQsRUFBQXdELEdBQUF4RCxFQUFBaVAsVUFBQW5KLElBQUF0QyxJQUVBaEIsRUFBQXJDLE9BQUEsUUFBQXFELEVBQUEsU0FBQW5ELEVBQUFDLEdBQ0EsbUJBQUFELElBQ0FMLEVBQUFpUCxVQUFBdEcsSUFBQW5GLEVBQUFuRCxPQVNBLFFBQUFnTCxHQUFBNkQsR0FDQXZFLEVBQUFVLFdBQUFyTCxFQUFBbVAsVUFBQUQsSUFNQSxRQUFBRSxHQUFBckUsR0FDQWxDLFNBQUFrQyxJQUNBQSxFQUFBL0ssRUFBQStCLGFBRUEvQixFQUFBcVAsZ0JBQUF0RSxDQUVBLElBQUFqRyxHQUFBb0IsRUFBQW1CLE9Bd0JBLE9BdEJBc0QsR0FDQUUsU0FDQTdLLEVBQUFrQyxVQUFBdEIsR0FDQW1LLEVBQ0EvSyxFQUFBZ0wsUUFDQWhMLEVBQUFpTCxRQUNBakwsRUFBQWtMLGVBQ0FsTCxFQUFBc1AsT0FFQXZKLEtBQUEsU0FBQTBDLEdBQ0EsR0FBQS9DLEdBQUErQyxFQUFBekIsSUFDQWhILEdBQUF1UCxNQUFBN0osRUFBQXNCLEtBQ0FoSCxFQUFBK0IsWUFBQTJELEVBQUE4SixhQUNBeFAsRUFBQWdDLFdBQUEwRCxFQUFBK0osVUFHQTNLLEVBQUFhLFFBQUE4QyxLQWhCQWtDLFNBa0JBLFNBQUFsQyxHQUVBM0QsRUFBQU8sT0FBQW9ELEtBRUEzRCxFQUFBNEMsUUFNQSxRQUFBd0csS0FDQTdILEVBQUFRLEdBQUEsY0FNQSxRQUFBc0ksR0FBQUQsR0FDQSxJQUFBLEdBQUE1RCxHQUFBb0UsRUFBQSxFQUFBcEUsRUFBQXRMLEVBQUF1UCxNQUFBRyxHQUFBQSxJQUNBLEdBQUFwRSxFQUFBMUssSUFBQXNPLEVBQUEsTUFBQTVELEVBRUEsUUFBQSxFQU1BLFFBQUFxRSxLQUNBM1AsRUFBQW9QLFdBQUFySixLQUFBLFNBQUEwQyxHQUVBekksRUFBQXFQLGdCQUFBNUcsRUFBQXpCLEtBQUF3SSxjQUNBeFAsRUFBQW9QLFNBQUEzRyxFQUFBekIsS0FBQXlJLGFBUUEsUUFBQXRCLEtBQ0FuTyxFQUFBd08sY0FBQUgsU0FFQXRRLEVBQUEyTSxXQUFBLFVBR0FxQyxFQUFBb0IsS0FBQW5PLEVBQUFrQyxXQUFBMkosU0FDQTlGLEtBQUEsU0FBQTBDLEdBRUF6SSxFQUFBa0MsVUFBQXVHLEVBR0F6SSxFQUFBZ0Isb0JBRUE2RSxFQUFBNUUsU0FBQXlILE1BQUE0RixjQVJBdkIsU0FVQSxTQUFBdEUsR0FFQXpJLEVBQUF3QixxQkFRQSxRQUFBb08sS0FDQSxHQUFBNVAsRUFBQStCLGFBQ0EvQixFQUFBb1AsU0FBQSxHQWhKQSxHQUFBcFAsR0FBQStJLElBRUEvSSxHQUFBcUwsV0FBQUEsRUFDQXJMLEVBQUFvUCxTQUFBQSxFQUNBcFAsRUFBQWtPLE9BQUFBLEVBQ0FsTyxFQUFBbVAsVUFBQUEsRUFDQW5QLEVBQUEyUCxhQUFBQSxFQUNBM1AsRUFBQW1PLEtBQUFBLEVBQ0FuTyxFQUFBNFAsaUJBQUFBLEVBRUE1UCxFQUFBK0IsWUFBQStNLEVBQUE5SCxLQUFBd0ksYUFDQXhQLEVBQUFpUCxVQUFBRixFQUNBL08sRUFBQXlPLE9BQUEsRUFDQXpPLEVBQUFxUCxnQkFBQSxFQUNBclAsRUFBQXVQLE1BQUFULEVBQUE5SCxLQUFBQSxLQUNBaEgsRUFBQWlMLFFBQUEsYUFDQWpMLEVBQUFrTCxlQUFBLElBQ0FsTCxFQUFBZ0wsUUFBQSxLQUNBaEwsRUFBQXNQLE1BQUEsR0FDQXRQLEVBQUEwTyxZQUFBLFVBQ0ExTyxFQUFBa0MsVUFBQTJNLEVBQ0E3TyxFQUFBZ0MsV0FBQThNLEVBQUE5SCxLQUFBeUksVUFFQW5SLElBOUJBVixRQUNBQyxPQUFBLHVCQUNBZ1EsV0FBQSwwQkFBQWUsR3BCKzlDQ0EsRUFBd0IzUCxTQUFXLFNBQVUsS0FBTSxRQUFTLGVBQWdCLFNBQVUsV0FBWSxjQUFlLGNBQWUsaUJBQWtCLFlBQWEsY0FBZSxlQUFnQixtQkFBb0Isd0JxQnIrQ25OLFdBRUEsWUFNQSxTQUFBNFEsR0FBQXJOLEVBQUEwRCxFQUFBakksRUFBQWlLLEVBQUE5QixFQUFBRCxFQUFBcEksRUFBQStCLEVBQUFnTixFQUFBbkMsRUFBQWtFLEVBQUFFLEdBMEJBLFFBQUF6USxLQUVBVixRQUFBb1IsU0FBQSxjQUFBLFVBQUEsaUJBQUEsVUFBQSxTQUFBLFNBQUFjLEdBQ0EsR0FBQUMsR0FBQS9QLEVBQUFpUCxVQUFBbkosSUFBQWdLLEVBQ0FqSCxVQUFBa0gsR0FBQSxPQUFBQSxJQUNBL1AsRUFBQThQLEdBQUFDLEdBRUF2TixFQUFBckMsT0FBQSxRQUFBMlAsRUFBQSxTQUFBelAsRUFBQUMsR0FDQSxtQkFBQUQsSUFDQUwsRUFBQWlQLFVBQUF0RyxJQUFBbUgsRUFBQXpQLE9BVUEsUUFBQWdMLEdBQUE2RCxHQUNBdkUsRUFBQVUsV0FBQXJMLEVBQUFtUCxVQUFBRCxJQU1BLFFBQUFsQyxHQUFBRSxHQUNBLEdBQUFoTCxHQUFBbEMsRUFBQWdRLGVBQUE5QyxFQUNBSixHQUFBRSxnQkFBQTlLLEdBTUEsUUFBQStOLEdBQUEvQyxHQUNBcEssT0FBQWtKLFNBQUFrRSxLQUFBLG1CQUFBaEQsRUFBQSxpQkFBQS9HLEVBQUFTLE1BQUFkLE1BTUEsUUFBQXNKLEdBQUFyRSxFQUFBN0ksR0FDQW5FLEVBQUFtTSxZQUNBckIsU0FBQTNHLEVBQ0FBLEVBQUFsQyxFQUFBbVEsa0JBR0FuUSxFQUFBbVEsa0JBQUFqTyxFQUVBakUsRUFBQSxXQUNBME0sRUFDQUUsU0FBQTNJLEVBQUF0QixHQUFBbUssRUFBQSxHQUFBLEtBQUEsR0FDQWhGLEtBQUEsU0FBQTBDLEdBQ0ExSyxFQUFBbU0sV0FBQSxFQUNBLElBQUF4RSxHQUFBK0MsRUFBQXpCLElBRUFoSCxHQUFBdVAsTUFBQTdKLEVBQUFzQixLQUNBaEgsRUFBQW9RLGdCQUFBMUssRUFBQThKLGFBQ0F4UCxFQUFBcVEsZUFBQTNLLEVBQUErSixZQVJBOUUsU0FVQSxTQUFBbEMsR0FDQXpJLEVBQUF3QixzQkFRQSxRQUFBOE8sR0FBQXZGLEdBQ0FsQyxTQUFBa0MsSUFDQUEsRUFBQS9LLEVBQUErQixhQUVBL0IsRUFBQXFQLGdCQUFBdEUsRUFFQWhOLEVBQUEyTSxXQUFBLGdCQUVBLElBQUE1RixHQUFBb0IsRUFBQW1CLE9Bc0JBLE9BcEJBeUYsR0FDQWpDLFNBQ0FFLEVBQ0EvSyxFQUFBZ0wsUUFDQWhMLEVBQUFpTCxRQUNBakwsRUFBQWtMLGVBQ0FsTCxFQUFBc1AsT0FFQXZKLEtBQUEsU0FBQTBDLEdBQ0EsR0FBQS9DLEdBQUErQyxFQUFBekIsSUFFQWhILEdBQUF1USxXQUFBN0ssRUFBQXNCLEtBQ0FoSCxFQUFBK0IsWUFBQTJELEVBQUE4SixhQUNBeFAsRUFBQWdDLFdBQUEwRCxFQUFBK0osVUFFQTNLLEVBQUFhLFFBQUE4QyxLQWZBcUUsU0FpQkEsU0FBQXJFLEdBQ0EzRCxFQUFBTyxPQUFBb0QsS0FFQTNELEVBQUE0QyxRQU1BLFFBQUF5SCxHQUFBRCxHQUNBLElBQUEsR0FBQTVELEdBQUFvRSxFQUFBLEVBQUFwRSxFQUFBdEwsRUFBQXVQLE1BQUFHLEdBQUFBLElBQ0EsR0FBQXBFLEVBQUExSyxJQUFBc08sRUFBQSxNQUFBNUQsRUFFQSxRQUFBLEVBTUEsUUFBQTBFLEdBQUE5QyxHQUNBLElBQUEsR0FBQWhMLEdBQUF3TixFQUFBLEVBQUF4TixFQUFBbEMsRUFBQXVRLFdBQUFiLEdBQUFBLElBQ0EsR0FBQXhOLEVBQUF0QixJQUFBc00sRUFBQSxNQUFBaEwsRUFFQSxRQUFBLEVBTUEsUUFBQXNPLEtBQ0F4USxFQUFBc1EsZ0JBQUF2SyxLQUFBLFNBQUEwQyxHQUVBekksRUFBQXFQLGdCQUFBNUcsRUFBQXpCLEtBQUF3SSxjQUNBeFAsRUFBQXNRLGNBQUE3SCxFQUFBekIsS0FBQXlJLGFBMUpBLEdBQUF6UCxHQUFBK0ksSUFFQS9JLEdBQUFnTixnQkFBQUEsRUFDQWhOLEVBQUFxTCxXQUFBQSxFQUNBckwsRUFBQWlRLGVBQUFBLEVBQ0FqUSxFQUFBb1AsU0FBQUEsRUFDQXBQLEVBQUFzUSxjQUFBQSxFQUNBdFEsRUFBQW1QLFVBQUFBLEVBQ0FuUCxFQUFBZ1EsZUFBQUEsRUFDQWhRLEVBQUF3USxrQkFBQUEsRUFFQXhRLEVBQUErQixZQUFBOE0sRUFBQTdILEtBQUF3SSxhQUNBeFAsRUFBQWlQLFVBQUFGLEVBQ0EvTyxFQUFBcVAsZ0JBQUEsRUFDQXJQLEVBQUFpTCxRQUFBLGFBQ0FqTCxFQUFBa0wsZUFBQSxJQUNBbEwsRUFBQWdMLFFBQUEsS0FDQWhMLEVBQUFzUCxNQUFBLEdBQ0F0UCxFQUFBZ0MsV0FBQTZNLEVBQUE3SCxLQUFBeUksVUFDQXpQLEVBQUF1USxXQUFBMUIsRUFBQTdILEtBQUFBLEtBRUExSSxJQTFCQVYsUUFDQUMsT0FBQSx1QkFDQWdRLFdBQUEsMEJBQUFnQyxHckJpcERDQSxFQUF3QjVRLFNBQVcsU0FBVSxLQUFNLFdBQVksZUFBZ0IsV0FBWSxjQUFlLGNBQWUsaUJBQWtCLG1CQUFvQixjQUFlLGVBQWdCLHdCc0I5cEQvTCxXQUVBLFlBRUFyQixTQUFBQyxPQUFBLFlBRUEsWUFDQSxjQUNBLGdCQUNBLGtCQUNBLFlBQ0EsV0FDQSxhQUNBLCtCQUNBLGlCQUdBLGdCQUNBLHlCQUNBLHFCQUNBLGdCQUNBLG9CQUNBLGlCQUNBLHFCQUNBLG1CQUNBLHFCQUdBLGlCQUNBLHNCQUNBLG1CQUVBNkMsUUFBQSxpQkFBQSxxQkFBQSxnQkFBQSwyQkFBQSxTQUFBK1AsRUFBQUMsRUFBQTNJLEVBQUE0SSxHQUNBQSxFQUFBdEUsYUFBQSxhQUNBMUksTUFBQSw4RkFDQTZJLE9BQ0FvRSxNQUNBcEssSUFBQSxtQ0FDQTdDLE1BQUEsUUFFQThKLFVBQ0FkLE1BQUEscUNBQ0FoSixNQUFBLFVBRUFrTixRQUNBbEUsTUFBQSxvQ0FDQWhKLE1BQUEsZUFDQWxGLEtBQUEsK0JBSUFrUyxFQUFBdEUsYUFBQSxRQUNBMUksTUFBQSw2R0FDQTZJLE9BQ0FvRSxNQUNBcEssSUFBQSx5QkFDQTdDLE1BQUEsUUFFQThKLFVBQ0FkLE1BQUEsMkJBQ0FoSixNQUFBLGFBS0FvRSxFQUFBK0ksNEJBQUEsRUFFQUosRUFBQUssVUFBQSxTQUVBTixFQUNBTyxNQUFBLFFBQ0F4SyxJQUFBLFFBQ0E5QixTQUFBLE9BQ0FtSixXQUFBLG9DQUVBbUQsTUFBQSxRQUNBeEssSUFBQSxRQUNBMUgsWUFBQSwwQkFDQStPLFdBQUEsNEJBRUFtRCxNQUFBLFVBQ0F4SyxJQUFBLFVBQ0E5QixTQUFBLEdBQ0FtSixXQUFBLDZCQUVBbUQsTUFBQSxjQUNBeEssSUFBQSxjQUNBMUgsWUFBQSxrQ0FDQStPLFdBQUEsa0NBQ0FsSSxTQUNBa0osY0FBQSxtQkFBQSxlQUFBLFNBQUEvQixFQUFBNUUsR0FDQUEsRUFBQXBDLElBQUEsY0FDQSxHQUFBb0MsR0FBQSxhQUNBQyxPQUFBLEtBQ0FDLGVBQUEsYUFDQUMsWUFBQSxnQkFHQSxJQUFBSyxHQUFBUixFQUFBcEMsSUFBQSxZQUNBLE9BQUFnSCxHQUFBakMsU0FBQW5DLEVBQUE1QyxJQUFBLGVBQUE0QyxFQUFBNUMsSUFBQSxXQUFBNEMsRUFBQTVDLElBQUEsV0FBQTRDLEVBQUE1QyxJQUFBLGtCQUFBNEMsRUFBQTVDLElBQUEsWUFFQWlKLG1CQUFBLGVBQUEsU0FBQTdHLEdBQ0EsTUFBQUEsR0FBQXBDLElBQUEsa0JBSUFrTCxNQUFBLGlCQUNBeEssSUFBQSx1QkFDQTFILFlBQUEsOEJBQ0ErTyxXQUFBLGtDQUNBbEksU0FDQWtKLGNBQUEsWUFBQSxlQUFBLFNBQUE5QixFQUFBaUIsR0FDQSxNQUFBakIsR0FBQWpILEtBQUFsRixHQUFBb04sRUFBQXBOLEtBQUFpTCxXQUVBaUQsa0JBQUEsY0FBQSxlQUFBLGVBQUEsU0FBQW5FLEVBQUFxRCxFQUFBOUYsR0FDQSxHQUFBK0ksR0FBQSxZQUFBakQsRUFBQXBOLEdBQUEsV0FDQXNILEdBQUFwQyxJQUFBbUwsSUFDQSxHQUFBL0ksR0FBQStJLEdBQ0E5SSxPQUFBLEtBQ0FDLGVBQUEsYUFDQUMsWUFBQSxnQkFHQSxJQUFBSyxHQUFBUixFQUFBcEMsSUFBQW1MLEVBQ0EsT0FBQXRHLEdBQUFFLFNBQUFtRCxFQUFBcE4sR0FBQThILEVBQUE1QyxJQUFBLGVBQUE0QyxFQUFBNUMsSUFBQSxXQUFBNEMsRUFBQTVDLElBQUEsV0FBQTRDLEVBQUE1QyxJQUFBLGtCQUFBNEMsRUFBQTVDLElBQUEsWUFFQWlKLG1CQUFBLGVBQUEsZUFBQSxTQUFBN0csRUFBQThGLEdBQ0EsR0FBQWlELEdBQUEsWUFBQWpELEVBQUFwTixHQUFBLFdBQ0EsT0FBQXNILEdBQUFwQyxJQUFBbUwsUUFJQUQsTUFBQSxtQkFDQXhLLElBQUEscUJBQ0ExSCxZQUFBLDhCQUNBK08sV0FBQSxzQ0FFQW1ELE1BQUEsWUFDQXhLLElBQUEsa0JBQ0ExSCxZQUFBLHlCQUNBK08sV0FBQSw2QkFDQWxJLFNBQ0FzSSxVQUFBLE9BQUEsZUFBQSxTQUFBckQsRUFBQW9ELEdBQ0EsTUFBQXBELEdBQUE5RSxLQUFBbEYsR0FBQW9OLEVBQUFwTixLQUFBaUwsaUJBS0FxRixLQUFBLFFBQUEsZUFBQSxTQUFBckwsRUFBQXFDLEdBQ0FBLEVBQUFwQyxJQUFBLGlCQUNBLEdBQUFvQyxHQUFBLGdCQUNBQyxPQUFBLElBQ0FnSixtQkFBQSxLQUNBL0ksZUFBQSxlQUlBdkMsRUFBQTVFLFNBQUF5SCxNQUFBUixFQUFBcEMsSUFBQSxtQkFFQXFGLE9BQUEsVUFBQSxPQUFBLFNBQUFpRyxHQUNBLE1BQUEsVUFBQXJCLEdBQ0EsTUFBQXFCLEdBQUFDLFlBQUF0QiIsImZpbGUiOiJwdWJsaWMvanMvYXBwLmJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmF1dGgnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmJ1c3lJbmRpY2F0b3InLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuY2xpY2thYmxlJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmxlYWQnLCBbJ25nUmVzb3VyY2UnXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwubWVzc2FnZXMnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnBhZ2VyJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5zbGlkZU1lbnUnLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnRpbWVhZ28nLCBbXSk7XG59KSgpOyIsIihmdW5jdGlvbigpIHtcblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvdycsIFsnbmdSZXNvdXJjZSddKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5sZWFkcycsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5sb2dpbicsIFtdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC50cmFkZXNob3dzJywgW10pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2J1c3lJbmRpY2F0b3InLCBidXN5SW5kaWNhdG9yRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGJ1c3lJbmRpY2F0b3JEaXJlY3RpdmUoYnVzeVNlcnZpY2UsICRyb290U2NvcGUsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBpc0FwcEJ1c3kgICAgICAgPSBmYWxzZSxcbiAgICAgICAgICAgIGlzU3RhdGVMb2FkaW5nICA9IHRydWU7XG5cbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL2J1c3lJbmRpY2F0b3JWaWV3Lmh0bWwnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbms6IGJ1c3lJbmRpY2F0b3JEaXJlY3RpdmVMaW5rXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICAvLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBidXN5SW5kaWNhdG9yRGlyZWN0aXZlTGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuaXNCdXN5ID0gaXNCdXN5O1xuXG4gICAgICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICAvLy8vLy8vLy9cblxuICAgICAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLnJlc2V0TWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVzeVNlcnZpY2UuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0J1c3koKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1c3lTZXJ2aWNlLmlzQnVzeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsbnVsbCwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLmNsaWNrYWJsZScpXG4gICAgICAgIC5kaXJlY3RpdmUoXCJjbGlja2FibGVcIiwgY2xpY2thYmxlRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIGNsaWNrYWJsZURpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RpY3Q6ICdBJyxcblxuICAgICAgICAgICAgbGluazogY2xpY2thYmxlRGlyZWN0aXZlTGlua1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgLy8vLy8vLy8vXG4gICAgXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrYWJsZURpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKFwiY2xpY2thYmxlXCIpO1xuICAgICAgICAgICAgZWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9QaGFudG9tSlMvZykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwubWVzc2FnZXMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdtZXNzYWdlcycsIG1lc3NhZ2VzRGlyZWN0aXZlKTtcblxuICAgIGZ1bmN0aW9uIG1lc3NhZ2VzRGlyZWN0aXZlKG1lc3NhZ2VTZXJ2aWNlLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9tZXNzYWdlc1ZpZXcuaHRtbCcsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogbWVzc2FnZXNEaXJlY3RpdmVMaW5rXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAgICAvLy8vLy8vLy9cbiAgICBcbiAgICAgICAgZnVuY3Rpb24gbWVzc2FnZXNEaXJlY3RpdmVMaW5rKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgdmFyIHZtID0gc2NvcGUuaGFzT3duUHJvcGVydHkoJ2N0cmwnKSA/IHNjb3BlLmN0cmwgOiBzY29wZTtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lc3NhZ2VTZXJ2aWNlLmdldE1lc3NhZ2VzKCk7IH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0ubWVzc2FnZXMgPSBuZXdWYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVNlcnZpY2UucHVyZ2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2bS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gYWRkTWVzc2FnZShjb25maWcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBtZXNzYWdlU2VydmljZS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIubWVzc2FnZXMgLmFsZXJ0W21lc3NhZ2UtaWQ9XCIrY29uZmlnLmlkK1wiXVwiKS5hZGRDbGFzcyhcImluXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdm0ucmVtb3ZlTWVzc2FnZSA9IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UoaWQpIHtcbiAgICAgICAgICAgICAgICAkKFwiLm1lc3NhZ2VzIC5hbGVydFttZXNzYWdlLWlkPVwiK2lkK1wiXVwiKS5vbihcInRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZS5yZW1vdmVNZXNzYWdlKGlkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLmFkZFN1Y2Nlc3NNZXNzYWdlID0gZnVuY3Rpb24gYWRkU3VjY2Vzc01lc3NhZ2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnb2snLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogJ2ljb24tbWVkaXVtJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VyIGNoYW5nZXMgaGF2ZSBiZWVuIHNhdmVkJ1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25maWcgPSAkLmV4dGVuZChkZWZhdWx0cywgY29uZmlnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2bS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5hZGRFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdleGNsYW1hdGlvbi1zaWduJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiAnaWNvbi1tZWRpdW0nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy5cIlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25maWcgPSAkLmV4dGVuZChkZWZhdWx0cywgY29uZmlnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB2bS5hZGRNZXNzYWdlKGNvbmZpZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5wdXJnZU1lc3NhZ2VzID0gZnVuY3Rpb24gcHVyZ2VNZXNzYWdlcygpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2VydmljZS5wdXJnZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5wYWdlcicpXG4gICAgLmRpcmVjdGl2ZSgncGFnZXInLCBwYWdlckRpcmVjdGl2ZSk7XG5cbiAgZnVuY3Rpb24gcGFnZXJEaXJlY3RpdmUoKSB7XG4gICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgY3VycmVudFBhZ2U6ICc9JyxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiAnPScsXG4gICAgICAgICAgZ2V0UmVzdWx0czogJyZnZXRSZXN1bHRzJyxcbiAgICAgICAgICB0cmFkZXNob3c6ICc9J1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3BhZ2VyVmlldy5odG1sJyxcbiAgICAgICAgbGluazogcGFnZXJEaXJlY3RpdmVMaW5rXG4gICAgIH07XG5cbiAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgICAvLy8vLy8vLy9cbiAgIFxuICAgICBmdW5jdGlvbiBwYWdlckRpcmVjdGl2ZUxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLmdldFJhbmdlID0gZnVuY3Rpb24obnVtKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShudW0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ3RzcG9ydGFsLnNsaWRlTWVudScpXG5cdFx0LmRpcmVjdGl2ZSgnc2xpZGVNZW51Jywgc2xpZGVNZW51RGlyZWN0aXZlKTtcblxuXHRmdW5jdGlvbiBzbGlkZU1lbnVEaXJlY3RpdmUoJHRpbWVvdXQsICRyb290U2NvcGUsIHNsaWRlTWVudVNlcnZpY2UsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0XHR0cmFuc2NsdWRlOiB0cnVlLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICcuLi92aWV3cy9zbGlkZU1lbnVWaWV3Lmh0bWwnLFxuXHRcdFx0bGluazogc2xpZGVNZW51RGlyZWN0aXZlTGlua1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0Ly8vLy8vLy9cblx0XHRcblx0XHRmdW5jdGlvbiBzbGlkZU1lbnVEaXJlY3RpdmVMaW5rKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcblx0XHRcdHZhciBzbGlkZU1lbnU7XG5cblx0XHRcdCRzY29wZS5vcGVuTWVudSA9IG9wZW5NZW51O1xuXHRcdFx0JHNjb3BlLmNsb3NlTWVudSA9IGNsb3NlTWVudTtcblx0XHRcdCRzY29wZS5zZXRBbGlnbm1lbnQgPSBzZXRBbGlnbm1lbnQ7XG5cblx0XHRcdGFjdGl2YXRlKCk7XG5cblx0XHRcdC8vLy8vLy8vL1xuXHRcdFx0XG5cdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdFx0c2xpZGVNZW51ID0ge1xuXHRcdFx0XHRcdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZWxlbS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXRBbGlnbm1lbnQ6IGZ1bmN0aW9uKHBvcykge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmFsaWdubWVudCA9IHBvcztcblx0XHRcdFx0XHRcdGVsZW0uYXR0cignYWxpZ25tZW50JywgcG9zKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0JHNjb3BlLmFsaWdubWVudCA9ICRzY29wZS5hbGlnbm1lbnQgfHwgKHdpbmRvdy5vdXRlcldpZHRoIDw9IDc2OCA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIpO1xuXG5cdFx0XHRcdCRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNsaWRlTWVudS5oaWRlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkZG9jdW1lbnQuYmluZCgna2V5dXAnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdCAgICAgaWYgKGUud2hpY2ggPT09IDI3KSB7XG5cdFx0XHRcdCAgIFx0XHRzbGlkZU1lbnUuaGlkZSgpOyAgXHRcblx0XHRcdFx0ICAgICB9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XG5cdFx0XHRcdHNsaWRlTWVudS5oaWRlKCk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIG9wZW5NZW51KG1lbnVOYW1lLCBvYmpNYXApIHtcblx0XHRcdFx0aWYgKHNsaWRlTWVudVNlcnZpY2UubWVudXMgJiYgc2xpZGVNZW51U2VydmljZS5tZW51cy5oYXNPd25Qcm9wZXJ0eShtZW51TmFtZSkpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gb2JqTWFwKSB7XG5cdFx0XHRcdFx0XHQkc2NvcGVba2V5XSA9IG9iak1hcFtrZXldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgbWVudSA9IHNsaWRlTWVudVNlcnZpY2UubWVudXNbbWVudU5hbWVdO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBjb21waWxlZFRpdGxlID0gJGNvbXBpbGUoJzxoNSBjbGFzcz1cInNsaWRlLW1lbnUtdGl0bGVcIj4nICsgbWVudS50aXRsZSArICc8L2g1PicpKCRzY29wZSk7XG5cblx0XHRcdFx0XHRlbGVtLmZpbmQoJ2g1JykucmVwbGFjZVdpdGgoY29tcGlsZWRUaXRsZSk7XG5cblx0XHRcdFx0XHR2YXIgYnVpbHQgPSBzbGlkZU1lbnVTZXJ2aWNlLmJ1aWxkTWVudShtZW51KTtcblx0XHRcdFx0XHR2YXIgY29tcGlsZWQgPSAkY29tcGlsZShidWlsdCkoJHNjb3BlKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGVsZW0uZmluZCgnLnNsaWRlLW1lbnUtY29udGVudCcpLmh0bWwoY29tcGlsZWQpO1xuXHRcdFx0XHRcdFx0c2xpZGVNZW51LnNob3coKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBzZXRBbGlnbm1lbnQocG9zKSB7XG5cdFx0XHRcdHNsaWRlTWVudS5zZXRBbGlnbm1lbnQocG9zKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwudGltZWFnbycpXG4gICAgICAgIC5kaXJlY3RpdmUoXCJ0aW1lYWdvXCIsIHRpbWVhZ29EaXJlY3RpdmUpO1xuXG4gICAgZnVuY3Rpb24gdGltZWFnb0RpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHRpbWU6ICc9JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwidGltZS1hZ29cIj57e2dldFRpbWVBZ28odGltZSl9fTwvc3Bhbj4nLFxuICAgICAgICAgICAgbGluazogdGltZWFnb0RpcmVjdGl2ZUxpbmtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIC8vLy8vLy8vL1xuICAgIFxuICAgICAgICBmdW5jdGlvbiB0aW1lYWdvRGlyZWN0aXZlTGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLmdldFRpbWVBZ28gPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudCh0aW1lLCBtb21lbnQuSVNPXzg2MDEpLmZyb21Ob3coKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9ICAgIFxufSkoKTtcbiIsIi8qKlxuICogQXV0aCBJbnRlcmNlcHRvclxuICogXHRAY3JlZGl0IDogbGFyZ2VseSBtb2RpZmllZCBmcm9tIGh0dHAtYXV0aC1pbnRlcmNlcHRvciBwYWNrYWdlXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwuYXV0aCcpXG5cdFx0LmZhY3RvcnkoJ2h0dHBCdWZmZXInLCBodHRwQnVmZmVyKVxuXHRcdC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuXHRcdFx0JGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChhdXRoSW50ZXJjZXB0b3IpO1xuXHRcdH0pO1xuXG5cdGZ1bmN0aW9uIGh0dHBCdWZmZXIoJGluamVjdG9yKSB7XG5cdFx0dmFyIGJ1ZmZlciA9IFtdLCAkaHR0cDtcblxuXHRcdHZhciBzZXJ2aWNlID0ge1xuXHRcdFx0YXBwZW5kOiBhcHBlbmQsXG5cdFx0XHRyZWplY3RBbGw6IHJlamVjdEFsbCxcblx0XHRcdHJldHJ5QWxsOiByZXRyeUFsbCxcblx0XHRcdHJldHJ5SHR0cFJlcXVlc3Q6IHJldHJ5SHR0cFJlcXVlc3Rcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHNlcnZpY2U7XG5cblx0XHQvKipcblx0XHQgKiBBcHBlbmRzIEhUVFAgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGRlZmVycmVkIHJlc3BvbnNlIGF0dGFjaGVkIHRvIGJ1ZmZlci5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhcHBlbmQoY29uZmlnLCBkZWZlcnJlZCkge1xuXHRcdFx0YnVmZmVyLnB1c2goe1xuXHRcdFx0ICBjb25maWc6IGNvbmZpZyxcblx0XHRcdCAgZGVmZXJyZWQ6IGRlZmVycmVkXG5cdFx0XHR9KTtcblx0ICBcdH1cblxuXHQgIFx0LyoqXG5cdCAgXHQgKiBBYmFuZG9uIG9yIHJlamVjdCAoaWYgcmVhc29uIHByb3ZpZGVkKSBhbGwgdGhlIGJ1ZmZlcmVkIHJlcXVlc3RzLlxuXHQgIFx0ICovXG5cdCAgXHRmdW5jdGlvbiByZWplY3RBbGwocmVhc29uKSB7XG5cdCAgXHQgIGlmIChyZWFzb24pIHtcblx0ICBcdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7ICsraSkge1xuXHQgIFx0ICAgICAgYnVmZmVyW2ldLmRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuXHQgIFx0ICAgIH1cblx0ICBcdCAgfVxuXHQgIFx0ICBidWZmZXIgPSBbXTtcblx0ICBcdH1cblxuXHQgIFx0LyoqXG5cdCAgXHQgKiBSZXRyaWVzIGFsbCB0aGUgYnVmZmVyZWQgcmVxdWVzdHMgY2xlYXJzIHRoZSBidWZmZXIuXG5cdCAgXHQgKi9cblx0XHRmdW5jdGlvbiByZXRyeUFsbCh1cGRhdGVyKSB7XG5cdFx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgKytpKSB7XG5cdFx0ICAgICAgcmV0cnlIdHRwUmVxdWVzdCh1cGRhdGVyKGJ1ZmZlcltpXS5jb25maWcpLCBidWZmZXJbaV0uZGVmZXJyZWQpO1xuXHRcdCAgXHR9XG5cdCAgICBcdGJ1ZmZlciA9IFtdO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJldHJ5IG9uZSBIVFRQIHJlcXVlc3Rcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZXRyeUh0dHBSZXF1ZXN0KGNvbmZpZywgZGVmZXJyZWQpIHtcblx0XHQgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdCAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcblx0XHQgIH1cblx0XHQgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHQgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlKTtcblx0XHQgIH1cblx0XHQgICRodHRwID0gJGh0dHAgfHwgJGluamVjdG9yLmdldCgnJGh0dHAnKTtcblx0XHQgICRodHRwKGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGF1dGhJbnRlcmNlcHRvciAoJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSwgaHR0cEJ1ZmZlcikge1xuXHRcdC8vIFdpbGwgZ2V0IHJlc29sdmVkIGxhdGVyIHVzaW5nICRpbmplY3RvciB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5IGlzc3Vlc1xuXHRcdHZhciBhdXRoU2VydmljZSwgbmdEaWFsb2csICRzdGF0ZTtcblx0XHR2YXIgYXBpUGF0dGVybiA9IC9cXC97MCwxfWFwaVxcL1thLXpBLVpcXC8wLTlcXD9cXD1cXCZcXCVcXCtcXC1cXF9dKi9nO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuXHRcdFx0XHRhdXRoU2VydmljZSA9IGF1dGhTZXJ2aWNlIHx8ICRpbmplY3Rvci5nZXQoJ2F1dGhTZXJ2aWNlJyk7XG5cblx0XHRcdFx0Ly8gQXBwZW5kIHRoZSB0b2tlbiB0byBhbnkgcmVxdWVzdCB0aGF0IGlzbid0IHRvIGxvZ2luIFVSTCBvciBkb2Vzbid0IGhhdmUgYSB0b2tlbiBzZXRcblx0XHRcdFx0aWYgKGNvbmZpZy51cmwubWF0Y2goYXBpUGF0dGVybikgJiYgY29uZmlnLnVybCAhPSAnL2FwaS9hdXRoZW50aWNhdGUnICYmICFjb25maWcuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eSgnQXV0aG9yaXphdGlvbicpKSB7XG5cdFx0XHRcdFx0aWYgKGF1dGhTZXJ2aWNlLmhhc1Rva2VuKCkpIHtcblx0XHRcdFx0XHRcdGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyBhdXRoU2VydmljZS50b2tlbi5nZXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHQkc3RhdGUgPSAkc3RhdGUgfHwgJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGgnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29uZmlnO1xuXHRcdFx0fSxcblx0XHRcdHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHR2YXIgY29uZmlnIFx0ID0gcmVzcG9uc2UuY29uZmlnO1xuXG5cdFx0XHRcdC8vIEludGVyY2VwdCBhbmQgc25hdGNoIGEgc3VjY2Vzc2Z1bCB0b2tlbiBmcm9tIHRoZSBIVFRQIHJlc3BvbnNlXG5cdFx0XHRcdGlmIChjb25maWcudXJsID09ICcvYXBpL2F1dGhlbnRpY2F0ZScgJiYgY29uZmlnLm1ldGhvZCA9PSBcIlBPU1RcIiAmJiByZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XG5cdFx0XHRcdFx0YXV0aFNlcnZpY2UgPSBhdXRoU2VydmljZSB8fCAkaW5qZWN0b3IuZ2V0KCdhdXRoU2VydmljZScpO1xuXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ3Rva2VuJykpIHtcblx0XHRcdFx0XHRcdGF1dGhTZXJ2aWNlLnRva2VuLnNldChyZXNwb25zZS5kYXRhLnRva2VuKTtcblx0XHRcdFx0XHRcdGF1dGhTZXJ2aWNlLmxvZ2luQ29uZmlybWVkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYnVzeVNlcnZpY2UuaGlkZSgpO1xuXG5cdFx0XHRcdHJldHVybiByZXNwb25zZTtcblx0XHRcdH0sXG5cdFx0XHRyZXNwb25zZUVycm9yOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcblx0XHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuXHRcdFx0XHRhdXRoU2VydmljZSA9IGF1dGhTZXJ2aWNlIHx8ICRpbmplY3Rvci5nZXQoJ2F1dGhTZXJ2aWNlJyk7XG5cdFx0XHRcdCRzdGF0ZSBcdFx0ID0gJHN0YXRlIHx8ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuXG5cdFx0XHRcdHN3aXRjaCAocmVqZWN0aW9uLnN0YXR1cykge1xuXHRcdFx0XHRcdGNhc2UgNDAwOlxuXHRcdFx0XHRcdFx0YXV0aFNlcnZpY2UubG9naW5DYW5jZWxsZWQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDQwMTpcblx0XHRcdFx0XHRcdC8vIElmIHRva2VuIGlzIGV4cGlyZWQsIHJlZnJlc2ggaXRcblx0XHRcdFx0XHRcdGlmIChyZWplY3Rpb24uZGF0YS5oYXNPd25Qcm9wZXJ0eSgnZXJyb3InKSAmJiByZWplY3Rpb24uZGF0YS5lcnJvciA9PSAndG9rZW5fZXhwaXJlZCcpIHtcblx0XHRcdFx0XHQgICAgXHRodHRwQnVmZmVyLmFwcGVuZChyZWplY3Rpb24uY29uZmlnLCBkZWZlcnJlZCk7XG5cdFx0XHRcdFx0ICAgIFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDphdXRoLWxvZ2luLXJlcXVpcmVkJywgcmVqZWN0aW9uKTtcblx0XHRcdFx0XHQgICAgXHRpZiAoYXV0aFNlcnZpY2UuaGFzVG9rZW4oKSkge1xuXHRcdFx0XHRcdFx0ICAgIFx0YXV0aFNlcnZpY2UucmVmcmVzaCgpO1xuXHRcdFx0XHRcdCAgICBcdH1cblx0XHRcdFx0XHQgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0ICAgIGJyZWFrO1xuXHRcdFx0XHQgICAgY2FzZSA0MDM6XG5cdFx0XHRcdCAgICBcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6YXV0aC1mb3JiaWRkZW4nLCByZWplY3Rpb24pO1xuXHRcdFx0XHQgICAgXHRhdXRoU2VydmljZS5sb2dpbkNhbmNlbGxlZCgpO1xuXHRcdFx0XHQgICAgYnJlYWs7XG5cdFx0XHRcdCAgICBjYXNlIDUwMDpcblx0XHRcdFx0ICAgIFx0bmdEaWFsb2cgPSBuZ0RpYWxvZyB8fCAkaW5qZWN0b3IuZ2V0KCduZ0RpYWxvZycpO1xuXHRcdFx0XHQgICAgXHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0ICAgIFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0ICAgIFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctc2F2ZSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0ICAgIFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gIFRyeSBhZ2FpbiBsYXRlci48L3NwYW4+J1xuXHRcdFx0XHQgICAgXHR9KTtcblx0XHRcdCAgICAgIFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVqZWN0aW9uKTtcblxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicpXG4gICAgICAgIC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuICAgICAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChidXN5U2VydmljZUludGVyY2VwdG9yKTtcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBidXN5U2VydmljZUludGVyY2VwdG9yKGJ1c3lTZXJ2aWNlLCAkcSkge1xuXG4gICAgICAgIHZhciBhcGlQYXR0ZXJuID0gL1xcL3swLDF9YXBpXFwvW2EtekEtWlxcLzAtOVxcP1xcPVxcJlxcJVxcK1xcLVxcX10qL2c7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcudXJsLm1hdGNoKGFwaVBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1c3lTZXJ2aWNlLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29uZmlnLnVybC5tYXRjaChhcGlQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgICAgICBidXN5U2VydmljZS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZUVycm9yOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAocmVqZWN0aW9uLmNvbmZpZy51cmwubWF0Y2goYXBpUGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVzeVNlcnZpY2UuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSkoKTsiLCIvKipcbiAqIExvZ2luIFNlcnZpY2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC5hdXRoJylcblx0XHQuZmFjdG9yeSgnYXV0aFNlcnZpY2UnLCBhdXRoU2VydmljZSk7XG5cblx0ZnVuY3Rpb24gYXV0aFNlcnZpY2UoJHN0YXRlLCAkcm9vdFNjb3BlLCAkcSwgQ2FjaGVGYWN0b3J5LCAkaHR0cCwgaHR0cEJ1ZmZlciwgJGluamVjdG9yKSB7XG5cdFx0dmFyIGNhY2hlO1xuXG5cdFx0dmFyIHNlcnZpY2UgPSB7XG5cdFx0XHRjaGVja0FwaUFjY2VzczogY2hlY2tBcGlBY2Nlc3MsXG5cdFx0XHRoYXNUb2tlbjogaGFzVG9rZW4sXG5cdFx0XHRpc1ZhbGlkRW1haWw6IGlzVmFsaWRFbWFpbCxcblx0XHRcdGxvZ2luOiBsb2dpbixcblx0XHRcdGxvZ2luQ2FuY2VsbGVkOiBsb2dpbkNhbmNlbGxlZCxcblx0XHRcdGxvZ2luQ29uZmlybWVkOiBsb2dpbkNvbmZpcm1lZCxcblx0XHRcdGxvZ291dDogbG9nb3V0LFxuXHRcdFx0cmVmcmVzaDogcmVmcmVzaCxcblx0XHRcdHRva2VuOiB7XG5cdFx0XHRcdGdldDogdG9rZW5HZXQsXG5cdFx0XHRcdHNldDogdG9rZW5TZXQsXG5cdFx0XHRcdHJlbW92ZTogdG9rZW5SZW1vdmVcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0YWN0aXZhdGUoKTtcblxuXHRcdHJldHVybiBzZXJ2aWNlO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdGlmICghQ2FjaGVGYWN0b3J5LmdldCgnYXV0aENhY2hlJykpIHtcblx0XHRcdFx0bmV3IENhY2hlRmFjdG9yeSgnYXV0aENhY2hlJywge1xuXHRcdFx0XHRcdG1heEFnZTogNjAgKiA1OSAqIDEwMDAsXG5cdFx0XHRcdFx0ZGVsZXRlT25FeHBpcmU6ICdhZ2dyZXNzaXZlJyxcblx0XHRcdFx0XHRzdG9yYWdlTW9kZTogJ2xvY2FsU3RvcmFnZScsXG5cdFx0XHRcdFx0b25FeHBpcmU6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdHZhciBzdmMgPSAkaW5qZWN0b3IuZ2V0KCdhdXRoU2VydmljZScpO1xuXHRcdFx0XHRcdFx0c3ZjLnJlZnJlc2godmFsdWUpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0XHRjYWNoZS5wdXQoa2V5LCBwYXlsb2FkLmRhdGEudG9rZW4pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldCgnYXV0aENhY2hlJyk7XG5cblx0XHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IGNhY2hlLmdldCgndG9rZW4nKSAhPT0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNoZWNrQXBpQWNjZXNzKCkge1xuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblx0XHRcdGlmICh0aGlzLmhhc1Rva2VuKCkpIHtcblx0XHRcdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gdHJ1ZTtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHRoaXMubG9naW5DYW5jZWxsZWQoKTtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYXNUb2tlbigpIHtcblx0XHRcdHZhciB0ID0gdGhpcy50b2tlbi5nZXQoKTtcblx0XHRcdHJldHVybiB0ICE9PSB1bmRlZmluZWQgJiYgdCAhPT0gbnVsbDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWwpIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG5cdFx0ICAgIHJldHVybiBwYXR0ZXJuLnRlc3QoZW1haWwpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0XHQkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGNyZWRlbnRpYWxzLCB7Y2FjaGU6IGZhbHNlfSlcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHBheWxvYWQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGxvZ2luQ2FuY2VsbGVkKGRhdGEscmVhc29uKSB7XG5cdFx0XHRodHRwQnVmZmVyLnJlamVjdEFsbChyZWFzb24pO1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDphdXRoLWxvZ2luLWNhbmNlbGxlZCcsIGRhdGEpO1xuXHRcdFx0dGhpcy5sb2dvdXQoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsb2dpbkNvbmZpcm1lZChkYXRhLCBjb25maWdVcGRhdGVyKSB7XG5cdFx0XHR2YXIgdXBkYXRlciA9IGNvbmZpZ1VwZGF0ZXIgfHwgZnVuY3Rpb24oY29uZmlnKSB7cmV0dXJuIGNvbmZpZzt9O1xuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDphdXRoLWxvZ2dlZC1pbicsIGRhdGEpO1xuXHRcdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gdHJ1ZTtcblx0XHRcdGh0dHBCdWZmZXIucmV0cnlBbGwodXBkYXRlcik7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbG9nb3V0KCkge1xuXHRcdFx0dGhpcy50b2tlbi5yZW1vdmUoKTtcblx0XHRcdCRzdGF0ZS5nbygnYXV0aCcpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlZnJlc2godG9rZW5TdHJpbmcpIHtcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG5cdFx0XHRcdHRoYXQgXHQ9IHRoaXMsXG5cdFx0XHRcdGNvbmZpZyBcdD0ge2NhY2hlOiBmYWxzZSwgaGVhZGVyczoge319O1xuXG5cdFx0XHRpZiAodHlwZW9mIHRva2VuU3RyaW5nICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIiArIHRva2VuU3RyaW5nO1xuXHRcdFx0fVxuXG5cdFx0XHQkaHR0cC5nZXQoJ2FwaS9hdXRoZW50aWNhdGUvcmVmcmVzaCcsIGNvbmZpZylcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0dGhhdC50b2tlbi5zZXQocGF5bG9hZC5kYXRhLnRva2VuKTtcblx0XHRcdFx0dGhhdC5sb2dpbkNvbmZpcm1lZCgpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHBheWxvYWQpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdHRoYXQubG9naW5DYW5jZWxsZWQoKTtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHBheWxvYWQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB0b2tlbkdldCgpIHtcblx0XHRcdHJldHVybiBjYWNoZS5nZXQoJ3Rva2VuJyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdG9rZW5SZW1vdmUoKSB7XG5cdFx0XHRjYWNoZS5yZW1vdmUoJ3Rva2VuJyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdG9rZW5TZXQodG9rZW5TdHJpbmcpIHtcblx0XHRcdGNhY2hlLnB1dCgndG9rZW4nLCB0b2tlblN0cmluZyk7XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBCdXN5IEluZGljYXRvciBTZXJ2aWNlXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwuYnVzeUluZGljYXRvcicpXG5cdFx0LmZhY3RvcnkoJ2J1c3lTZXJ2aWNlJywgYnVzeVNlcnZpY2UpO1xuXG5cdGZ1bmN0aW9uIGJ1c3lTZXJ2aWNlKCRyb290U2NvcGUsICR0aW1lb3V0KSB7XG5cdFx0dmFyIG1lc3NhZ2UsIHRpbWVyLCBhbUlCdXN5ID0gZmFsc2UsIGhpZGRlbkJ5Rm9yY2UgPSBmYWxzZTtcblxuXHRcdHZhciBzZXJ2aWNlID0ge1xuXHRcdFx0ZGVmYXVsdE1lc3NhZ2U6ICdXb3JraW5nIG9uIGl0Jyxcblx0XHRcdGZvcmNlSGlkZTogZm9yY2VIaWRlLFxuXHRcdFx0Z2V0TWVzc2FnZTogZ2V0TWVzc2FnZSxcblx0XHRcdGhpZGU6IGhpZGUsXG5cdFx0XHRpc0J1c3k6IGlzQnVzeSxcblx0XHRcdGlzVmlzaWJsZTogaXNWaXNpYmxlLFxuXHRcdFx0cmVzZXRNZXNzYWdlOiByZXNldE1lc3NhZ2UsXG5cdFx0XHRzZXRNZXNzYWdlOiBzZXRNZXNzYWdlLFxuXHRcdFx0c2hvdzogc2hvd1xuXHRcdH07XG5cblx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0cmV0dXJuIHNlcnZpY2U7XG5cblx0XHQvLy8vLy8vLy9cblxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXHRcdFx0JHJvb3RTY29wZS53b3JraW5nTWVzc2FnZSA9IHNlcnZpY2UuZGVmYXVsdE1lc3NhZ2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZm9yY2VIaWRlKHJlc2V0KSB7XG5cdFx0XHRoaWRkZW5CeUZvcmNlID0gcmVzZXQgPyBmYWxzZSA6IHRydWU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZShtc2cpIHtcblx0XHRcdHJldHVybiBtZXNzYWdlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGUoKSB7XG5cdFx0XHRhbUlCdXN5ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaXNCdXN5KCkge1xuXHRcdFx0cmV0dXJuIGFtSUJ1c3kgJiYgIWhpZGRlbkJ5Rm9yY2U7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuXHRcdFx0cmV0dXJuICQoJy5sb2FkaW5nLWluZGljYXRvcicpLmlzKCc6dmlzaWJsZScpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlc2V0TWVzc2FnZSgpIHtcblx0XHRcdHRoaXMuc2V0TWVzc2FnZSh0aGlzLmRlZmF1bHRNZXNzYWdlKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzZXRNZXNzYWdlKG1zZykge1xuXHRcdFx0bWVzc2FnZSA9ICRyb290U2NvcGUud29ya2luZ01lc3NhZ2UgPSBtc2c7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gc2hvdygpIHtcblx0XHRcdGFtSUJ1c3kgPSB0cnVlO1xuXHRcdH1cblx0fVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLmxlYWQnKVxuXHRcdC5mYWN0b3J5KCdsZWFkU2VydmljZScsIGxlYWRTZXJ2aWNlKTtcblxuXHRmdW5jdGlvbiBsZWFkU2VydmljZSgkaHR0cCwgbmdEaWFsb2csIExlYWQsICRyb290U2NvcGUsIGJ1c3lTZXJ2aWNlKSB7XG5cdFx0XHR2YXIgYWN0aXZlRGlhbG9nO1xuXG5cdFx0XHR2YXIgc2VydmljZSA9IHtcblx0XHRcdFx0ZGVsZXRlTGVhZDogZGVsZXRlTGVhZCxcblx0XHRcdFx0cmV0cmlldmU6IHJldHJpZXZlXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4gc2VydmljZTtcblxuXHRcdFx0Ly8vLy8vLy8vXG5cblx0XHRcdGZ1bmN0aW9uIHJldHJpZXZlKHRyYWRlaG93X2lkLCBwYWdlTnVtYmVyLCBwZXJQYWdlLCBvcmRlckJ5LCBvcmRlckJ5UmV2ZXJzZSwgZmlsdGVyKSB7XG5cdFx0XHRcdGlmKHBhZ2VOdW1iZXI9PT11bmRlZmluZWQpe1xuXHRcdFx0XHRcdHBhZ2VOdW1iZXIgPSAnMSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG9yZGVyQnk9PT11bmRlZmluZWQpIHtcblx0XHRcdFx0XHRvcmRlckJ5ID0gJ3VwZGF0ZWRfYXQnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvcmRlckJ5UmV2ZXJzZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG9yZGVyQnlSZXZlcnNlID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocGVyUGFnZT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHBlclBhZ2UgPSAxNTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZmlsdGVyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRmaWx0ZXIgPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJGh0dHAuXG5cdFx0XHRcdFx0Z2V0KCdhcGkvdHJhZGVzaG93cy8nICsgdHJhZGVob3dfaWQgKyAnL2xlYWRzP3BhZ2U9JytwYWdlTnVtYmVyKycmcGVyUGFnZT0nK3BlclBhZ2UrXG5cdFx0XHRcdFx0XHQnJm9yZGVyQnk9JyArb3JkZXJCeSArICcmb3JkZXJCeVJldmVyc2U9JyArIHBhcnNlSW50KG9yZGVyQnlSZXZlcnNlKSArICcmZmlsdGVyPScgKyBmaWx0ZXIsIHtjYWNoZTogdHJ1ZX0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBkZWxldGVMZWFkKGxlYWQpIHtcblx0XHRcdFx0dmFyIGxlYWRfbmFtZSA9IGxlYWQuZmlyc3RfbmFtZSArICcgJyArIGxlYWQubGFzdF9uYW1lO1xuXHRcdFx0XHR2YXIgZGlhbG9nX2h0bWwgPSAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRyYXNoIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgTGVhZCA8ZW0+JyArIGxlYWRfbmFtZSArXG5cdFx0XHRcdFx0XHRcdFx0ICAnPC9lbT4/PGJyIC8+PHN0cm9uZz5UaGlzIGNhbm5vdCBiZSB1bmRvbmUuPC9zdHJvbmc+PC9zcGFuPjxkaXYgY2xhc3M9XCJkaWFsb2ctYnV0dG9uc1wiPicgK1xuXHRcdFx0XHRcdFx0XHRcdCAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiY29uZmlybSgpXCI+WWVzLCBkZWxldGU8L2J1dHRvbj4gJyArXG5cdFx0XHRcdFx0XHRcdFx0ICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tY2FuY2VsXCIgbmctY2xpY2s9XCJjbG9zZVRoaXNEaWFsb2coKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2Pic7XG5cdFx0XHRcdG5nRGlhbG9nLm9wZW5Db25maXJtKHtcblx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZGVzdHJveSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogZGlhbG9nX2h0bWwsXG5cdFx0XHRcdFx0c2hvd0Nsb3NlOiBmYWxzZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdEZWxldGluZycpO1xuXHRcdFx0XHRcdExlYWQuXG5cdFx0XHRcdFx0XHRkZWxldGUoe2lkOmxlYWQuaWR9KS5cblx0XHRcdFx0XHRcdCRwcm9taXNlLlxuXHRcdFx0XHRcdFx0dGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykgJiYgcGF5bG9hZC5zdWNjZXNzID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XG5cdFx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zdWNjZXNzIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2sgZ3JlZW4gaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5MZWFkIDxlbT4nICsgbGVhZF9uYW1lICsgJzwvZW0+IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBkZWxldGVkLjwvc3Bhbj4nLFxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0LmNsb3NlUHJvbWlzZVxuXHRcdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xuXHRcdFx0XHRcdFx0XHRcdFx0cGxhaW46IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduIHJlZCBpY29uLWxhcmdlXCI+PC9zcGFuPjxzcGFuPkFuIGVycm9yIG9jY3VyZWQgd2hlbiB0cnlpbmcgdG8gZGVsZXRlIExlYWQgPGVtPicgKyBsZWFkX25hbWUgKyAnPC9lbT4uPC9zcGFuPiAgUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQuJyxcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgZnVuY3Rpb24oZXJyb3JSZXNwb25zZSkge1xuXHRcdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BbiBlcnJvciBvY2N1cmVkIHdoZW4gdHJ5aW5nIHRvIGRlbGV0ZSBMZWFkIDxlbT4nICsgbGVhZF9uYW1lICsgJzwvZW0+Ljwvc3Bhbj4gIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LicsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cbn0pKCk7XG4iLCIvKipcbiAqIE1lc3NhZ2Ugc2VydmljZVxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLm1lc3NhZ2VzJylcblx0XHQuZmFjdG9yeSgnbWVzc2FnZVNlcnZpY2UnLCBtZXNzYWdlU2VydmljZSk7XG5cblx0ZnVuY3Rpb24gbWVzc2FnZVNlcnZpY2UoJHRpbWVvdXQsICRxKSB7XG5cdFx0dmFyIG1lc3NhZ2VzID0gW107XG5cblx0XHR2YXIgc2VydmljZSA9IHtcblx0XHRcdGFkZE1lc3NhZ2U6IGFkZE1lc3NhZ2UsXG5cdFx0XHRnZXRNZXNzYWdlczogZ2V0TWVzc2FnZXMsXG5cdFx0XHRwdXJnZTogcHVyZ2UsXG5cdFx0XHRyZW1vdmVNZXNzYWdlOiByZW1vdmVNZXNzYWdlXG5cdFx0fTtcblxuXHRcdHJldHVybiBzZXJ2aWNlO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhZGRNZXNzYWdlKGNvbmZpZykge1xuXHRcdFx0Y29uZmlnLmlkID0gbWVzc2FnZXMubGVuZ3RoICsgMTtcblx0XHRcdG1lc3NhZ2VzLnB1c2goY29uZmlnKTtcblx0XHRcdHJldHVybiBjb25maWc7XG5cdFx0fVxuXG5cblx0XHRmdW5jdGlvbiBnZXRNZXNzYWdlcygpIHtcblx0XHRcdHJldHVybiBtZXNzYWdlcztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZW1vdmVNZXNzYWdlKGlkKSB7XG5cdFx0XHRpZiAobWVzc2FnZXNbaWQgLSAxXSkge1xuXHRcdFx0XHRtZXNzYWdlcy5zcGxpY2UoaWQgLSAxLCAxKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwdXJnZSgpIHtcblx0XHRcdG1lc3NhZ2VzID0gW107XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwuc2xpZGVNZW51Jylcblx0XHQucHJvdmlkZXIoJ3NsaWRlTWVudVNlcnZpY2UnLCBzbGlkZU1lbnVQcm92aWRlcik7XG5cblx0ZnVuY3Rpb24gc2xpZGVNZW51UHJvdmlkZXIoKSB7XG5cdFx0dGhpcy5tZW51cyA9IHt9O1xuXG5cdFx0dGhpcy5yZWdpc3Rlck1lbnUgPSByZWdpc3Rlck1lbnU7XG5cdFx0dGhpcy4kZ2V0ID0gc2xpZGVNZW51U2VydmljZTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiByZWdpc3Rlck1lbnUobmFtZSwgY29uZmlnKSB7XG5cdFx0XHR0aGlzLm1lbnVzW25hbWVdID0gY29uZmlnO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHNsaWRlTWVudVNlcnZpY2UoJHJvb3RTY29wZSkge1xuXHRcdFx0dmFyIHNlcnZpY2UgPSB7XG5cdFx0XHRcdG1lbnVzOiB0aGlzLm1lbnVzLFxuXHRcdFx0XHRidWlsZE1lbnU6IGJ1aWxkTWVudVxuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0YWN0aXZhdGUoKTtcblxuXHRcdFx0cmV0dXJuIHNlcnZpY2U7XG5cblx0XHRcdC8vLy8vLy8vL1xuXHRcdFx0XG5cdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gYnVpbGRNZW51KGNvbmZpZykge1xuXHRcdFx0XHR2YXIgaHRtbCA9ICcnO1xuXHRcdFx0XHRmb3IgKHZhciBhY3Rpb25OYW1lIGluIGNvbmZpZy5pdGVtcykge1xuXHRcdFx0XHRcdHZhciBhY3Rpb24gXHQ9IGNvbmZpZy5pdGVtc1thY3Rpb25OYW1lXSxcblx0XHRcdFx0XHRcdHRpdGxlIFx0PSBhY3Rpb24udGl0bGUgfHwgYWN0aW9uTmFtZSxcblx0XHRcdFx0XHRcdGxpbmsgXHQ9ICc8YSB0aXRsZT1cIicgKyB0aXRsZSArICdcIicsXG5cdFx0XHRcdFx0XHR1cmwgXHQ9IGFjdGlvbi51cmwsXG5cdFx0XHRcdFx0XHRvbkNsaWNrID0gYWN0aW9uLmNsaWNrLFxuXHRcdFx0XHRcdFx0c2hvd1x0PSBhY3Rpb24uc2hvdztcblxuXHRcdFx0XHRcdGlmICh1cmwpIHtcblx0XHRcdFx0XHRcdGxpbmsgKz0gJyBocmVmPVwiLyMvJyArIHVybCArICdcIic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0bGluayArPSAnIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIic7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKG9uQ2xpY2spIHtcblx0XHRcdFx0XHRcdGxpbmsgKz0gJyBuZy1jbGljaz1cIicgKyBvbkNsaWNrICsgJ1wiJztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoc2hvdykge1xuXHRcdFx0XHRcdFx0bGluayArPSAnIG5nLXNob3c9XCInICsgc2hvdyArICdcIic7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGluayArPSAnPicgKyB0aXRsZSArICc8L2E+JztcblxuXHRcdFx0XHRcdGh0bWwgKz0gJzxsaT4nICsgbGluayArICc8L2xpPic7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gJzx1bD4nICsgaHRtbCArICc8L3VsPic7XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC50cmFkZXNob3cnKVxuXHRcdC5mYWN0b3J5KCd0cmFkZXNob3dTZXJ2aWNlJywgdHJhZGVzaG93U2VydmljZSk7XG5cblx0ZnVuY3Rpb24gdHJhZGVzaG93U2VydmljZSgkaHR0cCwgVHJhZGVzaG93LCAkcm9vdFNjb3BlLCBuZ0RpYWxvZywgYnVzeVNlcnZpY2UpIHtcblx0XHR2YXIgYWN0aXZlRGlhbG9nO1xuXG5cdFx0dmFyIHNlcnZpY2UgPSB7XG5cdFx0XHRyZXRyaWV2ZTogcmV0cmlldmUsXG5cdFx0XHRkZWxldGVUcmFkZXNob3c6IGRlbGV0ZVRyYWRlc2hvd1xuXHRcdH07XG5cblx0XHRyZXR1cm4gc2VydmljZTtcblxuXHRcdC8vLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVHJhZGVzaG93KHRyYWRlc2hvdykge1xuXHRcdFx0dmFyIHRyYWRlc2hvd19uYW1lID0gdHJhZGVzaG93Lm5hbWUsXG5cdFx0XHRcdHRyYWRlc2hvd19pZCAgID0gdHJhZGVzaG93LmlkO1xuXHRcdFx0YWN0aXZlRGlhbG9nID0gbmdEaWFsb2cub3BlbkNvbmZpcm0oXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZGVzdHJveSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHR0ZW1wbGF0ZTogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaCByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFRyYWRlc2hvdyA8ZW0+JyArIHRyYWRlc2hvd19uYW1lICsgJzwvZW0+PzxiciAvPjxzdHJvbmc+VGhpcyBjYW5ub3QgYmUgdW5kb25lLjwvc3Ryb25nPjwvc3Bhbj48ZGl2IGNsYXNzPVwiZGlhbG9nLWJ1dHRvbnNcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cImNvbmZpcm0oKVwiPlllcywgZGVsZXRlPC9idXR0b24+IDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWNhbmNlbFwiIG5nLWNsaWNrPVwiY2xvc2VUaGlzRGlhbG9nKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxuXHRcdFx0XHRcdHNob3dDbG9zZTogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0KS5cblx0XHRcdHRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIEFsdGVyIHRoZSB3b3JraW5nIG1lc3NhZ2Vcblx0XHRcdFx0YnVzeVNlcnZpY2Uuc2V0TWVzc2FnZSgnRGVsZXRpbmcnKTtcblxuXHRcdFx0XHRUcmFkZXNob3cuXG5cdFx0XHRcdFx0ZGVsZXRlKHt0cmFkZXNob3dJZDp0cmFkZXNob3dfaWR9KS5cblx0XHRcdFx0XHQkcHJvbWlzZS5cblx0XHRcdFx0XHR0aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0XHRcdGlmIChwYXlsb2FkLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykgJiYgcGF5bG9hZC5zdWNjZXNzID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdG5nRGlhbG9nLm9wZW4oe1xuXHRcdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1zdWNjZXNzIG5nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuXHRcdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZWNrIGdyZWVuIGljb24tbGFyZ2VcIj48L3NwYW4+PHNwYW4+VHJhZGVzaG93IDxlbT4nICsgdHJhZGVzaG93X25hbWUgKyAnPC9lbT4gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQuPC9zcGFuPicsXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdC5jbG9zZVByb21pc2Vcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0XHRcdFx0XHRwbGFpbjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctZXJyb3IgbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG5cdFx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BbiBlcnJvciBvY2N1cmVkIHdoZW4gdHJ5aW5nIHRvIGRlbGV0ZSBUcmFkZXNob3cgPGVtPicgKyB0cmFkZXNob3dfbmFtZSArICc8L2VtPi48L3NwYW4+ICBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBmdW5jdGlvbihlcnJvclJlc3BvbnNlKSB7XG5cdFx0XHRcdFx0XHRuZ0RpYWxvZy5vcGVuKHtcblx0XHRcdFx0XHRcdFx0cGxhaW46IHRydWUsXG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZTogJ2RpYWxvZy1lcnJvciBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnbiByZWQgaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5BbiBlcnJvciBvY2N1cmVkIHdoZW4gdHJ5aW5nIHRvIGRlbGV0ZSBUcmFkZXNob3cgPGVtPicgKyB0cmFkZXNob3dfbmFtZSArICc8L2VtPi48L3NwYW4+ICBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC4nLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0XG5cdFx0ZnVuY3Rpb24gcmV0cmlldmUocGFnZU51bWJlciwgcGVyUGFnZSwgb3JkZXJCeSwgb3JkZXJCeVJldmVyc2UsIGZpbHRlcikge1xuXHRcdFx0aWYocGFnZU51bWJlcj09PXVuZGVmaW5lZCl7XG5cdFx0XHRcdHBhZ2VOdW1iZXIgPSAnMSc7XG5cdFx0XHR9XG5cdFx0XHRpZiAob3JkZXJCeT09PXVuZGVmaW5lZCkge1xuXHRcdFx0XHRvcmRlckJ5ID0gJ3VwZGF0ZWRfYXQnO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9yZGVyQnlSZXZlcnNlPT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9yZGVyQnlSZXZlcnNlID0gMTtcblx0XHRcdH1cblx0XHRcdGlmIChwZXJQYWdlPT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdHBlclBhZ2UgPSAxNTtcblx0XHRcdH1cblx0XHRcdGlmIChmaWx0ZXI9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGZpbHRlciA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICRodHRwLlxuXHRcdFx0XHRnZXQoJ2FwaS90cmFkZXNob3dzP3BhZ2U9JytwYWdlTnVtYmVyKycmcGVyUGFnZT0nICsgcGVyUGFnZSArICcmb3JkZXJCeT0nICsgb3JkZXJCeSArXG5cdFx0XHRcdFx0JyZvcmRlckJ5UmV2ZXJzZT0nICsgcGFyc2VJbnQob3JkZXJCeVJldmVyc2UpICsgJyZmaWx0ZXI9JyArIGZpbHRlciwge2NhY2hlOiB0cnVlfSk7XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndHNwb3J0YWwubGVhZCcpXG5cdFx0LmZhY3RvcnkoJ0xlYWQnLCBMZWFkKTtcblxuXHRmdW5jdGlvbiBMZWFkKCRyZXNvdXJjZSwgQ2FjaGVGYWN0b3J5KSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZSgnYXBpL2xlYWRzLzppZCcsIHtpZDogJ0BpZCd9LCB7XG4gICAgICAgICAgICBpbmRleDoge21ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS90cmFkZXNob3dzLzp0cmFkZXNob3dJZC9sZWFkcycsIHBhcmFtczp7dHJhZGVzaG93SWQ6ICdAdHJhZGVzaG93SWQnfX0sXG5cdFx0XHRnZXQ6IHtjYWNoZTogQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJyl9XG5cdFx0fSk7XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC50cmFkZXNob3cnKVxuXHRcdC5mYWN0b3J5KCdUcmFkZXNob3cnLCBUcmFkZXNob3cpO1xuXG5cdGZ1bmN0aW9uIFRyYWRlc2hvdygkcmVzb3VyY2UsIENhY2hlRmFjdG9yeSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoJ2FwaS90cmFkZXNob3dzLzppZCcsIHtpZDogJ0BpZCd9LCB7XG5cdFx0XHRnZXQ6IHtjYWNoZTogQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJyl9LFxuXHRcdFx0Y3JlYXRlOiB7bWV0aG9kOiAnUE9TVCcsIHVybDonYXBpL3RyYWRlc2hvd3MvY3JlYXRlJ30sXG5cdFx0XHRkZWxldGU6IHttZXRob2Q6ICdERUxFVEUnfVxuXHRcdH0pO1xuXHR9XG59KSgpO1xuIiwiXG4vKipcbiAqIEF1dGggQ29udHJvbGxlclxuICovXG4oZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCd0c3BvcnRhbC5sb2dpbicpXG5cdFx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCBhdXRoU2VydmljZSwgJHRpbWVvdXQsIENhY2hlRmFjdG9yeSkge1xuXG5cdFx0dmFyIHZtID0gdGhpcztcblxuXHRcdHZtLmNhY2hlID0gbnVsbDtcblx0XHR2bS5yZW1lbWJlck1lID0gZmFsc2U7XG5cdFx0dm0ubG9naW4gPSBsb2dpbjtcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cdFx0XHRpZiAoIUNhY2hlRmFjdG9yeS5nZXQoJ2xvZ2luRm9ybScpKSB7XG5cdFx0XHRcdG5ldyBDYWNoZUZhY3RvcnkoJ2xvZ2luRm9ybScsIHtcblx0XHRcdFx0XHRtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcgKiA0ICogMTAwMCxcblx0XHRcdFx0XHRkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnLFxuXHRcdFx0XHRcdHN0b3JhZ2VNb2RlOiAnbG9jYWxTdG9yYWdlJ1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dm0uY2FjaGUgPSBDYWNoZUZhY3RvcnkuZ2V0KCdsb2dpbkZvcm0nKTtcblx0XHRcdFxuXHRcdFx0aWYgKHZtLmNhY2hlLmdldCgncmVtZW1iZXJNZScpICYmIHZtLmNhY2hlLmdldCgnZW1haWwnKSkge1xuXHRcdFx0XHR2bS5yZW1lbWJlck1lID0gdm0uY2FjaGUuZ2V0KCdyZW1lbWJlck1lJyk7XG5cdFx0XHRcdHZtLmVtYWlsID0gdm0uY2FjaGUuZ2V0KCdlbWFpbCcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIHRva2VuIGlzIGFscmVhZHkgc3RvcmVkLCB0cnkgYXBwXG5cdFx0XHRpZiAoYXV0aFNlcnZpY2UuaGFzVG9rZW4oKSkge1xuXHRcdFx0XHQkc3RhdGUuZ28oJ3RyYWRlc2hvd3MnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBVc2UgYXV0aFNlcnZpY2UgdG8gbG9naW5cblx0XHQgKiBAcmV0dXJuIHtbdm9pZF19XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XG5cdFx0XHR2YXIgY3JlZGVudGlhbHMgPSB7XG5cdFx0XHRcdGVtYWlsOiB2bS5lbWFpbCxcblx0XHRcdFx0cGFzc3dvcmQ6IHZtLnBhc3N3b3JkXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBQcm92aWRlZCBieSBtZXNzYWdlc0RpcmVjdGl2ZVxuXHRcdFx0dm0ucHVyZ2VNZXNzYWdlcygpO1xuXG5cdFx0XHRhdXRoU2VydmljZS5sb2dpbihjcmVkZW50aWFscylcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdGlmICh2bS5yZW1lbWJlck1lKSB7XG5cdFx0XHRcdFx0XHR2bS5jYWNoZS5wdXQoJ2VtYWlsJywgdm0uZW1haWwpO1xuXHRcdFx0XHRcdFx0dm0uY2FjaGUucHV0KCdyZW1lbWJlck1lJywgdm0ucmVtZW1iZXJNZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRzdGF0ZS5nbyhcInRyYWRlc2hvd3NcIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0Ly8gUHJvdmlkZWQgYnkgbWVzc2FnZXNEaXJlY3RpdmVcblx0XHRcdFx0XHR2bS5hZGRFcnJvck1lc3NhZ2Uoe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ1RoZSBlbWFpbCBvciBwYXNzd29yZCBlbnRlcmVkIHdhcyBpbmNvcnJlY3QuJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCd0c3BvcnRhbC5sb2dpbicpXG5cdC5jb250cm9sbGVyKCdMb2dvdXRDb250cm9sbGVyJywgTG9nb3V0Q29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9nb3V0Q29udHJvbGxlcihhdXRoU2VydmljZSkge1xuXHRcdGF1dGhTZXJ2aWNlLmxvZ291dCgpO1xuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBFZGl0IExlYWQgQ29udHJvbGxlclxuICogQGNsYXNzIExlYWRFZGl0Q29udHJvbGxlclxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLmxlYWRzJylcblx0XHQuY29udHJvbGxlcignTGVhZEVkaXRDb250cm9sbGVyJywgTGVhZEVkaXRDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBMZWFkRWRpdENvbnRyb2xsZXIoJGh0dHAsICRxLCAkc2NvcGUsICR0aW1lb3V0LCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgbmdEaWFsb2csIExlYWQsIFRyYWRlc2hvdywgYnVzeVNlcnZpY2UsIG1lc3NhZ2VTZXJ2aWNlLCBsZWFkRGF0YSkge1xuXG5cdFx0dmFyIHZtID0gdGhpcztcblxuXHRcdHZtLmdvQmFjayA9IGdvQmFjaztcblx0XHR2bS5zYXZlID0gc2F2ZTtcblxuXHRcdHZtLmxlYWQgPSBsZWFkRGF0YTtcblx0XHR2bS50aXRsZSA9ICdFZGl0aW5nIExlYWQnO1xuXG5cdFx0YWN0aXZhdGUoKTtcblxuXHRcdC8vLy8vLy8vL1xuXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBbQ2FsbGJhY2sgdG8gJ0JhY2snIGJ1dHRvbl1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t2b2lkXX1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBnb0JhY2soKSB7XG5cdFx0XHQkc3RhdGUuZ28oJ3RyYWRlc2hvd0VkaXQnLCB7aWQ6IHZtLmxlYWQudHJhZGVzaG93X2lkfSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogU2F2ZSB0aGUgTGVhZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W3ZvaWRdfVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0XHRpZiAodm0ubGVhZEZvcm0uJHZhbGlkKSB7XG5cdFx0XHRcdC8vIEFsdGVyIHRoZSB3b3JraW5nIG1lc3NhZ2Vcblx0XHRcdFx0YnVzeVNlcnZpY2Uuc2V0TWVzc2FnZSgnU2F2aW5nJyk7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgTGVhZCB1c2luZyB0aGUgTGVhZCByZXNvdXJjZVxuXHRcdFx0XHRMZWFkLlxuXHRcdFx0XHRcdHNhdmUodm0ubGVhZCkuXG5cdFx0XHRcdFx0JHByb21pc2UuXG5cdFx0XHRcdFx0dGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0XHR2bS5sZWFkID0gcGF5bG9hZDtcblxuXHRcdFx0XHRcdFx0dm0uYWRkU3VjY2Vzc01lc3NhZ2UoKTtcblxuXHRcdFx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuY2FjaGUucmVtb3ZlQWxsKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBDcmVhdGUgYSBUcmFkZXNob3cgQ29udHJvbGxlclxuICogQGNsYXNzIFRyYWRlc2hvd0NyZWF0ZUNvbnRyb2xsZXJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERpc3BsYXlzIGEgZm9ybSBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgbmV3IHRyYWRlc2hvd1xuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnKVxuXHRcdC5jb250cm9sbGVyKCdUcmFkZXNob3dDcmVhdGVDb250cm9sbGVyJywgVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCAkc3RhdGUsIG5nRGlhbG9nLCBUcmFkZXNob3csIGF1dGhTZXJ2aWNlLCBidXN5U2VydmljZSwgbWVzc2FnZVNlcnZpY2UpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0dm0uZ29CYWNrID0gZ29CYWNrO1xuXHRcdHZtLnNhdmUgPSBzYXZlO1xuXG5cdFx0dm0uaXNOZXcgPSB0cnVlO1xuXHRcdHZtLnRpdGxlUHJlZml4ID0gXCJDcmVhdGluZyBuZXdcIjtcblx0XHR2bS50cmFkZXNob3cgPSB7YWN0aXZlOiAwfTtcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vLy9cblxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXHRcdFx0YXV0aFNlcnZpY2UuY2hlY2tBcGlBY2Nlc3MoKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDYWxsYmFjayB0byAnQmFjaycgYnV0dG9uXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ29CYWNrKCkge1xuXHRcdFx0JHN0YXRlLmdvKFwidHJhZGVzaG93c1wiKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBTYXZlIHRoZSBuZXcgdHJhZGVzaG93IHVzaW5nIHRoZSBUcmFkZXNob3cgcmVzb3VyY2Vcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBzYXZlKCkge1xuXHRcdFx0aWYgKHZtLnRyYWRlc2hvd0Zvcm0uJHZhbGlkKSB7XG5cdFx0XHRcdC8vIEFsdGVyIHRoZSB3b3JraW5nIG1lc3NhZ2Vcblx0XHRcdFx0YnVzeVNlcnZpY2Uuc2V0TWVzc2FnZSgnU2F2aW5nIG5ldycpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBUcmFkZXNob3cgdXNpbmcgVHJhZGVzaG93IHJlc291cmNlXG5cdFx0XHRcdFRyYWRlc2hvd1xuXHRcdFx0XHRcdC5jcmVhdGUodm0udHJhZGVzaG93KVxuXHRcdFx0XHRcdC4kcHJvbWlzZVxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0XHRcdHZhciB0cmFkZXNob3dfaWQgPSBwYXlsb2FkLmlkO1xuXG5cdFx0XHRcdFx0XHQvLyBTaG93IGEgY29uZmlybWF0aW9uIGRpYWxvZ1xuXHRcdFx0XHRcdFx0bmdEaWFsb2cub3Blbih7XG5cdFx0XHRcdFx0XHRcdHBsYWluOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU6ICdkaWFsb2ctc2F2ZSBuZ2RpYWxvZy10aGVtZS1kZWZhdWx0Jyxcblx0XHRcdFx0XHRcdFx0dGVtcGxhdGU6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2sgZ3JlZW4gaWNvbi1sYXJnZVwiPjwvc3Bhbj48c3Bhbj5Zb3VyIG5ldyB0cmFkZXNob3cgaGFzIGJlZW4gY3JlYXRlZCBzdWNjZXNzZnVsbHkuJyArXG5cdFx0XHRcdFx0XHRcdCcgIENsb3NlIHRoaXMgbWVzc2FnZSBib3ggdG8gcHJvY2VlZCB0byB0aGUgdHJhZGVzaG93XFwncyBlZGl0IHBhZ2UuPC9zcGFuPidcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuY2xvc2VQcm9taXNlXG5cdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdC8vIE5hdmlnYXRlIHRvIHRoZSBuZXcgdHJhZGVzaG93J3MgRWRpdCBwYWdlIG9uIGRpYWxvZyBjbG9zZVxuXHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ3RyYWRlc2hvd0VkaXQnLCB7aWQ6IHRyYWRlc2hvd19pZH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBUcmFkZXNob3cgRWRpdCBDb250cm9sbGVyXG4gKiBAY2xhc3MgVHJhZGVzaG93RWRpdENvbnRyb2xsZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGlzcGxheXMgYW4gZWRpdCBmb3JtIGZvciBhIHRyYWRlc2hvd1xuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnKVxuXHRcdC5jb250cm9sbGVyKCdUcmFkZXNob3dFZGl0Q29udHJvbGxlcicsIFRyYWRlc2hvd0VkaXRDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBUcmFkZXNob3dFZGl0Q29udHJvbGxlcigkc2NvcGUsICRxLCAkaHR0cCwgQ2FjaGVGYWN0b3J5LCAkc3RhdGUsIG5nRGlhbG9nLCBhdXRoU2VydmljZSxcblx0XHRidXN5U2VydmljZSwgbWVzc2FnZVNlcnZpY2UsIFRyYWRlc2hvdywgbGVhZFNlcnZpY2UsIHByb21pc2VkRGF0YSwgcHJvbWlzZWRMZWFkRGF0YSwgcHJvbWlzZWRGb3JtQ2FjaGUpXG5cdHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0dm0uZGVsZXRlTGVhZCA9IGRlbGV0ZUxlYWQ7XG5cdFx0dm0uZ2V0TGVhZHMgPSBnZXRMZWFkcztcblx0XHR2bS5nb0JhY2sgPSBnb0JhY2s7XG5cdFx0dm0ucGx1Y2tMZWFkID0gcGx1Y2tMZWFkO1xuXHRcdHZtLnJlZnJlc2hMZWFkcyA9IHJlZnJlc2hMZWFkcztcblx0XHR2bS5zYXZlID0gc2F2ZTtcblx0XHR2bS51cGRhdGVQYWdpbmF0aW9uID0gdXBkYXRlUGFnaW5hdGlvbjtcblxuXHRcdHZtLmN1cnJlbnRQYWdlID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmN1cnJlbnRfcGFnZTtcblx0XHR2bS5mb3JtQ2FjaGUgPSBwcm9taXNlZEZvcm1DYWNoZTtcblx0XHR2bS5pc05ldyA9IGZhbHNlO1xuXHRcdHZtLmxhc3RGZXRjaGVkUGFnZSA9IDE7XG5cdFx0dm0ubGVhZHMgPSBwcm9taXNlZExlYWREYXRhLmRhdGEuZGF0YTtcblx0XHR2bS5vcmRlckJ5ID0gXCJ1cGRhdGVkX2F0XCI7XG5cdFx0dm0ub3JkZXJCeVJldmVyc2UgPSBcIjBcIjtcblx0XHR2bS5wZXJQYWdlID0gXCIxNVwiO1xuXHRcdHZtLnF1ZXJ5ID0gXCJcIjtcblx0XHR2bS50aXRsZVByZWZpeCA9IFwiRWRpdGluZ1wiO1xuXHRcdHZtLnRyYWRlc2hvdyA9IHByb21pc2VkRGF0YTtcblx0XHR2bS50b3RhbFBhZ2VzID0gcHJvbWlzZWRMZWFkRGF0YS5kYXRhLmxhc3RfcGFnZTtcblxuXHRcdGFjdGl2YXRlKCk7XG5cblx0XHQvLy8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdC8vIFdhdGNoIHNjb3BlIHZhcmlhYmxlcyB0byB1cGRhdGUgY2FjaGVcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChbJ2N1cnJlbnRQYWdlJywgJ29yZGVyQnknLCAnb21nJywgJ29yZGVyQnlSZXZlcnNlJywgJ3BlclBhZ2UnLCAncXVlcnknXSwgZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdGlmICh2bS5mb3JtQ2FjaGUuZ2V0KGtleSkpIHtcblx0XHRcdFx0XHR2bVtrZXldID0gdm0uZm9ybUNhY2hlLmdldChrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goJ2N0cmwuJyArIGtleSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHQgICAgdm0uZm9ybUNhY2hlLnB1dChrZXksIG5ld1ZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIERlbGV0ZSBhIGxlYWRcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZWxldGVMZWFkKGxlYWRfaWQpIHtcblx0XHRcdGxlYWRTZXJ2aWNlLmRlbGV0ZUxlYWQoIHZtLnBsdWNrTGVhZChsZWFkX2lkKSApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbGVhZHMgdXNpbmcgdGhlIGxlYWRTZXJ2aWNlXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ2V0TGVhZHMocGFnZU51bWJlcikge1xuXHRcdFx0aWYgKHBhZ2VOdW1iZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlTnVtYmVyID0gdm0uY3VycmVudFBhZ2U7XG5cdFx0XHR9XG5cdFx0XHR2bS5sYXN0RmV0Y2hlZFBhZ2UgPSBwYWdlTnVtYmVyO1xuXG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG5cdFx0XHRsZWFkU2VydmljZVxuXHRcdFx0XHQucmV0cmlldmUoXG5cdFx0XHRcdFx0dm0udHJhZGVzaG93LmlkLFxuXHRcdFx0XHRcdHBhZ2VOdW1iZXIsXG5cdFx0XHRcdFx0dm0ucGVyUGFnZSxcblx0XHRcdFx0XHR2bS5vcmRlckJ5LFxuXHRcdFx0XHRcdHZtLm9yZGVyQnlSZXZlcnNlLFxuXHRcdFx0XHRcdHZtLnF1ZXJ5XG5cdFx0XHRcdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcblx0XHRcdFx0XHR2bS5sZWFkcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0dm0uY3VycmVudFBhZ2UgPSByZXNwb25zZS5jdXJyZW50X3BhZ2U7XG5cdFx0XHRcdFx0dm0udG90YWxQYWdlcyA9IHJlc3BvbnNlLmxhc3RfcGFnZTtcblxuXHRcdFx0XHRcdC8vIFJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocGF5bG9hZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdFx0Ly8gUmVqZWN0IHByb21pc2Vcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocGF5bG9hZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2FsbGJhY2sgdG8gJ2dvIGJhY2snIGJ1dHRvblxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGdvQmFjaygpIHtcblx0XHRcdCRzdGF0ZS5nbygndHJhZGVzaG93cycpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbmQgYSBsZWFkIGluIHRoZSBsb2NhbCBhcnJheSBpbiBzY29wZSBieSBpZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHBsdWNrTGVhZChsZWFkX2lkKSB7XG5cdFx0XHRmb3IgKHZhciBuID0gMCwgbGVhZDsgKGxlYWQgPSB2bS5sZWFkc1tuXSk7IG4rKykge1xuXHRcdFx0XHRpZiAobGVhZC5pZCA9PSBsZWFkX2lkKSB7IHJldHVybiBsZWFkOyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVmcmVzaCB0aGUgbGVhZHNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZWZyZXNoTGVhZHMoKSB7XG5cdFx0XHR2bS5nZXRMZWFkcygpLnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHQvLyBQYWdlIG51bWJlciB3YXMgb3V0IG9mIHJhbmdlLCBmZXRjaGluZyBsYXN0IHBhZ2UgYXZhaWxhYmxlXG5cdFx0XHRcdGlmICh2bS5sYXN0RmV0Y2hlZFBhZ2UgPiBwYXlsb2FkLmRhdGEuY3VycmVudF9wYWdlKSB7XG5cdFx0XHRcdFx0dm0uZ2V0TGVhZHMocGF5bG9hZC5kYXRhLmxhc3RfcGFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFNhdmUgdGhlIGN1cnJlbnRseSBzY29wZWQgdHJhZGVzaG93IHVzaW5nIFRyYWRlc2hvdyByZXNvdXJjZVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNhdmUoKSB7XG5cdFx0XHRpZiAodm0udHJhZGVzaG93Rm9ybS4kdmFsaWQpIHtcblx0XHRcdFx0Ly8gQWx0ZXIgdGhlIFwiYnVzeVwiIGluZGljYXRvciBtZXNzYWdlXG5cdFx0XHRcdGJ1c3lTZXJ2aWNlLnNldE1lc3NhZ2UoJ1NhdmluZycpO1xuXG5cdFx0XHRcdC8vIFVzZSBUcmFkZXNob3cgcmVzb3VyY2UgdG8gc2F2ZSBjdXJyZW50bHkgc2NvcGVkIHRyYWRlc2hvd1xuXHRcdFx0XHRUcmFkZXNob3cuc2F2ZSh2bS50cmFkZXNob3cpLiRwcm9taXNlXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0Ly8gU2V0IHRoZSB0cmFkZXNob3cgaW4gc2NvcGVcblx0XHRcdFx0XHRcdHZtLnRyYWRlc2hvdyA9IHBheWxvYWQ7XG5cblx0XHRcdFx0XHRcdC8vIFNob3cgc3VjY2VzcyBhbGVydFxuXHRcdFx0XHRcdFx0dm0uYWRkU3VjY2Vzc01lc3NhZ2UoKTtcblxuXHRcdFx0XHRcdFx0JGh0dHAuZGVmYXVsdHMuY2FjaGUucmVtb3ZlQWxsKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0Ly8gU2hvdyBlcnJvciBhbGVydFxuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogRW5zdXJlIHdlIGRvbid0IGdvIG91dC1vZi1ib3VuZHNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uKCkge1xuXHRcdFx0aWYgKHZtLmN1cnJlbnRQYWdlICE9IDEpIHtcblx0XHRcdFx0dm0uZ2V0TGVhZHMoMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KSgpO1xuIiwiLyoqXG4gKiBUcmFkZXNob3cgTGlzdCBDb250cm9sbGVyXG4gKiBAY2xhc3MgVHJhZGVzaG93TGlzdENvbnRyb2xsZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGlzcGxheXMgYSBwYWdpbmF0ZWQsIGZpbHRlcmVkIHRhYmxlIG9mIGFsbCB0cmFkZXNob3dzLlxuICovXG5cbihmdW5jdGlvbigpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ3RzcG9ydGFsLnRyYWRlc2hvd3MnKVxuXHRcdC5jb250cm9sbGVyKCdUcmFkZXNob3dMaXN0Q29udHJvbGxlcicsIFRyYWRlc2hvd0xpc3RDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBUcmFkZXNob3dMaXN0Q29udHJvbGxlcigkc2NvcGUsICRxLCAkdGltZW91dCwgQ2FjaGVGYWN0b3J5LCBuZ0RpYWxvZywgYXV0aFNlcnZpY2UsIGJ1c3lTZXJ2aWNlLCBtZXNzYWdlU2VydmljZSwgdHJhZGVzaG93U2VydmljZSwgbGVhZFNlcnZpY2UsIHByb21pc2VkRGF0YSwgcHJvbWlzZWRGb3JtQ2FjaGUpIHtcblx0XHR2YXIgdm0gPSB0aGlzO1xuXG5cdFx0dm0uZGVsZXRlVHJhZGVzaG93IFx0ID0gZGVsZXRlVHJhZGVzaG93O1xuXHRcdHZtLmRlbGV0ZUxlYWRcdFx0ID0gZGVsZXRlTGVhZDtcblx0XHR2bS5kb3dubG9hZFJlcG9ydCBcdCA9IGRvd25sb2FkUmVwb3J0O1xuXHRcdHZtLmdldExlYWRzIFx0XHQgPSBnZXRMZWFkcztcblx0XHR2bS5nZXRUcmFkZXNob3dzIFx0ID0gZ2V0VHJhZGVzaG93cztcblx0XHR2bS5wbHVja0xlYWRcdFx0ID0gcGx1Y2tMZWFkO1xuXHRcdHZtLnBsdWNrVHJhZGVzaG93IFx0ID0gcGx1Y2tUcmFkZXNob3c7XG5cdFx0dm0ucmVmcmVzaFRyYWRlc2hvd3MgPSByZWZyZXNoVHJhZGVzaG93cztcblxuXHRcdHZtLmN1cnJlbnRQYWdlIFx0XHQ9IHByb21pc2VkRGF0YS5kYXRhLmN1cnJlbnRfcGFnZTtcblx0XHR2bS5mb3JtQ2FjaGVcdFx0PSBwcm9taXNlZEZvcm1DYWNoZTtcblx0XHR2bS5sYXN0RmV0Y2hlZFBhZ2UgID0gMTtcblx0XHR2bS5vcmRlckJ5IFx0XHRcdD0gXCJ1cGRhdGVkX2F0XCI7XG5cdFx0dm0ub3JkZXJCeVJldmVyc2UgXHQ9IFwiMVwiO1xuXHRcdHZtLnBlclBhZ2UgXHRcdFx0PSBcIjE1XCI7XG5cdFx0dm0ucXVlcnkgXHRcdFx0PSBcIlwiO1xuXHRcdHZtLnRvdGFsUGFnZXNcdFx0PSBwcm9taXNlZERhdGEuZGF0YS5sYXN0X3BhZ2U7XG5cdFx0dm0udHJhZGVzaG93c1x0XHQ9IHByb21pc2VkRGF0YS5kYXRhLmRhdGE7XG5cblx0XHRhY3RpdmF0ZSgpO1xuXG5cdFx0Ly8vLy8vLy8vXG5cblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblx0XHRcdC8vIFdhdGNoIHNjb3BlIHZhcmlhYmxlcyB0byB1cGRhdGUgY2FjaGVcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChbJ2N1cnJlbnRQYWdlJywgJ29yZGVyQnknLCAnb3JkZXJCeVJldmVyc2UnLCAncGVyUGFnZScsICdxdWVyeSddLCBmdW5jdGlvbih2YXJOYW1lKSB7XG5cdFx0XHRcdHZhciB2YWwgPSB2bS5mb3JtQ2FjaGUuZ2V0KHZhck5hbWUpO1xuXHRcdFx0XHRpZiAodmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0dm1bdmFyTmFtZV0gPSB2YWw7XG5cdFx0XHRcdH1cblx0XHRcdFx0JHNjb3BlLiR3YXRjaCgnY3RybC4nICsgdmFyTmFtZSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHQgICAgdm0uZm9ybUNhY2hlLnB1dCh2YXJOYW1lLCBuZXdWYWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIERlbGV0ZSBhIGxlYWRcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZWxldGVMZWFkKGxlYWRfaWQpIHtcblx0XHRcdGxlYWRTZXJ2aWNlLmRlbGV0ZUxlYWQoIHZtLnBsdWNrTGVhZChsZWFkX2lkKSApO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIERlbGV0ZSBhIHRyYWRlc2hvdyB1c2luZyB0aGUgdHJhZGVzaG93IHNlcnZpY2Vcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkZWxldGVUcmFkZXNob3codHJhZGVzaG93X2lkKSB7XG5cdFx0XHR2YXIgdHJhZGVzaG93ID0gdm0ucGx1Y2tUcmFkZXNob3codHJhZGVzaG93X2lkKTtcblx0XHRcdHRyYWRlc2hvd1NlcnZpY2UuZGVsZXRlVHJhZGVzaG93KHRyYWRlc2hvdyk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIGEgdHJhZGVzaG93IGhhcyBsZWFkcywgYW5kIHJvdXRlcyB1c2VyIHRvIFVSTCB0byBkb3dubG9hZCByZXBvcnRcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkb3dubG9hZFJlcG9ydCh0cmFkZXNob3dfaWQpIHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hcGkvdHJhZGVzaG93cy8nICsgdHJhZGVzaG93X2lkICsgJy9yZXBvcnQ/dG9rZW49JyArIGF1dGhTZXJ2aWNlLnRva2VuLmdldCgpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFVzZSBsZWFkU2VydmljZSB0byBmZXRjaCBsZWFkcyBmb3IgdGhlIHRyYWRlc2hvd1xuXHRcdCAqL1xuXHRcdCBmdW5jdGlvbiBnZXRMZWFkcyhwYWdlTnVtYmVyLCB0cmFkZXNob3cpIHtcblx0XHQgXHRidXN5U2VydmljZS5mb3JjZUhpZGUoKTtcblx0XHRcdGlmICh0cmFkZXNob3cgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0cmFkZXNob3cgPSB2bS5zZWxlY3RlZFRyYWRlc2hvdztcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR2bS5zZWxlY3RlZFRyYWRlc2hvdyA9IHRyYWRlc2hvdztcblx0XHRcdH1cblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsZWFkU2VydmljZVxuXHRcdFx0XHRcdC5yZXRyaWV2ZSh0cmFkZXNob3cuaWQsIHBhZ2VOdW1iZXIsIDUwLCAnaWQnLCAwKVxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHBheWxvYWQpIHtcblx0XHRcdFx0XHRcdGJ1c3lTZXJ2aWNlLmZvcmNlSGlkZSh0cnVlKTtcblx0XHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcblxuXHRcdFx0XHRcdFx0dm0ubGVhZHMgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdFx0dm0ubGVhZEN1cnJlbnRQYWdlID0gcmVzcG9uc2UuY3VycmVudF9wYWdlO1xuXHRcdFx0XHRcdFx0dm0ubGVhZFRvdGFsUGFnZXMgPSByZXNwb25zZS5sYXN0X3BhZ2U7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdFx0dm0uYWRkRXJyb3JNZXNzYWdlKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBbZ2V0VHJhZGVzaG93cyB1c2UgdHJhZGVzaG93U2VydmljZSB0byBmZXRjaCB0cmFkZXNob3dzXVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGdldFRyYWRlc2hvd3MocGFnZU51bWJlcikge1xuXHRcdFx0aWYgKHBhZ2VOdW1iZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwYWdlTnVtYmVyID0gdm0uY3VycmVudFBhZ2U7XG5cdFx0XHR9XG5cdFx0XHR2bS5sYXN0RmV0Y2hlZFBhZ2UgPSBwYWdlTnVtYmVyO1xuXG5cdFx0XHRidXN5U2VydmljZS5zZXRNZXNzYWdlKCdXb3JraW5nIG9uIGl0Jyk7XG5cblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cblx0XHRcdHRyYWRlc2hvd1NlcnZpY2Vcblx0XHRcdFx0LnJldHJpZXZlKFxuXHRcdFx0XHRcdHBhZ2VOdW1iZXIsXG5cdFx0XHRcdFx0dm0ucGVyUGFnZSxcblx0XHRcdFx0XHR2bS5vcmRlckJ5LFxuXHRcdFx0XHRcdHZtLm9yZGVyQnlSZXZlcnNlLFxuXHRcdFx0XHRcdHZtLnF1ZXJ5XG5cdFx0XHRcdClcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdHZhciByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcblxuXHRcdFx0XHRcdHZtLnRyYWRlc2hvd3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdHZtLmN1cnJlbnRQYWdlID0gcmVzcG9uc2UuY3VycmVudF9wYWdlO1xuXHRcdFx0XHRcdHZtLnRvdGFsUGFnZXMgPSByZXNwb25zZS5sYXN0X3BhZ2U7XG5cblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHBheWxvYWQpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocGF5bG9hZCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChwYXlsb2FkKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBGaW5kIGEgbGVhZCBpbiB0aGUgbG9jYWwgYXJyYXkgaW4gc2NvcGUgYnkgaWRcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBwbHVja0xlYWQobGVhZF9pZCkge1xuXHRcdFx0Zm9yICh2YXIgbiA9IDAsIGxlYWQ7IChsZWFkID0gdm0ubGVhZHNbbl0pOyBuKyspIHtcblx0XHRcdFx0aWYgKGxlYWQuaWQgPT0gbGVhZF9pZCkgeyByZXR1cm4gbGVhZDsgfVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbmQgYSB0cmFkZXNob3cgaW4gdGhlIGxvY2FsIGFycmF5IGJ5IGlkXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcGx1Y2tUcmFkZXNob3codHJhZGVzaG93X2lkKSB7XG5cdFx0XHRmb3IgKHZhciBuID0gMCwgdHJhZGVzaG93OyAodHJhZGVzaG93ID0gdm0udHJhZGVzaG93c1tuXSk7IG4rKykge1xuXHRcdFx0XHRpZiAodHJhZGVzaG93LmlkID09IHRyYWRlc2hvd19pZCkgeyByZXR1cm4gdHJhZGVzaG93OyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogW3JlZnJlc2hUcmFkZXNob3dzIENhbGxzIGdldFRyYWRlc2hvd3Mgd2l0aCB0aGUgY3VycmVudGx5IHNjb3BlZCBwYWdlIG51bWJlcl1cblx0XHQgKi9cblx0XHQgZnVuY3Rpb24gcmVmcmVzaFRyYWRlc2hvd3MoKSB7XG5cdFx0XHR2bS5nZXRUcmFkZXNob3dzKCkudGhlbihmdW5jdGlvbihwYXlsb2FkKSB7XG5cdFx0XHRcdC8vIFBhZ2UgbnVtYmVyIHdhcyBvdXQgb2YgcmFuZ2UsIGZldGNoaW5nIGxhc3QgcGFnZSBhdmFpbGFibGVcblx0XHRcdFx0aWYgKHZtLmxhc3RGZXRjaGVkUGFnZSA+IHBheWxvYWQuZGF0YS5jdXJyZW50X3BhZ2UpIHtcblx0XHRcdFx0XHR2bS5nZXRUcmFkZXNob3dzKHBheWxvYWQuZGF0YS5sYXN0X3BhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgndHNwb3J0YWwnLCBbXG4gICAgICAgIC8vIENvbnRyaWJcbiAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICdhbmd1bGFyLWp3dCcsXG4gICAgICAgICdhbmd1bGFyLWNhY2hlJyxcbiAgICAgICAgJ2FuZ3VsYXItc3BpbmtpdCcsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAnbmdEaWFsb2cnLFxuICAgICAgICAnbmdSZXNvdXJjZScsXG4gICAgICAgICdmcmFwb250aWxsby5ib290c3RyYXAtc3dpdGNoJyxcbiAgICAgICAgJ2FuZ3VsYXItY2hvc2VuJyxcblxuICAgICAgICAvLyBhcHAvc2hhcmVkXG4gICAgICAgICd0c3BvcnRhbC5hdXRoJyxcbiAgICAgICAgJ3RzcG9ydGFsLmJ1c3lJbmRpY2F0b3InLFxuICAgICAgICAndHNwb3J0YWwuY2xpY2thYmxlJyxcbiAgICAgICAgJ3RzcG9ydGFsLmxlYWQnLFxuICAgICAgICAndHNwb3J0YWwubWVzc2FnZXMnLFxuICAgICAgICAndHNwb3J0YWwucGFnZXInLFxuICAgICAgICAndHNwb3J0YWwuc2xpZGVNZW51JyxcbiAgICAgICAgJ3RzcG9ydGFsLnRpbWVhZ28nLFxuICAgICAgICAndHNwb3J0YWwudHJhZGVzaG93JyxcblxuICAgICAgICAvLyBhcHAvY29tcG9uZW50c1xuICAgICAgICAndHNwb3J0YWwubGVhZHMnLFxuICAgICAgICAndHNwb3J0YWwudHJhZGVzaG93cycsXG4gICAgICAgICd0c3BvcnRhbC5sb2dpbidcbiAgICBdKVxuICAgIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGh0dHBQcm92aWRlciwgc2xpZGVNZW51U2VydmljZVByb3ZpZGVyKSB7XG4gICAgICAgIHNsaWRlTWVudVNlcnZpY2VQcm92aWRlci5yZWdpc3Rlck1lbnUoJ3RyYWRlc2hvdycsIHtcbiAgICAgICAgICAgIHRpdGxlOiAnVHJhZGVzaG93PGJyIC8+PHNtYWxsPnt7dHJhZGVzaG93Lm5hbWV9fTwvc21hbGw+PGJyIC8+PHNtYWxsPnt7dHJhZGVzaG93LmxlYWRfY291bnR9fSBsZWFkcycsXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIGVkaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAndHJhZGVzaG93cy97e3RyYWRlc2hvdy5pZH19L2VkaXQnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0VkaXQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWxldGU6IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICdjdHJsLmRlbGV0ZVRyYWRlc2hvdyh0cmFkZXNob3cuaWQpJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEZWxldGUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXBvcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICdjdHJsLmRvd25sb2FkUmVwb3J0KHRyYWRlc2hvdy5pZCknLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0V4Y2VsIFJlcG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIHNob3c6ICd0cmFkZXNob3cubGVhZF9jb3VudCA+IDAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2xpZGVNZW51U2VydmljZVByb3ZpZGVyLnJlZ2lzdGVyTWVudSgnbGVhZCcsIHtcbiAgICAgICAgICAgIHRpdGxlOiAnTGVhZDxiciAvPjxzbWFsbD57e2xlYWQuZmlyc3RfbmFtZX19IHt7bGVhZC5sYXN0X25hbWV9fTwvc21hbGw+PGJyIC8+PHNtYWxsPnt7bGVhZC5lbWFpbF9hZGRyZXNzfX08L3NtYWxsPicsXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIGVkaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnbGVhZHMve3tsZWFkLmlkfX0vZWRpdCcsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRWRpdCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbGV0ZToge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogJ2N0cmwuZGVsZXRlTGVhZChsZWFkLmlkKScsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGVsZXRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRodHRwUHJvdmlkZXIudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnMgPSBmYWxzZTtcblxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXV0aCcpO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLlxuICAgICAgICAgICAgc3RhdGUoJ3Rlc3QnLCB7XG4gICAgICAgICAgICAgICAgdXJsOicvdGVzdCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICd0ZXN0JyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOidUcmFkZXNob3dMaXN0Q29udHJvbGxlciBhcyBjdHJsJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnYXV0aCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvYXV0aCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi92aWV3cy9sb2dpblZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlciBhcyBjdHJsJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnbG9nb3V0Jywge1xuICAgICAgICAgICAgICAgIHVybDogJy9sb2dvdXQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOicnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyIGFzIGN0cmwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCd0cmFkZXNob3dzJywge1xuICAgICAgICAgICAgICAgIHVybDogJy90cmFkZXNob3dzJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4uL3ZpZXdzL3RyYWRlc2hvd0xpc3RWaWV3Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdUcmFkZXNob3dMaXN0Q29udHJvbGxlciBhcyBjdHJsJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VkRGF0YTogZnVuY3Rpb24gcHJvbWlzZWREYXRhKHRyYWRlc2hvd1NlcnZpY2UsIENhY2hlRmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFDYWNoZUZhY3RvcnkuZ2V0KCdmb3JtQ2FjaGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYWNoZUZhY3RvcnkoJ2Zvcm1DYWNoZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFnZTogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZU1vZGU6ICdsb2NhbFN0b3JhZ2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZSA9IENhY2hlRmFjdG9yeS5nZXQoJ2Zvcm1DYWNoZScpO1xuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhZGVzaG93U2VydmljZS5yZXRyaWV2ZShjYWNoZS5nZXQoJ2N1cnJlbnRQYWdlJyksIGNhY2hlLmdldCgncGVyUGFnZScpLCBjYWNoZS5nZXQoJ29yZGVyQnknKSwgY2FjaGUuZ2V0KCdvcmRlckJ5UmV2ZXJzZScpLCBjYWNoZS5nZXQoJ3F1ZXJ5JykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlZEZvcm1DYWNoZTogZnVuY3Rpb24gcHJvbWlzZWRGb3JtQ2FjaGUoQ2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZUZhY3RvcnkuZ2V0KCdmb3JtQ2FjaGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3RyYWRlc2hvd0VkaXQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3RyYWRlc2hvd3MvOmlkL2VkaXQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdHJhZGVzaG93Vmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZGVzaG93RWRpdENvbnRyb2xsZXIgYXMgY3RybCcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlZERhdGE6IGZ1bmN0aW9uIHByb21pc2VkRGF0YShUcmFkZXNob3csICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHJhZGVzaG93LmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VkTGVhZERhdGE6IGZ1bmN0aW9uIHByb21pc2VkTGVhZERhdGEobGVhZFNlcnZpY2UsICRzdGF0ZVBhcmFtcywgQ2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVLZXkgPSAndHJhZGVzaG93JyArICRzdGF0ZVBhcmFtcy5pZCArICdMZWFkc0Zvcm0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFDYWNoZUZhY3RvcnkuZ2V0KGNhY2hlS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYWNoZUZhY3RvcnkoY2FjaGVLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFnZTogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZU1vZGU6ICdsb2NhbFN0b3JhZ2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGUgPSBDYWNoZUZhY3RvcnkuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWFkU2VydmljZS5yZXRyaWV2ZSgkc3RhdGVQYXJhbXMuaWQsIGNhY2hlLmdldCgnY3VycmVudFBhZ2UnKSwgY2FjaGUuZ2V0KCdwZXJQYWdlJyksIGNhY2hlLmdldCgnb3JkZXJCeScpLCBjYWNoZS5nZXQoJ29yZGVyQnlSZXZlcnNlJyksIGNhY2hlLmdldCgncXVlcnknKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VkRm9ybUNhY2hlOiBmdW5jdGlvbiBwcm9taXNlZEZvcm1DYWNoZShDYWNoZUZhY3RvcnksICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gJ3RyYWRlc2hvdycgKyAkc3RhdGVQYXJhbXMuaWQgKyAnTGVhZHNGb3JtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDYWNoZUZhY3RvcnkuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3RyYWRlc2hvd0NyZWF0ZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdHJhZGVzaG93cy9jcmVhdGUnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvdHJhZGVzaG93Vmlldy5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVHJhZGVzaG93Q3JlYXRlQ29udHJvbGxlciBhcyBjdHJsJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnbGVhZEVkaXQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOicvbGVhZHMvOmlkL2VkaXQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdmlld3MvbGVhZFZpZXcuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xlYWRFZGl0Q29udHJvbGxlciBhcyBjdHJsJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWREYXRhOiBmdW5jdGlvbiBsZWFkRGF0YShMZWFkLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBMZWFkLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5ydW4oZnVuY3Rpb24gKCRodHRwLCBDYWNoZUZhY3RvcnkpIHtcbiAgICAgIGlmICghQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJykpIHtcbiAgICAgICAgbmV3IENhY2hlRmFjdG9yeSgnZGVmYXVsdENhY2hlJywge1xuICAgICAgICAgICAgbWF4QWdlOiAxNSAqIDYwICogMTAwMCxcbiAgICAgICAgICAgIGNhY2hlRmx1c2hJbnRlcnZhbDogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICBkZWxldGVPbkV4cGlyZTogJ2FnZ3Jlc3NpdmUnXG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRodHRwLmRlZmF1bHRzLmNhY2hlID0gQ2FjaGVGYWN0b3J5LmdldCgnZGVmYXVsdENhY2hlJyk7XG4gICAgfSlcbiAgICAuZmlsdGVyKCd1bnNhZmUnLCBmdW5jdGlvbigkc2NlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
